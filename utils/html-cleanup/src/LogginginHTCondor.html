<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Logging in HTCondor</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
   <span style="font-size: 200%;"><a 
href="Hooks.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Hooks.html#tailHooks.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailLogginginHTCondor.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="MiscellaneousConcepts.html#LogginginHTCondor.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="GridComputing.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><span class="titlemark">4.5   </span> <a 
 id="x52-4460004.5"></a>Logging in HTCondor</h3>
   <div class="sectionTOCS">
   &#x00A0;&#x00A0;<span class="subsectionToc" >4.5.1 <a 
href="#x52-4470004.5.1">Job and Daemon Logs</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.5.2 <a 
href="#x52-4480004.5.2">DAGMan Logs</a></span>
   </div>
<a 
 id="dx52-446001"></a>
<!--l. 5--><p class="indent" >   HTCondor records many types of information in a variety of logs. Administration may require
locating and using the contents of a log to debug issues. Listed here are details of the logs, to aid in
identification.
<!--l. 11--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.5.1   </span> <a 
 id="x52-4470004.5.1"></a>Job and Daemon Logs</h4>
     <dl class="description"><dt class="description">
job event log </dt><dd 
class="description">The job event log is an optional, chronological list of events that occur as a job runs. The job
     event log is written on the submit machine. The submit description file for the job requests a job event
     log with the submit command <span class="textbf">log</span><a 
 id="dx52-447001"></a>. The log is created and remains on the submit machine. Contents
     of the log are detailed in section&#x00A0;<a 
href="ManagingaJob.html#x18-600002.6.7">2.6.7<!--tex4ht:ref: sec:job-log-events --></a>. Examples of events are that the job is running, that the job is
     placed on hold, or that the job completed.
     </dd><dt class="description">
daemon logs </dt><dd 
class="description">Each daemon configured to have a log writes events relevant to that daemon. Each event
     written consists of a timestamp and message. The name of the log file is set by the value of configuration
     variable <span class="texttt">&#x003C;SUBSYS&#x003E;_LOG</span> <a 
 id="dx52-447002"></a><a 
 id="dx52-447003"></a>, where <span class="texttt">&#x003C;SUBSYS&#x003E;</span> is replaced by the name of the daemon. The log is not
     permitted to grow without bound; log rotation takes place after a configurable maximum size or length
     of time is encountered. This maximum is specified by configuration variable <span class="texttt">MAX_&#x003C;SUBSYS&#x003E;_LOG</span> <a 
 id="dx52-447004"></a><a 
 id="dx52-447005"></a>.
     <!--l. 37--><p class="noindent" >Which events are logged for a particular daemon are determined by the value of configuration variable
     <span class="texttt">&#x003C;SUBSYS&#x003E;_DEBUG</span> <a 
 id="dx52-447006"></a><a 
 id="dx52-447007"></a>. The possible values for <span class="texttt">&#x003C;SUBSYS&#x003E;_DEBUG</span> categorize events, such that it is possible
     to control the level and quantity of events written to the daemon&#8217;s log.
                                                                                         

                                                                                         
     <!--l. 43--><p class="noindent" >Configuration variables that affect daemon logs are
         <dl class="description"><dt class="description">
     <span class="texttt">MAX_NUM_&#x003C;SUBSYS&#x003E;_LOG</span> <a 
 id="dx52-447008"></a><a 
 id="dx52-447009"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">TRUNC_&#x003C;SUBSYS&#x003E;_LOG_ON_OPEN</span> <a 
 id="dx52-447010"></a><a 
 id="dx52-447011"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">&#x003C;SUBSYS&#x003E;_LOG_KEEP_OPEN</span> <a 
 id="dx52-447012"></a><a 
 id="dx52-447013"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">&#x003C;SUBSYS&#x003E;_LOCK</span> <a 
 id="dx52-447014"></a><a 
 id="dx52-447015"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">FILE_LOCK_VIA_MUTEX</span> <a 
 id="dx52-447016"></a><a 
 id="dx52-447017"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">TOUCH_LOG_INTERVAL</span> <a 
 id="dx52-447018"></a><a 
 id="dx52-447019"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">LOGS_USE_TIMESTAMP</span> <a 
 id="dx52-447020"></a><a 
 id="dx52-447021"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">LOG_TO_SYSLOG</span> <a 
 id="dx52-447022"></a><a 
 id="dx52-447023"></a> </dt><dd 
class="description"></dd></dl>
     <!--l. 55--><p class="noindent" >Daemon logs are often investigated to accomplish administrative debugging. <span class="textit">condor_config_val</span> can be used to
     determine the location and file name of the daemon log. For example, to display the location of the log for the
     <span class="textit">condor_collector</span> daemon, use
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-851">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_config_val</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;COLLECTOR_LOG</tspan>
</div>
     <!--l. 62--><p class="nopar" >
     </dd><dt class="description">
job queue log </dt><dd 
class="description">The job queue log is a transactional representation of the current job queue. If the <span class="textit">condor_schedd</span>
     crashes, the job queue can be rebuilt using this log. The file name is set by configuration variable
     <span class="texttt">JOB_QUEUE_LOG</span> <a 
 id="dx52-447024"></a><a 
 id="dx52-447025"></a>, and defaults to <span class="texttt">$(SPOOL)/job_queue.log</span>.
     <!--l. 71--><p class="noindent" >Within the log, each transaction is identified with an integer value and followed where appropriate with other
     values relevant to the transaction. To reduce the size of the log and remove any transactions that are no longer
     relevant, a copy of the log is kept by renaming the log at each time interval defined by configuration
     variable <span class="texttt">QUEUE_CLEAN_INTERVAL</span>, and then a new log is written with only current and relevant
     transactions.
     <!--l. 81--><p class="noindent" >Configuration variables that affect the job queue log are
         <dl class="description"><dt class="description">
     <span class="texttt">SCHEDD_BACKUP_SPOOL</span> <a 
 id="dx52-447026"></a><a 
 id="dx52-447027"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">ROTATE_HISTORY_DAILY</span> <a 
 id="dx52-447028"></a><a 
 id="dx52-447029"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">ROTATE_HISTORY_MONTHLY</span> <a 
 id="dx52-447030"></a><a 
 id="dx52-447031"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">QUEUE_CLEAN_INTERVAL</span> <a 
 id="dx52-447032"></a><a 
 id="dx52-447033"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">MAX_JOB_QUEUE_LOG_ROTATIONS</span> <a 
 id="dx52-447034"></a><a 
 id="dx52-447035"></a> </dt><dd 
class="description"></dd></dl>
     </dd><dt class="description">
<span class="textit">condor_schedd</span> audit log </dt><dd 
class="description">The optional <span class="textit">condor_schedd</span> audit log records user-initiated events that modify the
     job queue, such as invocations of <span class="textit">condor_submit</span>, <span class="textit">condor_rm</span>, <span class="textit">condor_hold</span> and <span class="textit">condor_release</span>. Each event
     has a time stamp and a message that describes details of the event.
     <!--l. 97--><p class="noindent" >This log exists to help administrators track the activities of pool users.
     <!--l. 99--><p class="noindent" >The file name is set by configuration variable <span class="texttt">SCHEDD_AUDIT_LOG</span> <a 
 id="dx52-447036"></a><a 
 id="dx52-447037"></a>.
     <!--l. 101--><p class="noindent" >Configuration variables that affect the audit log are
         <dl class="description"><dt class="description">
     <span class="texttt">MAX_SCHEDD_AUDIT_LOG</span> <a 
 id="dx52-447038"></a><a 
 id="dx52-447039"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">MAX_NUM_SCHEDD_AUDIT_LOG</span> <a 
 id="dx52-447040"></a><a 
 id="dx52-447041"></a> </dt><dd 
class="description"></dd></dl>
                                                                                         

                                                                                         
     </dd><dt class="description">
<span class="textit">condor_shared_port</span> audit log </dt><dd 
class="description">The optional <span class="textit">condor_shared_port</span> audit log records connections made through
     the <span class="texttt">DAEMON_SOCKET_DIR</span> <a 
 id="dx52-447042"></a><a 
 id="dx52-447043"></a>. Each record includes the source address, the socket file name, and the target
     process&#8217;s PID, UID, GID, executable path, and command line.
     <!--l. 113--><p class="noindent" >This log exists to help administrators track the activities of pool users.
     <!--l. 115--><p class="noindent" >The file name is set by configuration variable <span class="texttt">SHARED_PORT_AUDIT_LOG</span> <a 
 id="dx52-447044"></a><a 
 id="dx52-447045"></a>.
     <!--l. 118--><p class="noindent" >Configuration variables that affect the audit log are
         <dl class="description"><dt class="description">
     <span class="texttt">MAX_SHARED_PORT_AUDIT_LOG</span> <a 
 id="dx52-447046"></a><a 
 id="dx52-447047"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">MAX_NUM_SHARED_PORT_AUDIT_LOG</span> <a 
 id="dx52-447048"></a><a 
 id="dx52-447049"></a> </dt><dd 
class="description"></dd></dl>
     </dd><dt class="description">
event log </dt><dd 
class="description">The event log is an optional, chronological list of events that occur for all jobs and all users. The
     events logged are the same as those that would go into a job event log. The file name is set
     by configuration variable <span class="texttt">EVENT_LOG</span> <a 
 id="dx52-447050"></a><a 
 id="dx52-447051"></a>. The log is created only if this configuration variable is
     set.
     <!--l. 132--><p class="noindent" >Configuration variables that affect the event log, setting details such as the maximum size to which this log
     may grow and details of file rotation and locking are
         <dl class="description"><dt class="description">
     <span class="texttt">EVENT_LOG_MAX_SIZE</span> <a 
 id="dx52-447052"></a><a 
 id="dx52-447053"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">EVENT_LOG_MAX_ROTATIONS</span> <a 
 id="dx52-447054"></a><a 
 id="dx52-447055"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">EVENT_LOG_LOCKING</span> <a 
 id="dx52-447056"></a><a 
 id="dx52-447057"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">EVENT_LOG_FSYNC</span> <a 
 id="dx52-447058"></a><a 
 id="dx52-447059"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">EVENT_LOG_ROTATION_LOCK</span> <a 
 id="dx52-447060"></a><a 
 id="dx52-447061"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">EVENT_LOG_JOB_AD_INFORMATION_ATTRS</span> <a 
 id="dx52-447062"></a><a 
 id="dx52-447063"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">EVENT_LOG_USE_XML</span> <a 
 id="dx52-447064"></a><a 
 id="dx52-447065"></a> </dt><dd 
class="description"></dd></dl>
     </dd><dt class="description">
accountant log </dt><dd 
class="description">The accountant log is a transactional representation of the <span class="textit">condor_negotiator</span> daemon&#8217;s
     database of accounting information, which are user priorities. The file name of the accountant log is
     <span class="texttt">$(SPOOL)/Accountantnew.log</span>. Within the log, users are identified by <span class="obeylines-h"><span class="verb">username@uid_domain</span></span>.
     <!--l. 154--><p class="noindent" >To reduce the size and remove information that is no longer relevant, a copy of the log is made when its size
     hits the number of bytes defined by configuration variable <span class="texttt">MAX_ACCOUNTANT_DATABASE_SIZE</span>, and then a new
     log is written in a more compact form.
     <!--l. 159--><p class="noindent" >Administrators can change user priorities kept in this log by using the command line tool <span class="textit">condor_userprio</span>.
                                                                                         

                                                                                         
     </dd><dt class="description">
negotiator match log </dt><dd 
class="description">The negotiator match log is a second daemon log from the <span class="textit">condor_negotiator</span> daemon.
     Events written to this log are those with debug level of <span class="texttt">D_MATCH</span>. The file name is set by configuration variable
     <span class="texttt">NEGOTIATOR_MATCH_LOG</span> <a 
 id="dx52-447066"></a><a 
 id="dx52-447067"></a>, and defaults to <span class="texttt">$(LOG)/MatchLog</span>.
     </dd><dt class="description">
history log </dt><dd 
class="description">This optional log contains information about all jobs that have been completed. It is written by the
     <span class="textit">condor_schedd</span> daemon. The file name is <span class="texttt">$(SPOOL)/history</span>.
     <!--l. 176--><p class="noindent" >Administrators can change view this historical information by using the command line tool <span class="textit">condor_history</span>.
     <!--l. 179--><p class="noindent" >Configuration variables that affect the history log, setting details such as the maximum size to which this log
     may grow are
         <dl class="description"><dt class="description">
     <span class="texttt">ENABLE_HISTORY_ROTATION</span> <a 
 id="dx52-447068"></a><a 
 id="dx52-447069"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">MAX_HISTORY_LOG</span> <a 
 id="dx52-447070"></a><a 
 id="dx52-447071"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">MAX_HISTORY_ROTATIONS</span> <a 
 id="dx52-447072"></a><a 
 id="dx52-447073"></a> </dt><dd 
class="description"></dd></dl>
     </dd></dl>
<!--l. 191--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.5.2   </span> <a 
 id="x52-4480004.5.2"></a>DAGMan Logs</h4>
     <dl class="description"><dt class="description">
default node log </dt><dd 
class="description">A job event log of all node jobs within a single DAG. It is used to enforce the dependencies
     of the DAG.
     <!--l. 199--><p class="noindent" >The file name is set by configuration variable <span class="texttt">DAGMAN_DEFAULT_NODE_LOG</span> <a 
 id="dx52-448001"></a><a 
 id="dx52-448002"></a>, and the full path name of
     this file must be unique while any and all submitted DAGs and other jobs from the submit host run.
     The syntax used in the definition of this configuration variable is different to enable the setting of a
     unique file name. See section&#x00A0;<a 
href="ConfigurationMacros.html#x33-2160003.5.23">3.5.23<!--tex4ht:ref: param:DAGManDefaultNodeLog --></a> for the complete definition.
     <!--l. 207--><p class="noindent" >Configuration variables that affect this log are
         <dl class="description"><dt class="description">
     <span class="texttt">DAGMAN_ALWAYS_USE_NODE_LOG</span> <a 
 id="dx52-448003"></a><a 
 id="dx52-448004"></a> </dt><dd 
class="description"></dd></dl>
     </dd><dt class="description">
the <span class="texttt">.dagman.out</span> file </dt><dd 
class="description">A log created or appended to for each DAG submitted with timestamped events and extra
     information about the configuration applied to the DAG. The name of this log is formed by
     appending <span class="texttt">.dagman.out</span> to the name of the DAG input file. The file remains after the DAG
     completes.
                                                                                         

                                                                                         
     <!--l. 218--><p class="noindent" >This log may be helpful in debugging what has happened in the execution of a DAG, as well as help to
     determine the final state of the DAG.
     <!--l. 221--><p class="noindent" >Configuration variables that affect this log are
         <dl class="description"><dt class="description">
     <span class="texttt">DAGMAN_VERBOSITY</span> <a 
 id="dx52-448005"></a><a 
 id="dx52-448006"></a> </dt><dd 
class="description">
         </dd><dt class="description">
     <span class="texttt">DAGMAN_PENDING_REPORT_INTERVAL</span> <a 
 id="dx52-448007"></a><a 
 id="dx52-448008"></a> </dt><dd 
class="description"></dd></dl>
     </dd><dt class="description">
the <span class="texttt">jobstate.log</span> file </dt><dd 
class="description">This optional, machine-readable log enables automated monitoring of DAG. Section&#x00A0;<a 
href="DAGManApplications.html#x22-1110002.10.14">2.10.14<!--tex4ht:ref: sec:DAGJobstateLog --></a>
     details this log.
     </dd></dl>
<a 
 id="dx52-448009"></a>
                                                                                         

                                                                                         
<!--l. 129--><p class="indent" >   <span style="font-size: 200%;"><a 
href="Hooks.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Hooks.html#tailHooks.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="LogginginHTCondor.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="MiscellaneousConcepts.html#LogginginHTCondor.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="GridComputing.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailLogginginHTCondor.html"></a>  
</body></html> 
