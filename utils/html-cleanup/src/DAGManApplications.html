<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>DAGMan Applications</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
   <span style="font-size: 200%;"><a 
href="ParallelApplicationsIncludingMPIApplications.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="ParallelApplicationsIncludingMPIApplications.html#tailParallelApplicationsIncludingMPIApplications.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailDAGManApplications.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="UsersManual.html#DAGManApplications.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="VirtualMachineApplications.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><span class="titlemark">2.10   </span> <a 
 id="x22-750002.10"></a>DAGMan Applications</h3>
   <div class="sectionTOCS">
   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.1 <a 
href="#x22-760002.10.1">DAGMan Terminology</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.2 <a 
href="#x22-770002.10.2">The DAG Input File: Basic Commands</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-780002.10.2" id="QQ2-22-82">JOB</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-790002.10.2" id="QQ2-22-83">DATA</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-800002.10.2" id="QQ2-22-84">PARENT &#x2026;CHILD</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-810002.10.2" id="QQ2-22-85">SCRIPT</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-820002.10.2" id="QQ2-22-88">PRE_SKIP</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.3 <a 
href="#x22-830002.10.3">Command Order</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.4 <a 
href="#x22-840002.10.4">Node Job Submit File Contents</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.5 <a 
href="#x22-850002.10.5">DAG Submission</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-860002.10.5" id="QQ2-22-92">DAG Throttling</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.6 <a 
href="#x22-870002.10.6">File Paths in DAGs</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.7 <a 
href="#x22-880002.10.7">DAG Monitoring and DAG Removal</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.8 <a 
href="#x22-890002.10.8">Suspending a Running DAG</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.9 <a 
href="#x22-900002.10.9">Advanced Features of DAGMan</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-910002.10.9" id="QQ2-22-97">Retrying Failed Nodes</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-920002.10.9" id="QQ2-22-98">Stopping the Entire DAG</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-930002.10.9" id="QQ2-22-99">Variable Values Associated with Nodes</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-940002.10.9" id="QQ2-22-100">Setting Priorities for Nodes</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-950002.10.9" id="QQ2-22-101">Throttling Nodes by Category</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-960002.10.9" id="QQ2-22-102">Configuration Specific to a DAG</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-970002.10.9" id="QQ2-22-103">Setting ClassAd attributes in the DAG file</a></span>
                                                                                         

                                                                                         
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-980002.10.9" id="QQ2-22-104">Optimization of Submission Time</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-990002.10.9" id="QQ2-22-105">Single Submission of Multiple, Independent DAGs</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-1000002.10.9" id="QQ2-22-106">INCLUDE</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-1010002.10.9" id="QQ2-22-107">Composing workflows from multiple DAG files</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-1020002.10.9" id="QQ2-22-108">A DAG Within a DAG Is a SUBDAG</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-1030002.10.9" id="QQ2-22-109">DAG Splicing</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-1040002.10.9" id="QQ2-22-114">DAG Splice Connections</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-1050002.10.9" id="QQ2-22-116">FINAL node</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x22-1060002.10.9" id="QQ2-22-117">The ALL_NODES option</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.10 <a 
href="#x22-1070002.10.10">The Rescue DAG</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.11 <a 
href="#x22-1080002.10.11">DAG Recovery</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.12 <a 
href="#x22-1090002.10.12">Visualizing DAGs with <span class="textit">dot</span></a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.13 <a 
href="#x22-1100002.10.13">Capturing the Status of Nodes in a File</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.14 <a 
href="#x22-1110002.10.14">A Machine-Readable Event History, the jobstate.log File</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.15 <a 
href="#x22-1120002.10.15">Status Information for the DAG in a ClassAd</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.16 <a 
href="#x22-1130002.10.16">Utilizing the Power of DAGMan for Large Numbers of Jobs</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.17 <a 
href="#x22-1140002.10.17">Workflow Metrics</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10.18 <a 
href="#x22-1150002.10.18">DAGMan and Accounting Groups</a></span>
   </div>
<a 
 id="dx22-75001"></a>
<a 
 id="dx22-75002"></a>
<a 
 id="dx22-75003"></a>
<a 
 id="dx22-75004"></a>
<!--l. 9--><p class="indent" >   A directed acyclic graph (DAG) can be used to represent a set of computations where the input, output, or
execution of one or more computations is dependent on one or more other computations. The computations are
nodes (vertices) in the graph, and the edges (arcs) identify the dependencies. HTCondor finds machines for the
execution of programs, but it does not schedule programs based on dependencies. The Directed Acyclic Graph
Manager (DAGMan) is a meta-scheduler for the execution of programs (computations). DAGMan submits the
programs to HTCondor in an order represented by a DAG and processes the results. A <span class="emph">DAG input file</span> describes the
DAG.
<!--l. 22--><p class="indent" >   DAGMan is itself executed as a scheduler universe job within HTCondor. It submits the HTCondor jobs within
                                                                                         

                                                                                         
nodes in such a way as to enforce the DAG&#8217;s dependencies. DAGMan also handles recovery and reporting on the
HTCondor jobs.
<!--l. 30--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.1   </span> <a 
 id="x22-760002.10.1"></a>DAGMan Terminology</h4>
<a 
 id="dx22-76001"></a>
<!--l. 34--><p class="noindent" >A node within a DAG may encompass more than a single program submitted to run under HTCondor. Figure&#x00A0;<a 
href="#x22-760021">2.1<!--tex4ht:ref: fig:dagman-node --></a>
illustrates the elements of a node.
<!--l. 38--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                         

                                                                                         
<a 
 id="x22-760021"></a>
                                                                                         

                                                                                         
<!--l. 52--><p class="noindent" ><object data="ref-1.svg" width="231.63933 " height="231.63933 " type="image/svg+xml"><p>SVG-Viewer needed.</p></object>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;2.1: </span><span  
class="content">One Node within a DAG</span></div><!--tex4ht:label?: x22-760021 -->
                                                                                         

                                                                                         
<!--l. 54--><p class="indent" >   </div><hr class="endfigure">
<!--l. 56--><p class="indent" >   More than one HTCondor job may belong to a single node. All HTCondor jobs within a node must be within a
single cluster, as given by the job ClassAd attribute <span class="texttt">ClusterId</span>.
<!--l. 69--><p class="indent" >   <span class="emph">DAGMan enforces the dependencies within a DAG using the events recorded in a separate file that is specified by
the default configuration. If the exact same DAG were to be submitted more than once, such that these DAGs were
running at the same time, expected them to fail in unpredictable and unexpected ways. They would all be using the
same single file to enforce dependencies. </span>
<!--l. 71--><p class="indent" >   As DAGMan schedules and submits jobs within nodes to HTCondor, these jobs are defined to succeed or fail
based on their return values. This success or failure is propagated in well-defined ways to the level of a node within a
DAG. Further progression of computation (towards completing the DAG) is based upon the success or failure of
nodes.
<!--l. 80--><p class="indent" >   The failure of a single job within a cluster of multiple jobs (within a single node) causes the entire cluster of jobs
to fail. Any other jobs within the failed cluster of jobs are immediately removed. Each node within a DAG may be
further constrained to succeed or fail based upon the return values of a PRE script and/or a POST
script.
   <h4 class="subsectionHead"><span class="titlemark">2.10.2   </span> <a 
 id="x22-770002.10.2"></a>The DAG Input File: Basic Commands</h4>
<a 
 id="dx22-77001"></a>
<!--l. 94--><p class="noindent" >The input file used by DAGMan is called a DAG input file. It specifies the nodes of the DAG as well as the
dependencies that order the DAG. All items are optional, except that there must be at least one <span class="textit">JOB</span>
item.
<!--l. 100--><p class="indent" >   Comments may be placed in the DAG input file. The pound character (<span class="obeylines-h"><span class="verb">#</span></span>) as the first character on a line
identifies the line as a comment. Comments do not span lines.
<!--l. 105--><p class="indent" >   A simple diamond-shaped DAG, as shown in Figure&#x00A0;<a 
href="#x22-770022">2.2<!--tex4ht:ref: fig:dagman-diamond --></a> is presented as a starting point for examples. This DAG
contains 4 nodes.
<!--l. 110--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                         

                                                                                         
<a 
 id="x22-770022"></a>
                                                                                         

                                                                                         
<!--l. 126--><p class="noindent" ><object data="ref-2.svg" width="123.85487 " height="103.49321 " type="image/svg+xml"><p>SVG-Viewer needed.</p></object>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;2.2: </span><span  
class="content">Diamond DAG</span></div><!--tex4ht:label?: x22-770022 -->
                                                                                         

                                                                                         
<!--l. 128--><p class="indent" >   </div><hr class="endfigure">
<!--l. 131--><p class="indent" >   A very simple DAG input file for this diamond-shaped DAG is
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-145">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;File</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;diamond.dag</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D</tspan>
</div>
<!--l. 143--><p class="nopar" >
<!--l. 146--><p class="indent" >   A set of basic commands appearing in a DAG input file is described below.
   <h5 class="subsubsectionHead"><a 
 id="x22-780002.10.2"></a>JOB</h5>
<a 
 id="dx22-78001"></a>
<!--l. 154--><p class="noindent" >The <span class="textit">JOB</span> command specifies an HTCondor job. The syntax used for each <span class="textit">JOB</span> command is
<!--l. 157--><p class="indent" >   <span class="textbf">JOB</span> <span class="textit">JobName</span> <span class="textit">SubmitDescriptionFileName</span> [<span class="textbf">DIR&#x00A0;&#x00A0;</span><span class="textit">directory</span>] [<span class="textbf">NOOP</span>] [<span class="textbf">DONE</span>]
<!--l. 160--><p class="indent" >   A <span class="textit">JOB</span> entry maps a <span class="textit">JobName</span> to an HTCondor submit description file. The <span class="textit">JobName</span> uniquely identifies nodes
within the DAG input file and in output messages. Each node name, given by <span class="textit">JobName</span>, within the DAG must be
unique. The <span class="textit">JOB</span> entry must appear within the DAG input file before other items that reference the
node.
<!--l. 167--><p class="indent" >   The keywords <span class="textit">JOB</span>, <span class="textit">DIR</span>, <span class="textit">NOOP</span>, and <span class="textit">DONE</span> are not case sensitive. Therefore, <span class="textit">DONE</span>, <span class="textit">Done</span>, and <span class="textit">done</span> are all
equivalent. The values defined for <span class="textit">JobName</span> and <span class="textit">SubmitDescriptionFileName</span> are case sensitive, as file names in a
file system are case sensitive. The <span class="textit">JobName</span> can be any string that contains no white space, except for the strings
<span class="textit">PARENT</span> and <span class="textit">CHILD</span> (in upper, lower, or mixed case). <span class="textit">JobName</span> also cannot contain special characters (<span class="textit">&#8217;.&#8217;</span>, <span class="textit">&#8217;+&#8217;</span>)
which are reserved for system use.
<!--l. 178--><p class="indent" >   Note that <span class="textit">DIR</span>, <span class="textit">NOOP</span>, and <span class="textit">DONE</span>, if used, must appear in the order shown above.
<!--l. 181--><p class="indent" >   The optional <span class="textit">DIR</span> keyword specifies a working directory for this node, from which the HTCondor job will be
submitted, and from which a <span class="textit">PRE</span> and/or <span class="textit">POST</span> script will be run. If a relative directory is specified, it is relative
to the current working directory as the DAG is submitted. Note that a DAG containing <span class="textit">DIR</span> specifications cannot
be run in conjunction with the <span class="textit">-usedagdir</span> command-line argument to <span class="textit">condor_submit_dag</span>. A "full" rescue DAG
generated by a DAG run with the <span class="textit">-usedagdir</span> argument will contain DIR specifications, so such a rescue
DAG must be run <span class="emph">without</span> the <span class="textit">-usedagdir</span> argument. (Note that "full" rescue DAGs are no longer the
default.)
<!--l. 197--><p class="indent" >   The optional <span class="textit">NOOP</span> keyword identifies that the HTCondor job within the node is not to be submitted to
HTCondor. This optimization is useful in cases such as debugging a complex DAG structure, where some of the
individual jobs are long-running. For this debugging of structure, some jobs are marked as <span class="textit">NOOP</span>s,
                                                                                         

                                                                                         
and the DAG is initially run to verify that the control flow through the DAG is correct. The <span class="textit">NOOP</span>
keywords are then removed before submitting the DAG. Any PRE and POST scripts for jobs specified
with <span class="textit">NOOP</span> <span class="emph">are</span> executed; to avoid running the PRE and POST scripts, comment them out. The job
that is not submitted to HTCondor is given a return value that indicates success, such that the node
may also succeed. Return values of any PRE and POST scripts may still cause the node to fail. Even
though the job specified with <span class="textit">NOOP</span> is not submitted, its submit description file must exist; the log file
for the job is used, because DAGMan generates dummy submission and termination events for the
job.
<!--l. 218--><p class="indent" >   The optional <span class="textit">DONE</span> keyword identifies a node as being already completed. This is mainly used by Rescue DAGs
generated by DAGMan itself, in the event of a failure to complete the workflow. Nodes with the <span class="textit">DONE</span> keyword are
not executed when the Rescue DAG is run, allowing the workflow to pick up from the previous endpoint. Users
should generally not use the <span class="textit">DONE</span> keyword. The <span class="textit">NOOP</span> keyword is more flexible in avoiding the execution of a job
within a node. Note that, for any node marked <span class="textit">DONE</span> in a DAG, all of its parents must also be marked
<span class="textit">DONE</span>; otherwise, a fatal error will result. The <span class="textit">DONE</span> keyword applies to the entire node. A node
marked with <span class="textit">DONE</span> will not have a PRE or POST script run, and the HTCondor job will not be
submitted.
<!--l. 235--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-790002.10.2"></a>DATA</h5>
<a 
 id="dx22-79001"></a>
<!--l. 239--><p class="noindent" >As of version 8.3.5, <span class="textit">condor_dagman</span> no longer supports DATA nodes.
<!--l. 242--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-800002.10.2"></a>PARENT &#x2026;CHILD</h5>
<a 
 id="dx22-80001"></a>
<!--l. 246--><p class="noindent" >The <span class="textit">PARENT</span> <span class="textit">CHILD</span> command specifies the dependencies within the DAG. <a 
 id="dx22-80002"></a>Nodes are parents and/or children
within the DAG. A parent node must be completed successfully before any of its children may be started. A child
node may only be started once all its parents have successfully completed.
<!--l. 255--><p class="indent" >   The syntax used for each dependency (PARENT/CHILD) command is
<!--l. 257--><p class="indent" >   <span class="textbf">PARENT</span> <span class="textit">ParentJobName&#x2026;</span> <span class="textbf">CHILD</span> <span class="textit">ChildJobName&#x2026;</span>
<!--l. 259--><p class="indent" >   The <span class="textit">PARENT</span> keyword is followed by one or more <span class="textit">ParentJobName</span>s. The <span class="textit">CHILD</span> keyword is followed by one or
more <span class="textit">ChildJobName</span>s. Each child job depends on every parent job within the line. A single line in the input file can
specify the dependencies from one or more parents to one or more children. The diamond-shaped DAG example may
specify the dependencies with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-146">
<tspan font-family="ectt" font-size="1000">PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan>
</div>
<!--l. 270--><p class="nopar" > An alternative specification for the diamond-shaped DAG may specify some or all of the dependencies on separate
lines:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-147">
<tspan font-family="ectt" font-size="1000">PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan>
</div>
<!--l. 277--><p class="nopar" >
<!--l. 279--><p class="indent" >   As a further example, the line
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-148">
<tspan font-family="ectt" font-size="1000">PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;p1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;p2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;c1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;c2</tspan>
</div>
<!--l. 282--><p class="nopar" > produces four dependencies:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x22-80004x1"><span class="obeylines-h"><span class="verb">p1</span></span> to <span class="obeylines-h"><span class="verb">c1</span></span>
     </li>
     <li 
  class="enumerate" id="x22-80006x2"><span class="obeylines-h"><span class="verb">p1</span></span> to <span class="obeylines-h"><span class="verb">c2</span></span>
     </li>
     <li 
  class="enumerate" id="x22-80008x3"><span class="obeylines-h"><span class="verb">p2</span></span> to <span class="obeylines-h"><span class="verb">c1</span></span>
     </li>
     <li 
  class="enumerate" id="x22-80010x4"><span class="obeylines-h"><span class="verb">p2</span></span> to <span class="obeylines-h"><span class="verb">c2</span></span></li></ol>
<!--l. 292--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-810002.10.2"></a>SCRIPT</h5>
<a 
 id="dx22-81001"></a>
<a 
 id="dx22-81002"></a>
<!--l. 297--><p class="noindent" >The optional <span class="textit">SCRIPT</span> command specifies processing that is done either before a job within a node is submitted or
after a job within a node completes its execution. <a 
 id="dx22-81003"></a>Processing done before a job is submitted is called a <span class="textit">PRE</span> script.
Processing done after a job completes its execution is <a 
 id="dx22-81004"></a>called a <span class="textit">POST</span> script. Note that the executable specified does
not necessarily have to be a shell script (Unix) or batch file (Windows); but it should be relatively
light weight because it will be run directly on the submit machine, not submitted as an HTCondor
job.
<!--l. 313--><p class="indent" >   The syntax used for each <span class="textit">PRE</span> or <span class="textit">POST</span> command is
<!--l. 315--><p class="indent" >   <span class="textbf">SCRIPT</span> [<span class="textbf">DEFER&#x00A0;&#x00A0;</span><span class="textit">status time</span>] <span class="textbf">PRE</span> <span class="textit">JobName</span>|<span class="textbf">ALL_NODES</span> <span class="textit">ExecutableName</span> [<span class="textit">arguments</span>]
<!--l. 319--><p class="indent" >   <span class="textbf">SCRIPT</span> [<span class="textbf">DEFER&#x00A0;&#x00A0;</span><span class="textit">status time</span>] <span class="textbf">POST</span> <span class="textit">JobName</span>|<span class="textbf">ALL_NODES</span> <span class="textit">ExecutableName</span> [<span class="textit">arguments</span>]
<!--l. 323--><p class="indent" >   The <span class="textit">SCRIPT</span> command uses the <span class="textit">PRE</span> or <span class="textit">POST</span> keyword, which specifies the relative timing of when the script
is to be run. The <span class="textit">JobName</span> identifies the node to which the script is attached. The <span class="textit">ExecutableName</span> specifies the
executable (e.g., shell script or batch file) to be executed, and may not contain spaces. The optional <span class="textit">arguments</span> are
command line arguments to the script, and spaces delimit the arguments. Both <span class="textit">ExecutableName</span> and optional
<span class="textit">arguments</span> are case sensitive.
                                                                                         

                                                                                         
<!--l. 335--><p class="indent" >   Scripts are executed on the submit machine; the submit machine is not necessarily the same machine upon
which the node&#8217;s job is run. Further, a single cluster of HTCondor jobs may be spread across several
machines.
<!--l. 341--><p class="indent" >   The optional <span class="textit">DEFER</span> feature causes a retry of only the script, if the execution of the script exits with the
exit code given by <span class="textit">status</span>. The retry occurs after at least <span class="textit">time</span> seconds, rather than being considered
failed. While waiting for the retry, the script does not count against a <span class="textit">maxpre</span> or <span class="textit">maxpost</span> limit. The
ordering of the <span class="textit">DEFER</span> feature within the <span class="textit">SCRIPT</span> specification is fixed. It must come directly after the
<span class="textit">SCRIPT</span> keyword; this is done to avoid backward compatibility issues for any DAG with a <span class="textit">JobName</span> of
DEFER.
<!--l. 354--><p class="indent" >   A PRE script is commonly used to place files in a staging area for the jobs to use. A POST script is commonly
used to clean up or remove files once jobs are finished running. An example uses PRE and POST scripts to stage
files that are stored on tape. The PRE script reads compressed input files from the tape drive, uncompresses them,
and places the resulting files in the current directory. The HTCondor jobs can then use these files, producing output
files. The POST script compresses the output files, writes them out to the tape, and then removes both the staged
files and the output files.
<!--l. 367--><p class="indent" >   If the PRE script fails, then the HTCondor job associated with the node is not submitted, and (as of version
8.5.4) the POST script is not run either (by default). However, if the job is submitted, and there is a POST script,
the POST script is always run once the job finishes. (The behavior when the PRE script fails may may be changed
to run the POST script by setting configuration variable <span class="texttt">DAGMAN_ALWAYS_RUN_POST</span> to <span class="texttt">True</span> or by passing the
<span class="textbf">-AlwaysRunPost</span> argument to <span class="textit">condor_submit_dag</span>.)
<!--l. 379--><p class="indent" >   Progress towards completion of the DAG is based upon the success of the nodes within the DAG. The success of
a node is based upon the success of the job(s), PRE script, and POST script. A job, PRE script, or POST script
with an exit value not equal to 0 is considered failed. <span class="textbf">The exit value of whatever component of the node was
run last determines the success or failure of the node.</span> Table&#x00A0;<a 
href="#x22-810051">2.1<!--tex4ht:ref: NodeS-F --></a> lists the definition of node success and
failure for all variations of script and job success and failure, when <span class="texttt">DAGMAN_ALWAYS_RUN_POST</span> is set to <span class="texttt">False</span>. In this
table, a dash (<span class="texttt">-</span>) represents the case where a script does not exist for the DAG, <span class="textbf">S</span> represents success, and <span class="textbf">F</span>
represents failure.
<!--l. 394--><p class="indent" >   Table&#x00A0;<a 
href="#x22-810062">2.2<!--tex4ht:ref: NodeS-F-ARP --></a> lists the definition of node success and failure only for the cases where the PRE script fails, when
<span class="texttt">DAGMAN_ALWAYS_RUN_POST</span> is set to <span class="texttt">True</span>.
<div class="center" 
>
<!--l. 411--><p class="noindent" >
<div class="table">
                                                                                         

                                                                                         
<!--l. 412--><p class="noindent" ><a 
 id="x22-810051"></a><hr class="float"><div class="float" 
> <!--tex4ht:inline--><div class="tabular"> <table id="TBL-4" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-4-1g"><col 
id="TBL-4-1"></colgroup><colgroup id="TBL-4-2g"><col 
id="TBL-4-2"></colgroup><colgroup id="TBL-4-3g"><col 
id="TBL-4-3"></colgroup><colgroup id="TBL-4-4g"><col 
id="TBL-4-4"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-1-1"  
class="td11">PRE</td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-1-2"  
class="td11"> JOB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-1-3"  
class="td11"> POST </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-1-4"  
class="td11"><span class="textbf">Node</span></td></tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-2-1"  
class="td11"> - </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-2-2"  
class="td11"> S </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-2-3"  
class="td11"> - </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-2-4"  
class="td11"> <span class="textbf">S</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-3-1"  
class="td11">  -   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-3-2"  
class="td11">   F    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-3-3"  
class="td11">   -    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-3-4"  
class="td11">  <span class="textbf">F</span>   </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-4-1"  
class="td11"> - </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-4-2"  
class="td11"> S </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-4-3"  
class="td11"> S </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-4-4"  
class="td11"> <span class="textbf">S</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-5-1"  
class="td11">  -   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-5-2"  
class="td11">   S    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-5-3"  
class="td11">   F    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-5-4"  
class="td11">  <span class="textbf">F</span>   </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-6-1"  
class="td11"> - </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-6-2"  
class="td11"> F </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-6-3"  
class="td11"> S </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-6-4"  
class="td11"> <span class="textbf">S</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-7-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-7-1"  
class="td11">  -   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-7-2"  
class="td11">   F    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-7-3"  
class="td11">   F    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-7-4"  
class="td11">  <span class="textbf">F</span>   </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-8-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-8-1"  
class="td11"> S </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-8-2"  
class="td11"> S </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-8-3"  
class="td11"> - </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-8-4"  
class="td11"> <span class="textbf">S</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-9-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-9-1"  
class="td11">  S   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-9-2"  
class="td11">   F    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-9-3"  
class="td11">   -    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-9-4"  
class="td11">  <span class="textbf">F</span>   </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-10-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-10-1"  
class="td11"> S </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-10-2"  
class="td11"> S </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-10-3"  
class="td11"> S </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-10-4"  
class="td11"> <span class="textbf">S</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-11-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-11-1"  
class="td11">  S   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-11-2"  
class="td11">   S    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-11-3"  
class="td11">   F    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-11-4"  
class="td11">  <span class="textbf">F</span>   </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-12-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-12-1"  
class="td11"> S </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-12-2"  
class="td11"> F </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-12-3"  
class="td11"> S </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-12-4"  
class="td11"> <span class="textbf">S</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-13-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-13-1"  
class="td11">  S   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-13-2"  
class="td11">   F    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-13-3"  
class="td11">   F    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-13-4"  
class="td11">  <span class="textbf">F</span>   </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-14-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-14-1"  
class="td11"> F </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-14-2"  
class="td11">not run</td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-14-3"  
class="td11"> - </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-14-4"  
class="td11"> <span class="textbf">F</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-15-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-15-1"  
class="td11">  F   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-15-2"  
class="td11">not run</td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-15-3"  
class="td11">not run</td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-15-4"  
class="td11">  <span class="textbf">F</span>   </td></tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-16-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-16-1"  
class="td11"> </td></tr></table>
</div>
<br /> <div class="caption" 
><span class="id">Table&#x00A0;2.1: </span><span  
class="content">Node success or failure definition with <span class="texttt">DAGMAN_ALWAYS_RUN_POST = False (the default)</span> </span></div><!--tex4ht:label?: x22-810051 -->
</div><hr class="endfloat" />
</div>
</div>
<div class="center" 
>
<!--l. 436--><p class="noindent" >
<div class="table">
<!--l. 437--><p class="noindent" ><a 
 id="x22-810062"></a><hr class="float"><div class="float" 
> <!--tex4ht:inline--><div class="tabular"> <table id="TBL-5" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-5-1g"><col 
id="TBL-5-1"></colgroup><colgroup id="TBL-5-2g"><col 
id="TBL-5-2"></colgroup><colgroup id="TBL-5-3g"><col 
id="TBL-5-3"></colgroup><colgroup id="TBL-5-4g"><col 
id="TBL-5-4"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-1-1"  
class="td11">PRE</td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-1-2"  
class="td11"> JOB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-1-3"  
class="td11">POST</td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-1-4"  
class="td11"><span class="textbf">Node</span></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-2-1"  
class="td11"> F </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-5-2-2"  
class="td11">not run</td> <td  style="white-space:nowrap; text-align:center;" id="TBL-5-2-3"  
class="td11"> - </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-5-2-4"  
class="td11"> <span class="textbf">F</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-3-1"  
class="td11">  F   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-3-2"  
class="td11">not run</td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-3-3"  
class="td11">  S   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-3-4"  
class="td11">  <span class="textbf">S</span>   </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-4-1"  
class="td11"> F </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-5-4-2"  
class="td11">not run</td> <td  style="white-space:nowrap; text-align:center;" id="TBL-5-4-3"  
class="td11"> F </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-5-4-4"  
class="td11"> <span class="textbf">F</span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-5-1"  
class="td11">     </td></tr></table></div>
<br /> <div class="caption" 
><span class="id">Table&#x00A0;2.2: </span><span  
class="content">Node <span class="textbf">S</span>uccess or <span class="textbf">F</span>ailure definition with <span class="texttt">  DAGMAN_ALWAYS_RUN_POST = True</span> </span></div><!--tex4ht:label?: x22-810062 -->
</div><hr class="endfloat" />
</div>
</div>
<!--l. 449--><p class="indent" >   <span class="textbf">Special script argument macros</span>
<!--l. 451--><p class="indent" >   The five macros <span class="texttt">$JOB</span>, <span class="texttt">$RETRY</span>, <span class="texttt">$MAX_RETRIES</span>, <span class="texttt">$DAG_STATUS</span> and <span class="texttt">$FAILED_COUNT</span> can be used within the DAG
input file as arguments passed to a PRE or POST script. The three macros <span class="texttt">$JOBID</span>, <span class="texttt">$RETURN</span>, and
<span class="texttt">$PRE_SCRIPT_RETURN</span> can be used as arguments to POST scripts. The use of these variables is limited to being used
as an individual command line <span class="textit">argument</span> to the script, surrounded by spaces, in order to cause the substitution of
the variable&#8217;s value.
<!--l. 463--><p class="indent" >   The special macros are as follows:
                                                                                         

                                                                                         
     <ul class="itemize1">
     <li class="itemize"><a 
 id="dx22-81007"></a> <span class="texttt">$JOB</span> evaluates to the (case sensitive) string defined for <span class="textit">JobName</span>.
     </li>
     <li class="itemize"><a 
 id="dx22-81008"></a> <span class="texttt">$RETRY</span> evaluates to an integer value set to 0 the first time a node is run, and is incremented each
     time the node is retried. See section&#x00A0;<a 
href="#x22-910002.10.9">2.10.9<!--tex4ht:ref: dagman:retry --></a> for the description of how to cause nodes to be retried.
     </li>
     <li class="itemize"><a 
 id="dx22-81009"></a> <span class="texttt">$MAX_RETRIES</span> evaluates to an integer value set to the maximum number of retries for the node. See
     section&#x00A0;<a 
href="#x22-910002.10.9">2.10.9<!--tex4ht:ref: dagman:retry --></a> for the description of how to cause nodes to be retried. If no retries are set for the node,
     <span class="texttt">$MAX_RETRIES</span> will be set to 0.
     </li>
     <li class="itemize"><a 
 id="dx22-81010"></a> <a 
 id="dx22-81011"></a><a 
 id="dx22-81012"></a> <span class="texttt">$JOBID</span> (for POST scripts only) evaluates to a representation of the HTCondor job ID of the node
     job. It is the value of the job ClassAd attribute <span class="texttt">ClusterId</span>, followed by a period, and then followed
     by the value of the job ClassAd attribute <span class="texttt">ProcId</span>. An example of a job ID might be 1234.0. For nodes
     with multiple jobs in the same cluster, the <span class="texttt">ProcId</span> value is the one of the last job within the cluster.
     </li>
     <li class="itemize"><a 
 id="dx22-81013"></a> <span class="texttt">$RETURN</span> (for POST scripts only) variable evaluates to the return value of the HTCondor job, if there
     is a single job within a cluster. With multiple jobs within the same cluster, there are two cases to
     consider. In the first case, all jobs within the cluster are successful; the value of <span class="texttt">$RETURN</span> will be 0,
     indicating success. In the second case, one or more jobs from the cluster fail. When <span class="textit">condor_dagman</span>
     sees the first terminated event for a job that failed, it assigns that job&#8217;s return value as the value of
     <span class="texttt">$RETURN</span>, and it attempts to remove all remaining jobs within the cluster. Therefore, if multiple jobs
     in the cluster fail with different exit codes, a race condition determines which exit code gets assigned
     to <span class="texttt">$RETURN</span>.
     <!--l. 513--><p class="noindent" >A job that dies due to a signal is reported with a <span class="texttt">$RETURN</span> value representing the additive inverse
     of the signal number. For example, SIGKILL (signal 9) is reported as -9. A job whose batch system
     submission fails is reported as -1001. A job that is externally removed from the batch system queue
     (by something other than <span class="textit">condor_dagman</span>) is reported as -1002.
     </li>
     <li class="itemize"><a 
 id="dx22-81014"></a> <span class="texttt">$PRE_SCRIPT_RETURN</span> (for POST scripts only) variable evaluates to the return value of the PRE
     script of a node, if there is one. If there is no PRE script, this value will be -1. If the node job was
     skipped because of failure of the PRE script, the value of <span class="texttt">$RETURN</span> will be -1004 and the value of
     <span class="texttt">$PRE_SCRIPT_RETURN</span> will be the exit value of the PRE script; the POST script can use this to see if
     the PRE script exited with an error condition, and assign success or failure to the node, as appropriate.
<a 
 id="dx22-81015"></a>
     </li>
     <li class="itemize"><span class="texttt">$DAG_STATUS</span> is the status of the DAG. Note that this macro&#8217;s value and definition is unrelated to the
     attribute named <span class="texttt">DagStatus</span> as defined for use in a node status file. This macro&#8217;s value is the same as the job
     ClassAd attribute <span class="texttt">DAG_Status</span> that is defined within the <span class="textit">condor_dagman</span> job&#8217;s ClassAd. This macro may have
     the following values:
         <ul class="itemize2">
         <li class="itemize">0: OK
                                                                                         

                                                                                         
         </li>
         <li class="itemize">1: error; an error condition different than those listed here
         </li>
         <li class="itemize">2: one or more nodes in the DAG have failed
         </li>
         <li class="itemize">3: the DAG has been aborted by an ABORT-DAG-ON specification
         </li>
         <li class="itemize">4: removed; the DAG has been removed by <span class="textit">condor_rm</span>
         </li>
         <li class="itemize">5: cycle; a cycle was found in the DAG
         </li>
         <li class="itemize">6: halted; the DAG has been halted (see section &#x00A0;<a 
href="#x22-890002.10.8">2.10.8<!--tex4ht:ref: sec:DagSuspend --></a>)</li></ul>
<a 
 id="dx22-81016"></a>
     </li>
     <li class="itemize"><span class="texttt">$FAILED_COUNT</span> is defined by the number of nodes that have failed in the DAG.
     </li></ul>
<!--l. 560--><p class="indent" >   <span class="textbf">Examples that use PRE or POST scripts</span>
<!--l. 562--><p class="indent" >   Examples use the diamond-shaped DAG. A first example uses a PRE script to expand a compressed file needed
as input to each of the HTCondor jobs of nodes B and C. The DAG input file:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-149">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;File</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;diamond.dag</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SCRIPT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PRE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;pre.csh</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;.gz</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SCRIPT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PRE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;pre.csh</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;.gz</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D</tspan>
</div>
<!--l. 579--><p class="nopar" >
<!--l. 582--><p class="indent" >   The script <span class="texttt">pre.csh</span> uses its command line arguments to form the file name of the compressed file. The script
contains
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-150">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#!/bin/csh</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;gunzip</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$argv[1]$argv[2]</tspan>
</div>
<!--l. 589--><p class="nopar" >
<!--l. 591--><p class="indent" >   Therefore, the PRE script invokes
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-151">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;gunzip</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B.gz</tspan>
</div>
<!--l. 594--><p class="nopar" > for node B, which uncompresses file <span class="texttt">B.gz</span>, placing the result in file <span class="texttt">B</span>.
<!--l. 598--><p class="indent" >   A second example uses the <span class="texttt">$RETURN</span> macro. The DAG input file contains the POST script specification:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-152">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SCRIPT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;POST</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;stage-out</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job_status</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$RETURN</tspan>
</div>
<!--l. 602--><p class="nopar" > If the HTCondor job of node A exits with the value -1, the POST script is invoked as
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-153">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;stage-out</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job_status</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-1</tspan>
</div>
<!--l. 607--><p class="nopar" >
<!--l. 609--><p class="indent" >   The slightly different example POST script specification in the DAG input file
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-154">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SCRIPT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;POST</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;stage-out</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job_status=$RETURN</tspan>
</div>
<!--l. 613--><p class="nopar" > invokes the POST script with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-155">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;stage-out</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job_status=$RETURN</tspan>
</div>
<!--l. 617--><p class="nopar" >
<!--l. 619--><p class="indent" >   This example shows that when there is no space between the <span class="texttt">=</span> sign and the variable <span class="texttt">$RETURN</span>, there is no
substitution of the macro&#8217;s value.
<!--l. 624--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-820002.10.2"></a>PRE_SKIP</h5>
<a 
 id="dx22-82001"></a>
<a 
 id="dx22-82002"></a>
<!--l. 629--><p class="noindent" >The behavior of DAGMan with respect to node success or failure can be changed with the addition of a <span class="textit">PRE_SKIP</span>
command. A <span class="textit">PRE_SKIP</span> line within the DAG input file uses the syntax:
<!--l. 633--><p class="indent" >   <span class="textbf">PRE_SKIP</span> <span class="textit">JobName</span>|<span class="textbf">ALL_NODES</span> <span class="textit">non-zero-exit-code</span>
<!--l. 635--><p class="indent" >   The PRE script of a node identified by <span class="textit">JobName</span> that exits with the value given by <span class="textit">non-zero-exit-code</span> skips the
remainder of the node entirely. Neither the job associated with the node nor the POST script will be executed, and
the node will be marked as successful.
<!--l. 646--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.3   </span> <a 
 id="x22-830002.10.3"></a>Command Order</h4>
<a 
 id="dx22-83001"></a>
<a 
 id="dx22-83002"></a>
<!--l. 651--><p class="noindent" >As of version 8.5.6, commands referencing a <span class="textit">JobName</span> <span class="emph">can</span> come before the JOB command defining that
<span class="textit">JobName</span>.
<!--l. 654--><p class="indent" >   For example, the command sequence
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-156">
<tspan font-family="ectt" font-size="1000">SCRIPT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PRE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;foo.pl</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;state="Wisconsin"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;bar.sub</tspan>
</div>
<!--l. 659--><p class="nopar" > is now legal (it would have been illegal in 8.5.5 and all previous versions).
<!--l. 664--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.4   </span> <a 
 id="x22-840002.10.4"></a>Node Job Submit File Contents</h4>
<a 
 id="dx22-84001"></a>
<!--l. 668--><p class="noindent" >Each node in a DAG may use a unique submit description file. A key limitation is that each HTCondor submit
description file must submit jobs described by a single cluster number; DAGMan cannot deal with a submit
description file producing multiple job clusters.
<!--l. 675--><p class="indent" >   Consider again the diamond-shaped DAG example, where each node job uses the same submit description
file.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-157">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond_job.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond_job.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond_job.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond_job.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan>
</div>
<!--l. 687--><p class="nopar" >
<!--l. 689--><p class="indent" >   Here is a sample HTCondor submit description file for this DAG:
<a 
 id="dx22-84002"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-158">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond_job.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;executable</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/path/diamond.exe</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;output</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.out.$(cluster)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;error</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.err.$(cluster)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;log</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond_condor.log</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;universe</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;vanilla</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;queue</tspan>
</div>
<!--l. 702--><p class="nopar" >
<!--l. 704--><p class="indent" >   Since each node uses the same HTCondor submit description file, this implies that each node within the DAG
runs the same job. The <span class="texttt">$(Cluster)</span> macro produces unique file names for each job&#8217;s output.
<a 
 id="dx22-84003"></a>
<a 
 id="dx22-84004"></a>
<!--l. 712--><p class="indent" >   The job ClassAd attribute <span class="texttt">DAGParentNodeNames</span> is also available for use within the submit description file. It
defines a comma separated list of each <span class="textit">JobName</span> which is a parent node of this job&#8217;s node. This attribute may be
used in the <span class="textbf">arguments</span><a 
 id="dx22-84005"></a> command for all but scheduler universe jobs. For example, if the job has two parents, with
<span class="textit">JobName</span>s B and C, the submit description file command
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-159">
<tspan font-family="ectt" font-size="1000">arguments</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$$([DAGParentNodeNames])</tspan>
</div>
<!--l. 722--><p class="nopar" > will pass the string <span class="texttt">"B,C"</span> as the command line argument when invoking the job.
<!--l. 726--><p class="indent" >   DAGMan supports jobs with queues of multiple procs, so for example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-160">
<tspan font-family="ectt" font-size="1000">queue</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;500</tspan>
</div>
<!--l. 729--><p class="nopar" > will queue 500 procs as expected.
<!--l. 732--><p class="indent" >   Additionally, as of version 8.7.4 DAGMan supports late materialization. To use this functionality, set both
<span class="texttt">SCHEDD_ALLOW_LATE_MATERIALIZATION</span> <a 
 id="dx22-84006"></a><a 
 id="dx22-84007"></a> and <span class="texttt">SUBMIT_FACTORY_JOBS_BY_DEFAULT</span> <a 
 id="dx22-84008"></a><a 
 id="dx22-84009"></a> knobs in your HTCondor
configuration to True. This will have the side effect of submitting all jobs as factory jobs (not just the ones you
explicitly flag) so use this sparingly.
<!--l. 739--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.5   </span> <a 
 id="x22-850002.10.5"></a>DAG Submission</h4>
<a 
 id="dx22-85001"></a>
<!--l. 743--><p class="noindent" >A DAG is submitted using the tool <span class="textit">condor_submit_dag</span>. The manual page&#x00A0;<a 
href="Condorsubmitdag.html#x150-109200012">2235<!--tex4ht:ref: man-condor-submit-dag --></a> details the command. The simplest
of DAG submissions has the syntax
<!--l. 749--><p class="indent" >   <span class="textit">condor_submit_dag</span> <span class="textit">DAGInputFileName</span>
<!--l. 751--><p class="indent" >   and the current working directory contains the DAG input file.
<!--l. 753--><p class="indent" >   The diamond-shaped DAG example may be submitted with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-161">
<tspan font-family="ectt" font-size="1000">condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.dag</tspan>
</div>
<!--l. 757--><p class="nopar" >
<!--l. 759--><p class="indent" >   Do not submit the same DAG, with same DAG input file, from within the same directory, such that more than
one of this same DAG is running at the same time. It will fail in an unpredictable manner, as each instance of this
same DAG will attempt to use the same file to enforce dependencies.
<!--l. 766--><p class="indent" >   To increase robustness and guarantee recoverability, the <span class="textit">condor_dagman</span> process is run as an HTCondor job. As
such, it needs a submit description file. <span class="textit">condor_submit_dag</span> generates this needed submit description file, naming it
by appending <span class="texttt">.condor.sub</span> to the name of the DAG input file. This submit description file may be edited if the
DAG is submitted with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-162">
<tspan font-family="ectt" font-size="1000">condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-no_submit</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.dag</tspan>
</div>
<!--l. 775--><p class="nopar" > causing <span class="textit">condor_submit_dag</span> to create the submit description file, but not submit <span class="textit">condor_dagman</span> to HTCondor.
To submit the DAG, once the submit description file is edited, use
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-163">
<tspan font-family="ectt" font-size="1000">condor_submit</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.dag.condor.sub</tspan>
</div>
<!--l. 783--><p class="nopar" >
<!--l. 785--><p class="indent" >   Submit machines with limited resources are supported by command line options that place limits on the
submission and handling of HTCondor jobs and PRE and POST scripts. Presented here are descriptions of the
command line options to <span class="textit">condor_submit_dag</span>. These same limits can be set in configuration. Each limit is applied
within a single DAG.
<!--l. 794--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-860002.10.5"></a>DAG Throttling</h5>
<a 
 id="dx22-86001"></a>
<!--l. 797--><p class="noindent" ><span class="textbf">Total nodes/clusters:</span> The <span class="textbf">-maxjobs</span> option specifies the maximum number of clusters that <span class="textit">condor_dagman</span> can
submit at one time. Since each node corresponds to a single cluster, this limit restricts the number of nodes that can
be submitted (in the HTCondor queue) at a time. It is commonly used when there is a limited amount of input file
staging capacity. As a specific example, consider a case where each node represents a single HTCondor proc that
requires 4 MB of input files, and the proc will run in a directory with a volume of 100 MB of free space. Using the
argument <span class="textbf">-maxjobs 25</span> guarantees that a maximum of 25 clusters, using a maximum of 100 MB of
space, will be submitted to HTCondor at one time. (See the <span class="textit">condor_submit_dag</span> man page (&#x00A0;<a 
href="Condorsubmitdag.html#x150-109200012">12<!--tex4ht:ref: man-condor-submit-dag --></a>)
for more information. Also see the equivalent <span class="texttt">DAGMAN_MAX_JOBS_SUBMITTED</span> <a 
 id="dx22-86002"></a><a 
 id="dx22-86003"></a> configuration option
(&#x00A0;<a 
href="ConfigurationMacros.html#x33-2120003.5.23">3.5.23<!--tex4ht:ref: param:DAGManMaxJobsSubmitted --></a>).)
<!--l. 818--><p class="indent" >   <span class="textbf">Idle procs:</span> The number of idle procs within a given DAG can be limited with the optional command line
argument <span class="textbf">-maxidle</span>. <span class="textit">condor_dagman</span> will not submit any more node jobs until the number of idle
procs in the DAG goes below this specified value, even if there are ready nodes in the DAG. This
allows <span class="textit">condor_dagman</span> to submit jobs in a way that adapts to the load on the HTCondor pool at any
given time. If the pool is lightly loaded, <span class="textit">condor_dagman</span> will end up submitting more jobs; if the pool
is heavily loaded, <span class="textit">condor_dagman</span> will submit fewer jobs. (See the <span class="textit">condor_submit_dag</span> man page
(&#x00A0;<a 
href="Condorsubmitdag.html#x150-109200012">12<!--tex4ht:ref: man-condor-submit-dag --></a>) for more information. Also see the equivalent <span class="texttt">DAGMAN_MAX_JOBS_IDLE</span> <a 
 id="dx22-86004"></a><a 
 id="dx22-86005"></a> configuration option
(&#x00A0;<a 
href="ConfigurationMacros.html#x33-2120003.5.23">3.5.23<!--tex4ht:ref: param:DAGManMaxJobsIdle --></a>).)
<!--l. 834--><p class="indent" >   Note that the <span class="textbf">-maxjobs</span> option applies to counts of <span class="emph">clusters</span>, whereas the <span class="textbf">-maxidle</span> option applies to
counts of <span class="emph">procs</span>. Unfortunately, this can be a bit confusing. Of course, if none of your submit files
create more than one proc, the distinction doesn&#8217;t matter. For example, though, a node job submit file
that queues 5 procs will count as one for <span class="textbf">-maxjobs</span>, but five for <span class="textbf">-maxidle</span> (if all of the procs are
idle).
<!--l. 843--><p class="indent" >   <span class="textbf">Subsets of nodes:</span> Node submission can also be throttled in a finer-grained manner by grouping nodes into
categories. See section &#x00A0;<a 
href="#x22-950002.10.9">2.10.9<!--tex4ht:ref: sec:DAG-node-category --></a> for more details.
                                                                                         

                                                                                         
<!--l. 848--><p class="indent" >   <span class="textbf">PRE/POST scripts:</span> Since PRE and POST scripts run on the submit machine, it may be desirable to limit the
number of PRE or POST scripts running at one time. The optional <span class="textbf">-maxpre</span> command line argument limits the
number of PRE scripts that may be running at one time, and the optional <span class="textbf">-maxpost</span> command line argument limits
the number of POST scripts that may be running at one time. (See the <span class="textit">condor_submit_dag</span> man page (&#x00A0;<a 
href="Condorsubmitdag.html#x150-109200012">12<!--tex4ht:ref: man-condor-submit-dag --></a>) for
more information. Also see the equivalent <span class="texttt">DAGMAN_MAX_PRE_SCRIPTS</span> <a 
 id="dx22-86006"></a><a 
 id="dx22-86007"></a> (&#x00A0;<a 
href="ConfigurationMacros.html#x33-2120003.5.23">3.5.23<!--tex4ht:ref: param:DAGManMaxPreScripts --></a>) and <span class="texttt">DAGMAN_MAX_POST_SCRIPTS</span> <a 
 id="dx22-86008"></a><a 
 id="dx22-86009"></a>
(&#x00A0;<a 
href="ConfigurationMacros.html#x33-2120003.5.23">3.5.23<!--tex4ht:ref: param:DAGManMaxPostScripts --></a>) configuration options.)
<!--l. 863--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.6   </span> <a 
 id="x22-870002.10.6"></a>File Paths in DAGs</h4>
<a 
 id="dx22-87001"></a>
<!--l. 867--><p class="noindent" ><span class="textit">condor_dagman</span> assumes that all relative paths in a DAG input file and the associated HTCondor submit
description files are relative to the current working directory when <span class="textit">condor_submit_dag</span> is run. This works well for
submitting a single DAG. It presents problems when multiple independent DAGs are submitted with a single
invocation of <span class="textit">condor_submit_dag</span>. Each of these independent DAGs would logically be in its own directory, such
that it could be run or tested independent of other DAGs. Thus, all references to files will be designed to be relative
to the DAG&#8217;s own directory.
<!--l. 886--><p class="indent" >   Consider an example DAG within a directory named <span class="texttt">dag1</span>. There would be a DAG input file, named <span class="texttt">one.dag</span> for
this example. Assume the contents of this DAG input file specify a node job with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-164">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A.submit</tspan>
</div>
<!--l. 891--><p class="nopar" > Further assume that partial contents of submit description file <span class="texttt">A.submit</span> specify
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-165">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;executable</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;programA</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;input</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A.input</tspan>
</div>
<!--l. 897--><p class="nopar" >
<!--l. 899--><p class="indent" >   Directory contents are
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-166">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(directory)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;one.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;programA</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A.input</tspan>
</div>
<!--l. 906--><p class="nopar" >
<!--l. 908--><p class="indent" >   All file paths are correct relative to the <span class="texttt">dag1</span> directory. Submission of this example DAG sets the current working
directory to <span class="texttt">dag1</span> and invokes <span class="textit">condor_submit_dag</span>:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-167">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cd</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;one.dag</tspan>
</div>
<!--l. 914--><p class="nopar" >
<!--l. 916--><p class="indent" >   Expand this example such that there are now two independent DAGs, and each is contained within its own
directory. For simplicity, assume that the DAG in <span class="texttt">dag2</span> has remarkably similar files and file naming as the DAG in
<span class="texttt">dag1</span>. Assume that the directory contents are
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-168">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;parent</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(directory)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(directory)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;one.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;programA</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A.input</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(directory)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;two.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;programB</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B.input</tspan>
</div>
<!--l. 933--><p class="nopar" >
<!--l. 935--><p class="indent" >   The goal is to use a single invocation of <span class="textit">condor_submit_dag</span> to run both dag1 and dag2. The
invocation
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-169">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cd</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;parent</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag1/one.dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag2/two.dag</tspan>
</div>
<!--l. 941--><p class="nopar" > <span class="emph">does not work</span>. Path names are now relative to <span class="texttt">parent</span>, which is <span class="emph">not</span> the desired behavior.
<!--l. 946--><p class="indent" >   The solution is the <span class="textit">-usedagdir</span> command line argument to <span class="textit">condor_submit_dag</span>. This feature runs each DAG as if
<span class="textit">condor_submit_dag</span> had been run in the directory in which the relevant DAG file exists. A working invocation
is
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-170">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cd</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;parent</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-usedagdir</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag1/one.dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag2/two.dag</tspan>
</div>
<!--l. 954--><p class="nopar" >
<!--l. 956--><p class="indent" >   Output files will be placed in the correct directory, and the <span class="texttt">.dagman.out</span> file will also be in the correct
directory. A Rescue DAG file will be written to the current working directory, which is the directory
when <span class="textit">condor_submit_dag</span> is invoked. The Rescue DAG should be run from that same current working
directory. The Rescue DAG includes all the path information necessary to run each node job in the proper
directory.
<!--l. 978--><p class="indent" >   Use of <span class="textit">-usedagdir</span> does <span class="emph">not</span> work in conjunction with a JOB node specification within the DAG input file using
the <span class="textit">DIR</span> keyword. Using both will be detected and generate an error.
<!--l. 984--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.7   </span> <a 
 id="x22-880002.10.7"></a>DAG Monitoring and DAG Removal</h4>
<a 
 id="dx22-88001"></a>
<a 
 id="dx22-88002"></a>
<!--l. 992--><p class="noindent" >After submission, the progress of the DAG can be monitored by looking at the job event log file(s) or observing the
e-mail that job submission to HTCondor causes, or by using <span class="textit">condor_q</span> <span class="textit">-dag</span>.
<!--l. 997--><p class="indent" >   Detailed information about a DAG&#8217;s job progress can be obtained using <span class="textit">condor_q</span> <span class="textit">-l</span> <span class="textit">&#x003C;jobID&#x003E;</span>. This information
is not updated frequently, however, so expect to see stale data. You can increase the frequency of updates
by setting the <span class="texttt">DAGMAN_QUEUE_UPDATE_INTERVAL</span> configuration macro to a lower number, ie. 5 or 10
seconds. Doing so will increase the workload on the <span class="textit">condor_schedd</span>, so be cautious about setting it too
low.
<!--l. 1004--><p class="indent" >   There is also a large amount of information logged in an extra file. The name of this extra file is produced by
appending <span class="texttt">.dagman.out</span> to the name of the DAG input file; for example, if the DAG input file is <span class="texttt">diamond.dag</span>, this
extra file is named <span class="texttt">diamond.dag.dagman.out</span>. If this extra file grows too large, limit its size with the configuration
variable <span class="texttt">MAX_DAGMAN_LOG</span> <a 
 id="dx22-88003"></a><a 
 id="dx22-88004"></a>, as defined in section&#x00A0;<a 
href="ConfigurationMacros.html#x33-1890003.5.2">3.5.2<!--tex4ht:ref: param:MaxSubsysLog --></a>. The <span class="texttt">dagman.out</span> file is an important resource for debugging;
save this file if a problem occurs. The <span class="texttt">dagman.out</span> is appended to, rather than overwritten, with each new DAGMan
run.
<!--l. 1017--><p class="indent" >   To remove an entire DAG, consisting of the <span class="textit">condor_dagman</span> job, plus any jobs submitted to HTCondor, remove
the <span class="textit">condor_dagman</span> job by running <span class="textit">condor_rm</span>. For example,
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-171">
<tspan font-family="ectt" font-size="0800">%</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor_q</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">--</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Submitter:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;turunmaa.cs.wisc.edu</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&#x003C;128.105.175.125:36165&#x003E;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;turunmaa.cs.wisc.edu</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;ID</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;OWNER</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SUBMITTED</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;RUN_TIME</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;ST</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PRI</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SIZE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CMD</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;9.0</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;taylor</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;10/12</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;11:47</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0+00:01:32</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;R</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;8.7</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor_dagman</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;-f</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;-</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;11.0</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;taylor</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;10/12</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;11:48</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0+00:00:00</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;I</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;3.6</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B.out</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;12.0</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;taylor</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;10/12</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;11:48</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0+00:00:00</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;I</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;3.6</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C.out</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;3</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;jobs;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;2</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;idle,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;running,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;held</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">%</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor_rm</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;9.0</tspan>
</div>
<!--l. 1034--><p class="nopar" >
<!--l. 1037--><p class="indent" >   When a <span class="textit">condor_dagman</span> job is removed, all node jobs (including sub-DAGs) of that <span class="textit">condor_dagman</span> will be
removed by the <span class="textit">condor_schedd</span>. As of version 8.5.8, the default is that <span class="textit">condor_dagman</span> itself also removes the
node jobs (to fix a race condition that could result in "orphaned" node jobs). (The <span class="textit">condor_schedd</span>
has to remove the node jobs to deal with the case of removing a <span class="textit">condor_dagman</span> job that has been
held.)
<!--l. 1044--><p class="indent" >   The previous behavior of <span class="textit">condor_dagman</span> itself <span class="emph">not</span> removing the node jobs can be restored by setting the
<span class="texttt">DAGMAN_REMOVE_NODE_JOBS</span> configuration macro (see &#x00A0;<a 
href="ConfigurationMacros.html#x33-2140003.5.23">3.5.23<!--tex4ht:ref: param:DAGManRemoveNodeJobs --></a>) to <span class="texttt">False</span>. This will decrease the load on the
<span class="textit">condor_schedd</span>, at the cost of allowing the possibility of "orphaned" node jobs.
<!--l. 1051--><p class="indent" >   A removed DAG will be considered failed unless the DAG has a FINAL node that succeeds.
<!--l. 1055--><p class="indent" >   In the case where a machine is scheduled to go down, DAGMan will clean up memory and exit. However, it will
leave any submitted jobs in the HTCondor queue.
<!--l. 1062--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.8   </span> <a 
 id="x22-890002.10.8"></a>Suspending a Running DAG</h4>
<a 
 id="dx22-89001"></a>
<!--l. 1066--><p class="noindent" >It may be desired to temporarily suspend a running DAG. For example, the load may be high on the submit
machine, and therefore it is desired to prevent DAGMan from submitting any more jobs until the load goes down.
There are two ways to suspend (and resume) a running DAG.
     <ul class="itemize1">
     <li class="itemize">Use <span class="textit">condor_hold</span>/<span class="textit">condor_release</span> on the <span class="textit">condor_dagman</span> job.
     <!--l. 1075--><p class="noindent" >After placing the <span class="textit">condor_dagman</span> job on hold, no new node jobs will be submitted, and no PRE or
     POST scripts will be run. Any node jobs already in the HTCondor queue will continue undisturbed.
                                                                                         

                                                                                         
     Any running PRE or POST scripts will be killed. If the <span class="textit">condor_dagman</span> job is left on hold, it will
     remain in the HTCondor queue after all of the currently running node jobs are finished. To resume the
     DAG, use <span class="textit">condor_release</span> on the <span class="textit">condor_dagman</span> job.
     <!--l. 1085--><p class="noindent" >Note that while the <span class="textit">condor_dagman</span> job is on hold, no updates will be made to the <span class="texttt">dagman.out</span> file.
     </li>
     <li class="itemize">Use a DAG halt file.
     <!--l. 1090--><p class="noindent" >The second way of suspending a DAG uses the existence of a specially-named file to change the state of
     the DAG. When in this halted state, no PRE scripts will be run, and no node jobs will be submitted.
     Running node jobs will continue undisturbed. A halted DAG will still run POST scripts, and it will
     still update the <span class="texttt">dagman.out</span> file. This differs from behavior of a DAG that is held. Furthermore, a
     halted DAG will not remain in the queue indefinitely; when all of the running node jobs have finished,
     DAGMan will create a Rescue DAG and exit.
     <!--l. 1102--><p class="noindent" >To resume a halted DAG, remove the halt file.
     <!--l. 1104--><p class="noindent" >The specially-named file must be placed in the same directory as the DAG input file. The naming is
     the same as the DAG input file concatenated with the string <span class="texttt">.halt</span>. For example, if the DAG input
     file is <span class="texttt">test1.dag</span>, then <span class="texttt">test1.dag.halt</span> will be the required name of the halt file.
     <!--l. 1111--><p class="noindent" >As any DAG is first submitted with <span class="textit">condor_submit_dag</span>, a check is made for a halt file. If one exists,
     it is removed.</li></ul>
<!--l. 1117--><p class="indent" >   <span class="textbf">Note that neither <span class="textit">condor_hold</span> nor a DAG halt is propagated to sub-DAGs.</span> In other words, if you
<span class="textit">condor_hold</span> or create a halt file for a DAG that has sub-DAGs, any sub-DAGs that are already in the queue will
continue to submit node jobs.
<!--l. 1122--><p class="indent" >   A <span class="textit">condor_hold</span> or DAG halt <span class="emph">does</span>, however, apply to splices, because they are merged into the parent DAG and
controlled by a single <span class="textit">condor_dagman</span> instance.
<!--l. 1127--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.9   </span> <a 
 id="x22-900002.10.9"></a>Advanced Features of DAGMan</h4>
<!--l. 1132--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-910002.10.9"></a>Retrying Failed Nodes</h5>
<a 
 id="dx22-91001"></a>
<a 
 id="dx22-91002"></a>
<!--l. 1136--><p class="noindent" >DAGMan can retry any failed node in a DAG by specifying the node in the DAG input file with the <span class="textit">RETRY </span>
command. The use of retry is optional. The syntax for retry is
<!--l. 1142--><p class="indent" >   <span class="textbf">RETRY</span> <span class="textit">JobName</span>|<span class="textbf">ALL_NODES</span> <span class="textit">NumberOfRetries</span> [<span class="textbf">UNLESS-EXIT&#x00A0;&#x00A0;</span><span class="textit">value</span>]
                                                                                         

                                                                                         
<!--l. 1145--><p class="indent" >   where <span class="textit">JobName</span> identifies the node. <span class="textit">NumberOfRetries</span> is an integer number of times to retry the node after
failure. The implied number of retries for any node is 0, the same as not having a retry line in the file. Retry is
implemented on nodes, not parts of a node.
<!--l. 1152--><p class="indent" >   The diamond-shaped DAG example may be modified to retry node C:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-172">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;File</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;diamond.dag</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Retry</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;3</tspan>
</div>
<!--l. 1166--><p class="nopar" >
<!--l. 1169--><p class="indent" >   If node C is marked as failed for any reason, then it is started over as a first retry. The node will be tried a
second and third time, if it continues to fail. If the node is marked as successful, then further retries do not
occur.
<!--l. 1175--><p class="indent" >   Retry of a node may be short circuited using the optional keyword <span class="textit">UNLESS-EXIT</span>, followed by an integer exit
value. If the node exits with the specified integer exit value, then no further processing will be done on the
node.
<!--l. 1181--><p class="indent" >   The macro <span class="texttt">$RETRY</span> evaluates to an integer value, set to 0 first time a node is run, and is incremented each time
for each time the node is retried. The macro <span class="texttt">$MAX_RETRIES</span> is the value set for <span class="textit">NumberOfRetries</span>. These macros may
be used as arguments passed to a PRE or POST script.
<!--l. 1189--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-920002.10.9"></a>Stopping the Entire DAG</h5>
<a 
 id="dx22-92001"></a>
<a 
 id="dx22-92002"></a>
<!--l. 1193--><p class="noindent" >The <span class="textit">ABORT-DAG-ON</span> command provides a way to abort the entire DAG if a given node returns a specific exit
code. The syntax for <span class="textit">ABORT-DAG-ON</span> is
<!--l. 1197--><p class="indent" >   <span class="textbf">ABORT-DAG-ON</span> <span class="textit">JobName</span>|<span class="textbf">ALL_NODES</span> <span class="textit">AbortExitValue</span> [<span class="textbf">RETURN&#x00A0;&#x00A0;</span><span class="textit">DAGReturnValue</span>]
<!--l. 1200--><p class="indent" >   If the return value of the node specified by <span class="textit">JobName</span> matches <span class="textit">AbortExitValue</span>, the DAG is immediately aborted.
A DAG abort differs from a node failure, in that a DAG abort causes all nodes within the DAG to be
stopped immediately. This includes removing the jobs in nodes that are currently running. A node failure
differs, as it would allow the DAG to continue running, until no more progress can be made due to
dependencies.
<!--l. 1209--><p class="indent" >   The behavior differs based on the existence of PRE and/or POST scripts. If a PRE script returns the
<span class="textit">AbortExitValue</span> value, the DAG is immediately aborted. If the HTCondor job within a node returns the
<span class="textit">AbortExitValue</span> value, the DAG is aborted if the node has no POST script. If the POST script returns the
                                                                                         

                                                                                         
<span class="textit">AbortExitValue</span> value, the DAG is aborted.
<!--l. 1216--><p class="indent" >   An abort overrides node retries. If a node returns the abort exit value, the DAG is aborted, even if the node has
retry specified.
<!--l. 1221--><p class="indent" >   When a DAG aborts, by default it exits with the node return value that caused the abort. This can be changed
by using the optional <span class="textit">RETURN</span> keyword along with specifying the desired <span class="textit">DAGReturnValue</span>. The DAG abort
return value can be used for DAGs within DAGs, allowing an inner DAG to cause an abort of an outer
DAG.
<!--l. 1229--><p class="indent" >   A DAG return value other than 0, 1, or 2 will cause the <span class="textit">condor_dagman</span> job to stay in the queue after
it exits and get retried, unless the <span class="texttt">on_exit_remove</span> expression in the <span class="texttt">.condor.sub</span> file is manually
modified.
<!--l. 1234--><p class="indent" >   Adding <span class="textit">ABORT-DAG-ON</span> for node C in the diamond-shaped DAG
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-173">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;File</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;diamond.dag</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Retry</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;3</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;ABORT-DAG-ON</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;10</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;RETURN</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1</tspan>
</div>
<!--l. 1248--><p class="nopar" >
<!--l. 1251--><p class="indent" >   causes the DAG to be aborted, if node C exits with a return value of 10. Any other currently running nodes, of
which only node B is a possibility for this particular example, are stopped and removed. If this abort occurs, the
return value for the DAG is 1.
<!--l. 1259--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-930002.10.9"></a>Variable Values Associated with Nodes</h5>
<a 
 id="dx22-93001"></a>
<a 
 id="dx22-93002"></a>
<!--l. 1263--><p class="noindent" >Macros defined for DAG nodes can be used within the submit description file of the node job. The <span class="textit">VARS</span>
command provides a method for defining a macro. Macros are defined on a per-node basis, using the
syntax
<!--l. 1268--><p class="indent" >   <span class="textbf">VARS</span> <span class="textit">JobName</span>|<span class="textbf">ALL_NODES</span> <span class="textit">macroname=</span><span class="textit">"string"</span> [<span class="textit">macroname=</span><span class="textit">"string"&#x2026;</span>]
<!--l. 1271--><p class="indent" >   The macro may be used within the submit description file of the relevant node. A <span class="textit">macroname</span> may contain
alphanumeric characters (a-z, A-Z, and 0-9) and the underscore character. The space character delimits macros,
such that there may be more than one macro defined on a single line. Multiple lines defining macros for the same
node are permitted.
<!--l. 1279--><p class="indent" >   Correct syntax requires that the <span class="textit">string</span> must be enclosed in double quotes. To use a double quote mark within a
<span class="textit">string</span>, escape the double quote mark with the backslash character (<span class="obeylines-h"><span class="verb">\</span></span>). To add the backslash character itself, use two
backslashes (<span class="obeylines-h"><span class="verb">\\</span></span>).
<!--l. 1285--><p class="indent" >   A restriction is that the <span class="textit">macroname</span> itself cannot begin with the string <span class="texttt">queue</span>, in any combination of upper or
lower case letters.
<!--l. 1289--><p class="indent" >   <span class="textbf">Examples</span>
<!--l. 1291--><p class="indent" >   If the DAG input file contains
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-174">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;File</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;diamond.dag</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A.submit</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B.submit</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C.submit</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D.submit</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;state="Wisconsin"</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
</div>
<!--l. 1304--><p class="nopar" >
<!--l. 1307--><p class="indent" >   then the submit description file <span class="texttt">A.submit</span> may use the macro <span class="obeylines-h"><span class="verb">state</span></span>. Consider this submit description file
<span class="texttt">A.submit</span>:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-175">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;file</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A.submit</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;executable</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A.exe</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;log</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A.log</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;arguments</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"$(state)"</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;queue</tspan>
</div>
<!--l. 1319--><p class="nopar" > The macro value expands to become a command-line argument in the invocation of the job. The job is invoked
with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-176">
<tspan font-family="ectt" font-size="0800">A.exe</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Wisconsin</tspan>
</div>
<!--l. 1327--><p class="nopar" >
<!--l. 1330--><p class="indent" >   The use of macros may allow a reduction in the number of distinct submit description files. A separate example
shows this intended use of <span class="textit">VARS</span>. In the case where the submit description file for each node varies only in file
naming, macros reduce the number of submit description files to one.
<!--l. 1337--><p class="indent" >   This example references a single submit description file for each of the nodes in the DAG input file, and it uses
the <span class="textit">VARS</span> entry to name files used by each job.
<!--l. 1341--><p class="indent" >   The relevant portion of the DAG input file appears as
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-177">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;theonefile.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;theonefile.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;theonefile.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;filename="A"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;filename="B"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;filename="C"</tspan>
</div>
<!--l. 1350--><p class="nopar" >
<!--l. 1352--><p class="indent" >   The submit description file appears as
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-178">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;submit</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;description</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;file</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;called:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;theonefile.sub</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;executable</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;progX</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;output</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(filename)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;error</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;error.$(filename)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;log</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(filename).log</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;queue</tspan>
</div>
<!--l. 1361--><p class="nopar" >
<!--l. 1364--><p class="indent" >   For a DAG such as this one, but with thousands of nodes, the ability to write and maintain a single submit
description file together with a single, yet more complex, DAG input file is worthwhile.
     <dl class="description"><dt class="description">
Multiple macroname definitions </dt><dd 
class="description"></dd></dl>
<!--l. 1373--><p class="indent" >   If a macro name for a specific node in a DAG is defined more than once, as it would be with the partial file
contents
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-179">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job1.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;a="foo"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;a="bar"</tspan>
</div>
<!--l. 1379--><p class="nopar" > a warning is written to the log, of the format
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-180">
<tspan font-family="ectt" font-size="1000">Warning:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VAR</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003C;macroname&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;already</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;defined</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;in</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003C;JobName&#x003E;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">Discovered</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;at</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"&#x003C;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;input</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name&#x003E;",</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;line</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003C;line</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;number&#x003E;</tspan>
</div>
<!--l. 1384--><p class="nopar" >
<!--l. 1386--><p class="indent" >   The behavior of DAGMan is such that all definitions for the macro exist, but only the last one
defined is used as the variable&#8217;s value. Using this example, if the <span class="texttt">job1.submit</span> submit description file
contains
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-181">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;arguments</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"$(a)"</tspan>
</div>
<!--l. 1392--><p class="nopar" > then the argument will be <span class="texttt">bar</span>.
     <dl class="description"><dt class="description">
Special characters within VARS string definitions </dt><dd 
class="description"></dd></dl>
<a 
 id="dx22-93003"></a>
<!--l. 1401--><p class="indent" >   The value defined for a macro may contain spaces and tabs. It is also possible to have double quote marks and
backslashes within a value. In order to have spaces or tabs within a value specified for a command line argument,
use the New Syntax format for the <span class="textbf">arguments</span> submit command, as described in section&#x00A0;<a 
href="Condorsubmit.html#x149-108400012">12<!--tex4ht:ref: man-condor-submit-arguments --></a>. Escapes for double
quote marks depend on whether the New Syntax or Old Syntax format is used for the <span class="textbf">arguments</span> submit
command. Note that in both syntaxes, double quote marks require two levels of escaping: one level is
for the parsing of the DAG input file, and the other level is for passing the resulting value through
<span class="textit">condor_submit</span>.
<!--l. 1416--><p class="indent" >   As of HTCondor version 8.3.7, single quotes are permitted within the value specification. For the specification of
command line <span class="textbf">arguments</span>, single quotes can be used in three ways:
     <ul class="itemize1">
     <li class="itemize">in Old Syntax, within a macro&#8217;s value specification
     </li>
     <li class="itemize">in New Syntax, within a macro&#8217;s value specification
     </li>
     <li class="itemize">in New Syntax only, to delimit an argument containing white space</li></ul>
<!--l. 1425--><p class="noindent" >There are examples of all three cases below. In New Syntax, to pass a single quote as part of an argument,
escape it with another single quote for <span class="textit">condor_submit</span> parsing as in the example&#8217;s NodeA <span class="texttt">fourth</span>
macro.
<!--l. 1431--><p class="indent" >   As an example that shows uses of all special characters, here are only the relevant parts of a DAG input file.
Note that the NodeA value for the macro <span class="texttt">second</span> contains a tab.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-182">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;first="Alberto</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Contador"</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;second="\"\"Andy Schleck\"\""</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;third="Lance\\</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Armstrong"</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;fourth="Vincenzo</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="tctt" font-size="0800">''</tspan><tspan font-family="ectt" font-size="0800">The</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Shark</tspan><tspan font-family="tctt" font-size="0800">''</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Nibali"</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;misc="!@#$%^&amp;*()_-=+=[]{}?/"</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NodeB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;first="Lance_Armstrong"</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NodeB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;second="\\\"Andreas_Kloden\\\""</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NodeB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;third="Ivan\\_Basso"</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NodeB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;fourth="Bernard_</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">The_Badger</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">_Hinault"</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NodeB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;misc="!@#$%^&amp;*()_-=+=[]{}?/"</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NodeC</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;args="</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">Nairo</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Quintana</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">Chris</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Froome</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">"</tspan>
</div>
<!--l. 1449--><p class="nopar" >
<!--l. 1452--><p class="indent" >   Consider an example in which the submit description file for NodeA uses the New Syntax for the <span class="textbf">arguments</span>
command:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-183">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;arguments</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">$(first)</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">$(second)</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">$(third)</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">($fourth)</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">$(misc)</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">"</tspan>
</div>
<!--l. 1458--><p class="nopar" > The single quotes around each variable reference are only necessary if the variable value may contain spaces or tabs.
The resulting values passed to the NodeA executable are:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-184">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Alberto</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Contador</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"Andy Schleck"</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Lance\</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Armstrong</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Vincenzo</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">The</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Shark</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Nibali</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;!@#$%^&amp;*()_-=+=[]{}?/</tspan>
</div>
<!--l. 1470--><p class="nopar" >
<!--l. 1473--><p class="indent" >   Consider an example in which the submit description file for NodeB uses the Old Syntax for the <span class="textbf">arguments</span>
command:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-185">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;arguments</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(first)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(second)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(third)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(fourth)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(misc)</tspan>
</div>
<!--l. 1479--><p class="nopar" >
<!--l. 1482--><p class="indent" >   The resulting values passed to the NodeB executable are:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-186">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Lance_Armstrong</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"Andreas_Kloden"</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Ivan\_Basso</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Bernard_</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">The_Badger</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">_Hinault</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;!@#$%^&amp;*()_-=+=[]{}?/</tspan>
</div>
<!--l. 1490--><p class="nopar" >
<!--l. 1493--><p class="indent" >   Consider an example in which the submit description file for NodeC uses the New Syntax for the <span class="textbf">arguments</span>
command:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-187">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;arguments</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"$(args)"</tspan>
</div>
<!--l. 1499--><p class="nopar" >
<!--l. 1502--><p class="indent" >   The resulting values passed to the NodeC executable are:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-188">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Nairo</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Quintana</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Chris</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Froome</tspan>
</div>
<!--l. 1507--><p class="nopar" >
     <dl class="description"><dt class="description">
Using special macros within a definition </dt><dd 
class="description"></dd></dl>
<!--l. 1515--><p class="indent" >   The <span class="obeylines-h"><span class="verb">$(JOB)</span></span> and <span class="obeylines-h"><span class="verb">$(RETRY)</span></span> macros may be used within a definition of the <span class="textit">string</span> that defines a variable. This
usage requires parentheses, such that proper macro substitution may take place when the macro&#8217;s value is only a
portion of the string.
     <ul class="itemize1">
     <li class="itemize"><span class="obeylines-h"><span class="verb">$(JOB)</span></span> expands to the node <span class="textit">JobName</span>. If the <span class="textit">VARS</span> line appears in a DAG file used as a splice file,
     then <span class="obeylines-h"><span class="verb">$(JOB)</span></span> will be the fully scoped name of the node.
     <!--l. 1525--><p class="noindent" >For example, the DAG input file lines
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-189">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeC</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeC.submit</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeC</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;nodename="$(JOB)"</tspan>
</div>
     <!--l. 1529--><p class="nopar" > set <span class="texttt">nodename</span> to <span class="texttt">NodeC</span>, and the DAG input file lines
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-190">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeD.submit</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;outfilename="$(JOB)-output"</tspan>
</div>
     <!--l. 1535--><p class="nopar" > set <span class="texttt">outfilename</span> to <span class="texttt">NodeD-output</span>.
     </li>
     <li class="itemize"><span class="obeylines-h"><span class="verb">$(RETRY)</span></span> expands to 0 the first time a node is run; the value is incremented each time the node is retried. For
     example:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-191">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;noderetry="$(RETRY)"</tspan>
</div>
     <!--l. 1543--><p class="nopar" ></li></ul>
     <dl class="description"><dt class="description">
Using VARS to define ClassAd attributes </dt><dd 
class="description"></dd></dl>
<!--l. 1551--><p class="indent" >   The <span class="textit">macroname</span> may also begin with a <span class="texttt">+</span> character, in which case it names a ClassAd attribute. For example, the
VARS specification
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-192">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeF</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;+A="\"bob\""</tspan>
</div>
<!--l. 1555--><p class="nopar" > results in the job ClassAd attribute
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-193">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"bob"</tspan>
</div>
<!--l. 1559--><p class="nopar" > Note that ClassAd string values must be quoted, hence there are escaped quotes in the example above. The outer
quotes are consumed in the parsing of the DAG input file, so the escaped inner quotes remain in the definition of the
attribute value.
<!--l. 1565--><p class="indent" >   Continuing this example, it allows the HTCondor submit description file for NodeF to use the following
line:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-194">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;arguments</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"$$([A])"</tspan>
</div>
<!--l. 1570--><p class="nopar" >
<!--l. 1572--><p class="indent" >   The special macros may also be used. For example
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-195">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;+B="$(RETRY)"</tspan>
</div>
<!--l. 1576--><p class="nopar" > places the numerical attribute
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-196">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
</div>
<!--l. 1580--><p class="nopar" > into the ClassAd when the NodeG job is run for a second time, which is the first retry and the value
1.
<!--l. 1585--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-940002.10.9"></a>Setting Priorities for Nodes</h5>
<a 
 id="dx22-94001"></a>
<a 
 id="dx22-94002"></a>
<!--l. 1589--><p class="noindent" >The <span class="textit">PRIORITY </span> command assigns a priority to a DAG node (and to the HTCondor job(s) associated with the
node). The syntax for <span class="textit">PRIORITY </span> is
<!--l. 1593--><p class="indent" >   <span class="textbf">PRIORITY</span> <span class="textit">JobName</span>|<span class="textbf">ALL_NODES</span> <span class="textit">PriorityValue</span>
<!--l. 1595--><p class="indent" >   The priority value is an integer (which can be negative). A larger numerical priority is better. The default
priority is 0.
<!--l. 1598--><p class="indent" >   The node priority affects the order in which nodes that are ready (all of their parent nodes have finished
successfully) at the same time will be submitted. The node priority also sets the node job&#8217;s priority in the queue
(that is, its <span class="texttt">JobPrio</span> attribute), which affects the order in which jobs will be run once they are submitted (see &#x00A0;<a 
href="PrioritiesandPreemption.html#x19-630002.7.1">2.7.1<!--tex4ht:ref: sec:JobPriority --></a>
for more information about job priority). The node priority only affects the order of job submission <span class="emph">within a given
DAG</span>; but once jobs are submitted, their <span class="texttt">JobPrio</span> value affects the order in which they will be run relative to all
jobs submitted by the same user.
<!--l. 1610--><p class="indent" >   Sub-DAGs can have priorities, just as "regular" nodes can. (The priority of a sub-DAG will affect the priorities
of its nodes: see "effective node priorities" below.) Splices cannot be assigned a priority, but individual nodes within
a splice <span class="emph">can</span> be assigned priorities.
<!--l. 1616--><p class="indent" >   Note that node priority does <span class="emph">not</span> override the DAG dependencies. Also note that node priorities are not
<span class="emph">guarantees</span> of the relative order in which nodes will be run, even among nodes that become ready at the same time &#8211;
so node priorities should not be used as a substitute for parent/child dependencies. In other words,
priorities should be used when it is preferable, but not required, that some jobs run before others. (The
order in which jobs are run once they are submitted can be affected by many things other than the
job&#8217;s priority; for example, whether there are machines available in the pool that match the job&#8217;s
requirements.)
<!--l. 1627--><p class="indent" >   PRE scripts can affect the order in which jobs run, so DAGs containing PRE scripts may not submit the nodes
in exact priority order, even if doing so would satisfy the DAG dependencies.
<!--l. 1631--><p class="indent" >   Node priority is most relevant if node submission is throttled (via the <span class="textit">-maxjobs</span> or <span class="textit">-maxidle</span> command-line
                                                                                         

                                                                                         
arguments or the <span class="texttt">DAGMAN_MAX_JOBS_SUBMITTED</span> or <span class="texttt">DAGMAN_MAX_JOBS_IDLE</span> configuration variables),
or if there are not enough resources in the pool to immediately run all submitted node jobs. This is
often the case for DAGs with large numbers of "sibling" nodes, or DAGs running on heavily-loaded
pools.
     <dl class="description"><dt class="description">
Example </dt><dd 
class="description"></dd></dl>
<!--l. 1645--><p class="indent" >   Adding <span class="textit">PRIORITY </span> for node C in the diamond-shaped DAG:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-197">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;File</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;diamond.dag</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D.condor</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;D</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Retry</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;3</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PRIORITY</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;C</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1</tspan>
</div>
<!--l. 1659--><p class="nopar" >
<!--l. 1662--><p class="indent" >   This will cause node C to be submitted (and, mostly likely, run) before node B. Without this priority setting for
node C, node B would be submitted first because the "JOB" statement for node B comes earlier in the DAG file
than the "JOB" statement for node C.
     <dl class="description"><dt class="description">
Effective node priorities </dt><dd 
class="description"></dd></dl>
<!--l. 1677--><p class="indent" >   <span class="textbf">The "effective" priority for a node (the priority controlling the order in which nodes are actually
submitted, and which is assigned to <span class="texttt">JobPrio</span>) is the sum of the explicit priority (specified in the DAG
file) and the priority of the DAG itself.</span> DAG priorities also default to 0, so they are most relevant for
sub-DAGs (although a top-level DAG can be submitted with a non-zero priority by specifying a <span class="textbf">-priority</span> value on
the <span class="textit">condor_submit_dag</span> command line). <span class="textbf">This algorithm for calculating effective priorities is a
simplification introduced in version 8.5.7 (a node&#8217;s effective priority is no longer dependent on the
priorities of its parents).</span>
<!--l. 1686--><p class="indent" >   Here is an example to clarify:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-198">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;File</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;priorities.dag</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A.sub</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SUBDAG</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;EXTERNAL</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SD.dag</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">PRIORITY</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;A</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;60</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">PRIORITY</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;B</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;100</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;File</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SD.dag</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SA</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SA.sub</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SB.sub</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SA</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SB</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">PRIORITY</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SA</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;10</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">PRIORITY</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;20</tspan>
</div>
<!--l. 1705--><p class="nopar" >
<!--l. 1708--><p class="indent" >   In this example (assuming that priorities.dag is submitted with the default priority of 0), the effective priority of
node A will be 60, and the effective priority of sub-DAG B will be 100. Therefore, the effective priority of node SA
will be 110 and the effective priority of node SB will be 120.
<!--l. 1714--><p class="indent" >   The effective priorities listed above are assigned by DAGMan. There is no way to change the priority in the
submit description file for a job, as DAGMan will override any <span class="textbf">priority</span><a 
 id="dx22-94003"></a> command placed in a submit description file
(unless the effective node priority is 0; in this case, any priority specified in the submit file will take
effect).
<!--l. 1722--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-950002.10.9"></a>Throttling Nodes by Category</h5>
<a 
 id="dx22-95001"></a>
<a 
 id="dx22-95002"></a>
<a 
 id="dx22-95003"></a>
<!--l. 1727--><p class="noindent" >In order to limit the number of submitted job clusters within a DAG, the nodes may be placed into categories by
assignment of a name. Then, a maximum number of submitted clusters may be specified for each
category.
<!--l. 1732--><p class="indent" >   The <span class="textit">CATEGORY </span> command assigns a category name to a DAG node. The syntax for <span class="textit">CATEGORY </span>
is
<!--l. 1735--><p class="indent" >   <span class="textbf">CATEGORY</span> <span class="textit">JobName</span>|<span class="textbf">ALL_NODES</span> <span class="textit">CategoryName</span>
<!--l. 1737--><p class="indent" >   Category names cannot contain white space.
                                                                                         

                                                                                         
<!--l. 1739--><p class="indent" >   The <span class="textit">MAXJOBS</span> command limits the number of submitted job clusters on a per category basis. The syntax for
<span class="textit">MAXJOBS</span> is
<!--l. 1743--><p class="indent" >   <span class="textbf">MAXJOBS</span> <span class="textit">CategoryName</span> <span class="textit">MaxJobsValue</span>
<!--l. 1745--><p class="indent" >   If the number of submitted job clusters for a given category reaches the limit, no further job clusters in that
category will be submitted until other job clusters within the category terminate. If MAXJOBS is not
set for a defined category, then there is no limit placed on the number of submissions within that
category.
<!--l. 1752--><p class="indent" >   Note that a single invocation of <span class="textit">condor_submit</span> results in one job cluster. The number of HTCondor jobs within
a cluster may be greater than 1.
<!--l. 1756--><p class="indent" >   The configuration variable <span class="texttt">DAGMAN_MAX_JOBS_SUBMITTED</span> and the <span class="textit">condor_submit_dag</span> <span class="textit">-maxjobs</span> command-line
option are still enforced if these <span class="textit">CATEGORY </span> and <span class="textit">MAXJOBS</span> throttles are used.
<!--l. 1761--><p class="indent" >   Please see the end of section&#x00A0;<a 
href="#x22-1030002.10.9">2.10.9<!--tex4ht:ref: sec:DAGSplicing --></a> on DAG Splicing for a description of the interaction between categories and
splices.
<!--l. 1766--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-960002.10.9"></a>Configuration Specific to a DAG</h5>
<a 
 id="dx22-96001"></a>
<a 
 id="dx22-96002"></a>
<!--l. 1770--><p class="noindent" >All configuration variables and their definitions that relate to DAGMan may be found in section&#x00A0;<a 
href="ConfigurationMacros.html#x33-2100003.5.23">3.5.23<!--tex4ht:ref: sec:DAGMan-Config-File-Entries --></a>.
<!--l. 1773--><p class="indent" >   Configuration variables for <span class="textit">condor_dagman</span> can be specified in several ways, as given within the ordered
list:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x22-96004x1">In an HTCondor configuration file.
     </li>
     <li 
  class="enumerate" id="x22-96006x2">With an environment variable. Prepend the string <span class="obeylines-h"><span class="verb">_CONDOR_</span></span> to the configuration variable&#8217;s name.
     </li>
     <li 
  class="enumerate" id="x22-96008x3">With a line in the DAG input file using the keyword <span class="textit">CONFIG</span>, such that there is a configuration file
     specified that is specific to an instance of <span class="textit">condor_dagman</span>. The configuration file specification may
     instead be specified on the <span class="textit">condor_submit_dag</span> command line using the <span class="textbf">-config</span> option.
     </li>
     <li 
  class="enumerate" id="x22-96010x4">For some configuration variables, <span class="textit">condor_submit_dag</span> command line argument specifies a configuration
     variable. For example, the configuration variable <span class="texttt">DAGMAN_MAX_JOBS_SUBMITTED</span> has the corresponding
     command line argument <span class="textit">-maxjobs</span>.</li></ol>
<!--l. 1794--><p class="indent" >   For this ordered list, configuration values specified or parsed later in the list override ones specified earlier. For
                                                                                         

                                                                                         
example, a value specified on the <span class="textit">condor_submit_dag</span> command line overrides corresponding values in any
configuration file. And, a value specified in a DAGMan-specific configuration file overrides values specified in a
general HTCondor configuration file.
<!--l. 1803--><p class="indent" >   The <span class="textit">CONFIG</span> command within the DAG input file specifies a configuration file to be used to set
configuration variables related to <span class="textit">condor_dagman</span> when running this DAG. The syntax for <span class="textit">CONFIG</span>
is
<!--l. 1808--><p class="indent" >   <span class="textbf">CONFIG</span> <span class="textit">ConfigFileName</span>
<!--l. 1810--><p class="indent" >   As an example, if the DAG input file contains:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-199">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CONFIG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dagman.config</tspan>
</div>
<!--l. 1813--><p class="nopar" > then the configuration values in file <span class="texttt">dagman.config</span> will be used for this DAG. If the contents of file
<span class="texttt">dagman.config</span> is
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-200">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAGMAN_MAX_JOBS_IDLE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;10</tspan>
</div>
<!--l. 1819--><p class="nopar" > then this configuration is defined for this DAG.
<!--l. 1822--><p class="indent" >   Only a single configuration file can be specified for a given <span class="textit">condor_dagman</span> run. For example, if one file is
specified within a DAG input file, and a different file is specified on the <span class="textit">condor_submit_dag</span> command line, this is a
fatal error at submit time. The same is true if different configuration files are specified in multiple DAG input files
and referenced in a single <span class="textit">condor_submit_dag</span> command.
<!--l. 1831--><p class="indent" >   If multiple DAGs are run in a single <span class="textit">condor_dagman</span> run, the configuration options specified in the
<span class="textit">condor_dagman</span> configuration file, if any, apply to all DAGs, even if some of the DAGs specify no configuration
file.
<!--l. 1836--><p class="indent" >   Configuration variables that are not for <span class="textit">condor_dagman</span> and not utilized by DaemonCore, yet are specified in a
<span class="textit">condor_dagman</span>-specific configuration file are ignored.
<!--l. 1841--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-970002.10.9"></a>Setting ClassAd attributes in the DAG file</h5>
<a 
 id="dx22-97001"></a>
<a 
 id="dx22-97002"></a>
<!--l. 1845--><p class="noindent" >The <span class="textit">SET_JOB_ATTR</span> keyword within the DAG input file specifies an attribute/value pair to be set in the
DAGMan job&#8217;s ClassAd. The syntax for <span class="textit">SET_JOB_ATTR</span> is
<!--l. 1849--><p class="indent" >   <span class="textbf">SET_JOB_ATTR</span> <span class="textit">AttributeName</span>=<span class="textit">AttributeValue</span>
<!--l. 1851--><p class="indent" >   As an example, if the DAG input file contains:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-201">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SET_JOB_ATTR</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;TestNumber</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;17</tspan>
</div>
<!--l. 1854--><p class="nopar" > the ClassAd of the DAGMan job itself will have an attribute <span class="texttt">TestNumber</span> with the value <span class="texttt">17</span>.
<!--l. 1858--><p class="indent" >   The attribute set by the <span class="textit">SET_JOB_ATTR</span> command is set only in the ClassAd of the DAGMan job itself &#8211; it is
not propagated to node jobs of the DAG.
<!--l. 1862--><p class="indent" >   Values with spaces can be set by surrounding the string containing a space with single or double quotes. (Note
that the quote marks themselves will be part of the value.)
<!--l. 1866--><p class="indent" >   Only a single attribute/value pair can be specified per <span class="textit">SET_JOB_ATTR</span> command. If the same attribute is
specified multiple times in the DAG (or in multiple DAGs run by the same DAGMan instance) the
last-specified value is the one that will be utilized. An attribute set in the DAG file can be overridden by
specifying
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-202">
<tspan font-family="ectt" font-size="1000">-append</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="tctt" font-size="1000">'</tspan><tspan font-family="ectt" font-size="1000">+&#x003C;attribute&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003C;value&#x003E;</tspan><tspan font-family="tctt" font-size="1000">'</tspan>
</div>
<!--l. 1874--><p class="nopar" > on the <span class="textit">condor_submit_dag</span> command line.
<!--l. 1878--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-980002.10.9"></a>Optimization of Submission Time</h5>
<a 
 id="dx22-98001"></a>
<!--l. 1881--><p class="noindent" ><span class="textit">condor_dagman</span> works by watching log files for events, such as submission, termination, and going on hold. When a
new job is ready to be run, it is submitted to the <span class="textit">condor_schedd</span>, which needs to acquire a computing resource.
Acquisition requires the <span class="textit">condor_schedd</span> to contact the central manager and get a claim on a machine, and this claim
cycle can take many minutes.
<!--l. 1889--><p class="indent" >   Configuration variable <span class="texttt">DAGMAN_HOLD_CLAIM_TIME</span> <a 
 id="dx22-98002"></a><a 
 id="dx22-98003"></a> avoids the wait for a negotiation cycle. When set to a non
zero value, the <span class="textit">condor_schedd</span> keeps a claim idle, such that the <span class="textit">condor_startd</span> delays in shifting from the Claimed
to the Preempting state (see Figure&#x00A0;<a 
href="PolicyConfigurationforExecuteHostsandforSubmitHosts.html#x35-2470231">3.1<!--tex4ht:ref: fig:machine-states --></a>). Thus, if another job appears that is suitable for the claimed resource, then
the <span class="textit">condor_schedd</span> will submit the job directly to the <span class="textit">condor_startd</span>, avoiding the wait and overhead of a
negotiation cycle. This results in a speed up of job completion, especially for linear DAGs in pools that have lengthy
negotiation cycle times.
<!--l. 1902--><p class="indent" >   By default, <span class="texttt">DAGMAN_HOLD_CLAIM_TIME</span> is 20, causing a claim to remain idle for 20 seconds, during which time a
new job can be submitted directly to the already-claimed <span class="textit">condor_startd</span>. A value of 0 means that claims are not
held idle for a running DAG. If a DAG node has no children, the value of <span class="texttt">DAGMAN_HOLD_CLAIM_TIME</span> will be ignored;
the <span class="texttt">KeepClaimIdle</span> attribute will not be defined in the job ClassAd of the node job, unless the job requests it using
the submit command <span class="textbf">keep_claim_idle</span><a 
 id="dx22-98004"></a>.
<!--l. 1914--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-990002.10.9"></a>Single Submission of Multiple, Independent DAGs</h5>
<a 
 id="dx22-99001"></a>
<!--l. 1917--><p class="noindent" >A single use of <span class="textit">condor_submit_dag</span> may execute multiple, independent DAGs. Each independent
DAG has its own, distinct DAG input file. These DAG input files are command-line arguments to
<span class="textit">condor_submit_dag</span>.
<!--l. 1922--><p class="indent" >   Internally, all of the independent DAGs are combined into a single, larger DAG, with no dependencies between
the original independent DAGs. As a result, any generated Rescue DAG file represents all of the original
independent DAGs with a single DAG. The file name of this Rescue DAG is based on the DAG input file listed first
                                                                                         

                                                                                         
within the command-line arguments. For example, assume that three independent DAGs are submitted
with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-203">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A.dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B.dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C.dag</tspan>
</div>
<!--l. 1933--><p class="nopar" > The first listed is <span class="texttt">A.dag</span>. The remainder of the specialized file name adds a suffix onto this first DAG input file
name, <span class="texttt">A.dag</span>. The suffix is <span class="texttt">_multi.rescue&#x003C;XXX&#x003E;</span>, where <span class="texttt">&#x003C;XXX&#x003E;</span> is substituted by the 3-digit number of the Rescue
DAG created as defined in section&#x00A0;<a 
href="#x22-1070002.10.10">2.10.10<!--tex4ht:ref: sec:DAGMan-rescue --></a>. The first time a Rescue DAG is created for the example, it will have the
file name <span class="texttt">A.dag_multi.rescue001</span>.
<!--l. 1943--><p class="indent" >   Other files such as <span class="texttt">dagman.out</span> and the lock file also have names based on this first DAG input
file.
<!--l. 1947--><p class="indent" >   The success or failure of the independent DAGs is well defined. When multiple, independent DAGs are
submitted with a single command, the success of the composite DAG is defined as the logical AND of the success of
each independent DAG. This implies that failure is defined as the logical OR of the failure of any of the independent
DAGs.
<!--l. 1955--><p class="indent" >   By default, DAGMan internally renames the nodes to avoid node name collisions. If all node names are unique,
the renaming of nodes may be disabled by setting the configuration variable <span class="texttt">DAGMAN_MUNGE_NODE_NAMES</span> <a 
 id="dx22-99002"></a><a 
 id="dx22-99003"></a> to <span class="texttt">False</span>
(see &#x00A0;<a 
href="ConfigurationMacros.html#x33-2140003.5.23">3.5.23<!--tex4ht:ref: param:DAGManMungeNodeNames --></a>).
<!--l. 1962--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-1000002.10.9"></a>INCLUDE</h5>
<a 
 id="dx22-100001"></a>
<a 
 id="dx22-100002"></a>
<!--l. 1966--><p class="noindent" >The <span class="textit">INCLUDE</span> command allows the contents of one DAG file to be parsed as if they were physically included in the
referencing DAG file. The syntax for <span class="textit">INCLUDE</span> is
<!--l. 1970--><p class="indent" >   <span class="textbf">INCLUDE</span> <span class="textit">FileName</span>
<!--l. 1972--><p class="indent" >   For example, if we have two DAG files like this:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-204">
<tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;foo.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;INCLUDE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;bar.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;bar.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C.sub</tspan>
</div>
<!--l. 1983--><p class="nopar" >
<!--l. 1985--><p class="indent" >   this is equivalent to the single DAG file:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-205">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C.sub</tspan>
</div>
<!--l. 1990--><p class="nopar" >
<!--l. 1992--><p class="indent" >   Note that the included file must be in proper DAG syntax. Also, there are many cases where a valid included
DAG file will cause a parse error, such as the including and included files defining nodes with the same
name.
<!--l. 1997--><p class="indent" >   <span class="textit">INCLUDE</span>s can be nested to any depth (be sure not to create a cycle of includes!).
     <dl class="description"><dt class="description">
Example: Using INCLUDE to simplify multiple similar workflows </dt><dd 
class="description"></dd></dl>
<!--l. 2007--><p class="indent" >   One use of the <span class="textit">INCLUDE</span> command is to simplify the DAG files when we have a single workflow that we want to
run on a number of data sets. In that case, we can do something like this:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-206">
<tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;workflow.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Defines</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;structure</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;workflow</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Split</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;split.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Process00</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;process.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;...</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Process99</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;process.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Combine</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;combine.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Split</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Process00</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;...</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Process99</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Process00</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;...</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Process99</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Combine</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;split.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;executable</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;my_split</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;input</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(dataset).phase1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;output</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(dataset).phase2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;...</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;data57.vars</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Split</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dataset="data57"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Process00</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dataset="data57"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;...</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Process99</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dataset="data57"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Combine</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dataset="data57"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;run_dataset57.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;INCLUDE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;workflow.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;INCLUDE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;data57.vars</tspan>
</div>
<!--l. 2038--><p class="nopar" >
<!--l. 2040--><p class="indent" >   Then, to run our workflow on dataset 57, we run the following command:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-207">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;run_dataset57.dag</tspan>
</div>
<!--l. 2045--><p class="nopar" >
<!--l. 2047--><p class="indent" >   This avoids having to duplicate the <span class="textit">JOB</span> and <span class="textit">PARENT/CHILD</span> commands for every dataset &#8211; we can just
re-use the <span class="texttt">workflow.dag</span> file, in combination with a dataset-specific vars file.
<!--l. 2052--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-1010002.10.9"></a>Composing workflows from multiple DAG files</h5>
<a 
 id="dx22-101001"></a>
<a 
 id="dx22-101002"></a>
<!--l. 2056--><p class="noindent" >The organization and dependencies of the jobs within a DAG are the keys to its utility. Some workflows are
naturally constructed hierarchically, such that a node within a DAG is also a DAG (instead of a "simple"
HTCondor job). HTCondor DAGMan handles this situation easily, and allows DAGs to be nested to any
depth.
<!--l. 2064--><p class="indent" >   There are two ways that DAGs can be nested within other DAGs: sub-DAGs (see&#x00A0;<a 
href="#x22-1020002.10.9">2.10.9<!--tex4ht:ref: sec:DAG-SubDAG --></a>) and splices
(see&#x00A0;<a 
href="#x22-1030002.10.9">2.10.9<!--tex4ht:ref: sec:DAGSplicing --></a>).
<!--l. 2067--><p class="indent" >   With sub-DAGs, each DAG has its own <span class="textit">condor_dagman</span> job, which then becomes a node job within
the higher-level DAG. With splices, on the other hand, the nodes of the spliced DAG are directly
incorporated into the higher-level DAG. Therefore, splices do not result in additional <span class="textit">condor_dagman</span>
instances.
<!--l. 2073--><p class="indent" >   A weakness in scalability exists when submitting external sub-DAGs, because each executing independent DAG
requires its own instance of <span class="textit">condor_dagman</span> to be running. The outer DAG has an instance of <span class="textit">condor_dagman</span>, and
each named SUBDAG has an instance of <span class="textit">condor_dagman</span> while it is in the HTCondor queue. The scaling issue
presents itself when a workflow contains hundreds or thousands of sub-DAGs that are queued at the same time. (In
this case, the resources (especially memory) consumed by the multiple <span class="textit">condor_dagman</span> instances can be a
problem.) Further, there may be many Rescue DAGs created if a problem occurs. (Note that the scaling
issue depends only on how many sub-DAGs are queued at any given time, not the total number of
sub-DAGs in a given workflow; division of a large workflow into <span class="emph">sequential</span> sub-DAGs can actually
enhance scalability.) To alleviate these concerns, the DAGMan language introduces the concept of graph
splicing.
<!--l. 2091--><p class="indent" >   Because splices are simpler in some ways than sub-DAGs, they are generally preferred
unless certain features are needed that are only available with sub-DAGs. This document:
<a 
href="https://htcondor-wiki.cs.wisc.edu/index.cgi/wiki?p=SubDagsVsSplices" >https://htcondor-wiki.cs.wisc.edu/index.cgi/wiki?p=SubDagsVsSplices</a> explains the pros and cons
of splices and external sub-DAGs, and should help users decide which alternative is better for their
                                                                                         

                                                                                         
application.
<!--l. 2099--><p class="indent" >   Note that sub-DAGs and splices can be combined in a single workflow, and can be nested to any depth (but be
sure to avoid recursion, which will cause problems!).
<!--l. 2104--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-1020002.10.9"></a>A DAG Within a DAG Is a SUBDAG</h5>
<a 
 id="dx22-102001"></a>
<a 
 id="dx22-102002"></a>
<!--l. 2108--><p class="noindent" >As stated above, the SUBDAG EXTERNAL command causes the specified DAG file to be run by a separate
instance of <span class="textit">condor_dagman</span>, with the <span class="textit">condor_dagman</span> job becoming a node job within the higher-level
DAG.
<!--l. 2113--><p class="indent" >   The syntax for the SUBDAG command is
<!--l. 2115--><p class="indent" >   <span class="textbf">SUBDAG</span> <span class="textbf">EXTERNAL</span> <span class="textit">JobName</span> <span class="textit">DagFileName</span> [<span class="textbf">DIR&#x00A0;&#x00A0;</span><span class="textit">directory</span>] [<span class="textbf">NOOP</span>] [<span class="textbf">DONE</span>]
<!--l. 2118--><p class="indent" >   The optional specifications of <span class="textbf">DIR</span>, <span class="textbf">NOOP</span>, and <span class="textbf">DONE</span>, if used, must appear in this order within the entry.
<span class="textbf">NOOP</span> and <span class="textbf">DONE</span> for <span class="textbf">SUBDAG</span> nodes have the same effect that they do for <span class="textbf">JOB</span> nodes.
<!--l. 2123--><p class="indent" >   A <span class="textbf">SUBDAG</span> node is essentially the same as any other node, except that the DAG input file for the inner DAG
is specified, instead of the HTCondor submit file. The keyword <span class="textbf">EXTERNAL</span> means that the SUBDAG is run
within its own instance of <span class="textit">condor_dagman</span>.
<!--l. 2129--><p class="indent" >   Since more than one DAG is being discussed, here is terminology introduced to clarify which DAG is which.
Reuse the example diamond-shaped DAG as given in Figure&#x00A0;<a 
href="#x22-770022">2.2<!--tex4ht:ref: fig:dagman-diamond --></a>. Assume that node B of this diamond-shaped DAG
will itself be a DAG. The DAG of node B is called a SUBDAG, inner DAG, or lower-level DAG. The
diamond-shaped DAG is called the outer or top-level DAG.
<!--l. 2138--><p class="indent" >   Work on the inner DAG first. Here is a very simple linear DAG input file used as an example of the inner
DAG.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-208">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;inner.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Y</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Y.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Z</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Z.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Y</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Y</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Z</tspan>
</div>
<!--l. 2149--><p class="nopar" >
<!--l. 2151--><p class="indent" >   The HTCondor submit description file, used by <span class="textit">condor_dagman</span>, corresponding to <span class="texttt">inner.dag</span> will be named
<span class="texttt">inner.dag.condor.sub</span>. The DAGMan submit description file is always named <span class="texttt">&#x003C;DAG file name&#x003E;.condor.sub</span>.
Each DAG or SUBDAG results in the submission of <span class="textit">condor_dagman</span> as an HTCondor job, and <span class="textit">condor_submit_dag</span>
creates this submit description file.
<!--l. 2159--><p class="indent" >   The preferred specification of the DAG input file for the outer DAG is
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-209">
<tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SUBDAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;EXTERNAL</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;inner.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan>
</div>
<!--l. 2169--><p class="nopar" >
<!--l. 2184--><p class="indent" >   Within the outer DAG&#8217;s input file, the <span class="textbf">SUBDAG</span> command specifies a special case of a <span class="textbf">JOB</span> node, where the
job is itself a DAG.
<!--l. 2188--><p class="indent" >   One of the benefits of using the SUBDAG feature is that portions of the overall workflow can be constructed and
modified during the execution of the DAG (a SUBDAG file doesn&#8217;t have to exist until just before
it is submitted). A drawback can be that each SUBDAG causes its own distinct job submission of
<span class="textit">condor_dagman</span>, leading to a larger number of jobs, together with their potential need of carefully constructed
policy configuration to throttle node submission or execution (because each SUBDAG has its own
throttles).
<!--l. 2198--><p class="indent" >   Here are details that affect SUBDAGs:
     <ul class="itemize1">
     <li class="itemize">Nested DAG Submit Description File Generation
     <!--l. 2202--><p class="noindent" >There are three ways to generate the <span class="texttt">&#x003C;DAG file name&#x003E;.condor.sub</span> file of a SUBDAG:
         <ul class="itemize2">
         <li class="itemize"><span class="textbf">Lazily</span> (the default in HTCondor version 7.5.2 and later versions)
         </li>
         <li class="itemize"><span class="textbf">Eagerly</span> (the default in HTCondor versions 7.4.1 through 7.5.1)
         </li>
         <li class="itemize"><span class="textbf">Manually</span> (the only way prior to version HTCondor version 7.4.1)</li></ul>
     <!--l. 2211--><p class="noindent" >When the <span class="texttt">&#x003C;DAG file name&#x003E;.condor.sub</span> file is generated <span class="textbf">lazily</span>, this file is generated immediately before the
     SUBDAG job is submitted. Generation is accomplished by running
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-210">
     <tspan font-family="ectt" font-size="1000">condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-no_submit</tspan>
</div>
     <!--l. 2217--><p class="nopar" > on the DAG input file specified in the <span class="textbf">SUBDAG</span> entry. This is the default behavior. There are advantages to
     this lazy mode of submit description file creation for the SUBDAG:
         <ul class="itemize2">
         <li class="itemize">The DAG input file for a SUBDAG does not have to exist until the SUBDAG is ready to run, so
         this file can be dynamically created by earlier parts of the outer DAG or by the PRE script of the
         node containing the SUBDAG.
         </li>
         <li class="itemize">It is now possible to have SUBDAGs within splices. That is not possible with eager submit
         description file creation, because <span class="textit">condor_submit_dag</span> does not understand splices.</li></ul>
     <!--l. 2234--><p class="noindent" >The main disadvantage of lazy submit file generation is that a syntax error in the DAG input file of a
     SUBDAG will not be discovered until the outer DAG tries to run the inner DAG.
     <!--l. 2238--><p class="noindent" >When <span class="texttt">&#x003C;DAG file name&#x003E;.condor.sub</span> files are generated <span class="textbf">eagerly</span>, <span class="textit">condor_submit_dag</span> runs itself recursively
     (with the <span class="textit">-no_submit</span> option) on each SUBDAG, so all of the <span class="texttt">&#x003C;DAG file name&#x003E;.condor.sub</span>
     files are generated before the top-level DAG is actually submitted. To generate the <span class="texttt">&#x003C;DAG file
     name&#x003E;.condor.sub</span> files eagerly, pass the <span class="textit">-do_recurse</span> flag to <span class="textit">condor_submit_dag</span>; also set the
     <span class="texttt">DAGMAN_GENERATE_SUBDAG_SUBMITS</span> configuration variable to <span class="texttt">False</span>, so that <span class="textit">condor_dagman</span>
     does not re-run <span class="textit">condor_submit_dag</span> at run time thereby regenerating the submit description
     files.
     <!--l. 2249--><p class="noindent" >To generate the <span class="texttt">.condor.sub</span> files <span class="textbf">manually</span>, run
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-211">
     <tspan font-family="ectt" font-size="1000">condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-no_submit</tspan>
</div>
     <!--l. 2253--><p class="nopar" > on each lower-level DAG file, before running <span class="textit">condor_submit_dag</span> on the top-level DAG file; also set the
     <span class="texttt">DAGMAN_GENERATE_SUBDAG_SUBMITS</span> configuration variable to <span class="texttt">False</span>, so that <span class="textit">condor_dagman</span> does not re-run
     <span class="textit">condor_submit_dag</span> at run time. The main reason for generating the <span class="texttt">&#x003C;DAG file name&#x003E;.condor.sub</span> files
     manually is to set options for the lower-level DAG that one would not otherwise be able to set An example of
     this is the <span class="textit">-insert_sub_file</span> option. For instance, using the given example do the following to manually
     generate HTCondor submit description files:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-212">
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;-no_submit</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;-insert_sub_file</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;fragment.sub</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;inner.dag</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;diamond.dag</tspan>
</div>
     <!--l. 2272--><p class="nopar" >
     <!--l. 2275--><p class="noindent" >Note that most <span class="textit">condor_submit_dag</span> command-line flags have corresponding configuration variables, so we
     encourage the use of per-DAG configuration files, especially in the case of nested DAGs. This is the easiest way
     to set different options for different DAGs in an overall workflow.
     <!--l. 2281--><p class="noindent" >It is possible to combine more than one method of generating the <span class="texttt">&#x003C;DAG file name&#x003E;.condor.sub</span>
     files. For example, one might pass the <span class="textit">-do_recurse</span> flag to <span class="textit">condor_submit_dag</span>, but leave the
     <span class="texttt">DAGMAN_GENERATE_SUBDAG_SUBMITS</span> configuration variable set to the default of <span class="texttt">True</span>. Doing this would provide
     the benefit of an immediate error message at submit time, if there is a syntax error in one of the inner DAG
     input files, but the lower-level <span class="texttt">&#x003C;DAG file name&#x003E;.condor.sub</span> files would still be regenerated before each
     nested DAG is submitted.
     <!--l. 2296--><p class="noindent" >The values of the following command-line flags are passed from the top-level <span class="textit">condor_submit_dag</span> instance to
     any lower-level <span class="textit">condor_submit_dag</span> instances. This occurs whether the lower-level submit description files are
     generated lazily or eagerly:
         <ul class="itemize2">
         <li class="itemize"><span class="textbf">-verbose</span>
         </li>
         <li class="itemize"><span class="textbf">-force</span>
         </li>
         <li class="itemize"><span class="textbf">-notification</span>
         </li>
         <li class="itemize"><span class="textbf">-allowlogerror</span>
         </li>
         <li class="itemize"><span class="textbf">-dagman</span>
         </li>
         <li class="itemize"><span class="textbf">-usedagdir</span>
         </li>
         <li class="itemize"><span class="textbf">-outfile_dir</span>
         </li>
         <li class="itemize"><span class="textbf">-oldrescue</span>
         </li>
         <li class="itemize"><span class="textbf">-autorescue</span>
         </li>
         <li class="itemize"><span class="textbf">-dorescuefrom</span>
         </li>
         <li class="itemize"><span class="textbf">-allowversionmismatch</span>
                                                                                         

                                                                                         
         </li>
         <li class="itemize"><span class="textbf">-no_recurse/do_recurse</span>
         </li>
         <li class="itemize"><span class="textbf">-update_submit</span>
         </li>
         <li class="itemize"><span class="textbf">-import_env</span>
         </li>
         <li class="itemize"><span class="textbf">-suppress_notification</span>
         </li>
         <li class="itemize"><span class="textbf">-priority</span>
         </li>
         <li class="itemize"><span class="textbf">-dont_use_default_node_log</span></li></ul>
     <!--l. 2323--><p class="noindent" >The values of the following command-line flags are preserved in any already-existing lower-level DAG submit
     description files:
         <ul class="itemize2">
         <li class="itemize"><span class="textbf">-maxjobs</span>
         </li>
         <li class="itemize"><span class="textbf">-maxidle</span>
         </li>
         <li class="itemize"><span class="textbf">-maxpre</span>
         </li>
         <li class="itemize"><span class="textbf">-maxpost</span>
         </li>
         <li class="itemize"><span class="textbf">-debug</span></li></ul>
     <!--l. 2333--><p class="noindent" >Other command-line arguments are set to their defaults in any lower-level invocations of <span class="textit">condor_submit_dag</span>.
     <!--l. 2336--><p class="noindent" >The <span class="textbf">-force</span> option will cause existing DAG submit description files to be overwritten without preserving any
     existing values.
     </li>
     <li class="itemize">Submission of the outer DAG
     <!--l. 2341--><p class="noindent" >The outer DAG is submitted as before, with the command
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-213">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.dag</tspan>
</div>
     <!--l. 2344--><p class="nopar" >
     </li>
     <li class="itemize">Interaction with Rescue DAGs
     <!--l. 2348--><p class="noindent" >The use of new-style Rescue DAGs is now the default. With new-style rescue DAGs, the appropriate rescue
     DAG(s) will be run automatically if there is a failure somewhere in the workflow. For example (given the
     DAGs in the example at the beginning of the SUBDAG section), if one of the nodes in <span class="texttt">inner.dag</span> fails,
     this will produce a Rescue DAG for <span class="texttt">inner.dag</span> (named <span class="texttt">inner.dag.rescue.001</span>). Then, since
     <span class="texttt">inner.dag</span> failed, node B of <span class="texttt">diamond.dag</span> will fail, producing a Rescue DAG for <span class="texttt">diamond.dag</span> (named
     <span class="texttt">diamond.dag.rescue.001</span>, etc.). If the command
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-214">
     <tspan font-family="ectt" font-size="1000">condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.dag</tspan>
</div>
     <!--l. 2362--><p class="nopar" > is re-run, the most recent outer Rescue DAG will be run, and this will re-run the inner DAG, which will in
     turn run the most recent inner Rescue DAG.
     </li>
     <li class="itemize">File Paths
     <!--l. 2369--><p class="noindent" >Remember that, unless the DIR keyword is used in the outer DAG, the inner DAG utilizes the current working
     directory when the outer DAG is submitted. Therefore, all paths utilized by the inner DAG file must be
     specified accordingly.
     </li></ul>
<!--l. 2378--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-1030002.10.9"></a>DAG Splicing</h5>
<a 
 id="dx22-103001"></a>
<a 
 id="dx22-103002"></a>
<!--l. 2382--><p class="noindent" >As stated above, the SPLICE command causes the nodes of the spliced DAG to be directly incorporated into the
higher-level DAG (the DAG containing the SPLICE command).
<!--l. 2386--><p class="indent" >   The syntax for the <span class="textit">SPLICE</span> command is
<!--l. 2388--><p class="indent" >   <span class="textbf">SPLICE</span> <span class="textit">SpliceName</span> <span class="textit">DagFileName</span> [<span class="textbf">DIR&#x00A0;&#x00A0;</span><span class="textit">directory</span>]
<!--l. 2391--><p class="indent" >   A splice is a named instance of a subgraph which is specified in a separate DAG file. The splice is treated as an
entity for dependency specification in the including DAG. (Conceptually, a splice is treated as a node within the
DAG containing the SPLICE command, although there are some limitations, which are discussed below. This
means, for example, that splices can have parents and children.) A splice can also be incorporated into an
including DAG without any dependencies; it is then considered a disjoint DAG within the including
DAG.
<!--l. 2403--><p class="indent" >   The same DAG file can be reused as differently named splices, each one incorporating a copy of the dependency
graph (and nodes therein) into the including DAG.
<!--l. 2408--><p class="indent" >   The nodes within a splice are scoped according to a hierarchy of names associated with the splices, as the splices
are parsed from the top level DAG file. The scoping character to describe the inclusion hierarchy of nodes into the
top level dag is <span class="obeylines-h"><span class="verb">'+'</span></span>. (In other words, if a splice named "SpliceX" contains a node named "NodeY", the full node
name once the DAGs are parsed is "SpliceX+NodeY". This character is chosen due to a restriction in the allowable
characters which may be in a file name across the variety of platforms that HTCondor supports. In any DAG input
file, all splices must have unique names, but the same splice name may be reused in different DAG input
files.
                                                                                         

                                                                                         
<!--l. 2422--><p class="indent" >   HTCondor does not detect nor support splices that form a cycle within the DAG. A DAGMan job that causes a
cyclic inclusion of splices will eventually exhaust available memory and crash.
<!--l. 2427--><p class="indent" >   The <span class="textit">SPLICE</span> command in a DAG input file creates a named instance of a DAG as specified in another file as an
entity which may have <span class="textit">PARENT</span> and <span class="textit">CHILD</span> dependencies associated with other splice names or node names in the
including DAG file.
<!--l. 2433--><p class="indent" >   The following series of examples illustrate potential uses of splicing. To simplify the examples, presume that each
and every job uses the same, simple HTCondor submit description file:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-215">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;BEGIN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SUBMIT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;executable</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/bin/echo</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;arguments</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;OK</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;universe</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;vanilla</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;output</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(jobname).out</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;error</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(jobname).err</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;log</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.log</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;notification</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NEVER</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;queue</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;END</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SUBMIT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
</div>
<!--l. 2449--><p class="nopar" >
<!--l. 2451--><p class="indent" >   This first simple example splices a diamond-shaped DAG in between the two nodes of a top level DAG. Here is
the DAG input file for the diamond-shaped DAG:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-216">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;BEGIN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;END</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.dag</tspan>
</div>
<!--l. 2472--><p class="nopar" >
<!--l. 2474--><p class="indent" >   The top level DAG incorporates the diamond-shaped splice:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-217">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;BEGIN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;toplevel.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Y</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Y</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;This</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;an</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;instance</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.dag,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;given</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;symbolic</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DIAMOND</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DIAMOND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Set</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;up</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;a</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;relationship</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;between</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;nodes</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;in</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;this</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;and</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;splice</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DIAMOND</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DIAMOND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Y</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;END</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;toplevel.dag</tspan>
</div>
<!--l. 2493--><p class="nopar" >
<!--l. 2495--><p class="indent" >   Figure&#x00A0;<a 
href="#x22-1030033">2.3<!--tex4ht:ref: fig:dagman-splice-simple --></a> illustrates the resulting top level DAG and the dependencies produced. Notice the naming of nodes
scoped with the splice name. This hierarchy of splice names assures unique names associated with all
nodes.
<!--l. 2501--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                         

                                                                                         
<a 
 id="x22-1030033"></a>
                                                                                         

                                                                                         
<!--l. 2525--><p class="noindent" ><object data="ref-3.svg" width="271.3734 " height="381.40092 " type="image/svg+xml"><p>SVG-Viewer needed.</p></object>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;2.3: </span><span  
class="content"> The diamond-shaped DAG spliced between two nodes.</span></div><!--tex4ht:label?: x22-1030033 -->
                                                                                         

                                                                                         
<!--l. 2527--><p class="indent" >   </div><hr class="endfigure">
<!--l. 2529--><p class="indent" >   Figure&#x00A0;<a 
href="#x22-1030044">2.4<!--tex4ht:ref: fig:dagman-splice-X --></a> illustrates the starting point for a more complex example. The DAG input file <span class="texttt">X.dag</span> describes this
X-shaped DAG. The completed example displays more of the spatial constructs provided by splices. Pay particular
attention to the notion that each named splice creates a new graph, even when the same DAG input file is
specified.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-218">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;BEGIN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;E</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;E</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;F</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;F</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;G</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;G</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Make</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;an</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X-shaped</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dependency</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;graph</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;E</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;F</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;G</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;END</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X.dag</tspan>
</div>
<!--l. 2567--><p class="nopar" >
<!--l. 2569--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                         

                                                                                         
<a 
 id="x22-1030044"></a>
                                                                                         

                                                                                         
<!--l. 2593--><p class="noindent" ><object data="ref-4.svg" width="255.66328 " height="212.34436 " type="image/svg+xml"><p>SVG-Viewer needed.</p></object>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;2.4: </span><span  
class="content"> The X-shaped DAG.</span></div><!--tex4ht:label?: x22-1030044 -->
                                                                                         

                                                                                         
<!--l. 2596--><p class="indent" >   </div><hr class="endfigure">
<!--l. 2599--><p class="indent" >   File <span class="texttt">s1.dag</span> continues the example, presenting the DAG input file that incorporates two separate splices of the
X-shaped DAG. Figure&#x00A0;<a 
href="#x22-1030055">2.5<!--tex4ht:ref: fig:dagman-splice-s1 --></a> illustrates the resulting DAG.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-219">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;BEGIN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;s1.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;two</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;individual</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;splices</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X-shaped</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Define</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dependencies</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;must</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;complete</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;before</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;initial</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;nodes</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;in</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;can</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;start</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;All</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;final</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;nodes</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;in</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;must</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;finish</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;before</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;initial</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;nodes</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;in</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;can</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;begin</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;All</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;final</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;nodes</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;in</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;must</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;finish</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;before</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;may</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;begin.</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;END</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;s1.dag</tspan>
</div>
<!--l. 2627--><p class="nopar" >
<!--l. 2629--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                         

                                                                                         
<a 
 id="x22-1030055"></a>
                                                                                         

                                                                                         
<!--l. 2676--><p class="noindent" ><object data="ref-5.svg" width="250.98372 " height="670.42305 " type="image/svg+xml"><p>SVG-Viewer needed.</p></object>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;2.5: </span><span  
class="content"> The DAG described by <span class="texttt">s1.dag</span>.</span></div><!--tex4ht:label?: x22-1030055 -->
                                                                                         

                                                                                         
<!--l. 2679--><p class="indent" >   </div><hr class="endfigure">
<!--l. 2681--><p class="indent" >   The top level DAG in the hierarchy of this complex example is described by the DAG input file <span class="texttt">toplevel.dag</span>.
Figure&#x00A0;<a 
href="#x22-1030066">2.6<!--tex4ht:ref: fig:dagman-splice-complex --></a> illustrates the final DAG. Notice that the DAG has two disjoint graphs in it as a result of splice S3 not
having any dependencies associated with it in this top level DAG.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-220">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;BEGIN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;toplevel.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;submit.condor</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobname="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;a</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond-shaped</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;This</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;splice</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X-shaped</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;can</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;only</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;run</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;after</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;finishes</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;S2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;S2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Since</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;there</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;are</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;no</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dependencies</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;for</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;S3,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;following</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;splice</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;disjoint</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;S3</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;s1.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;END</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;toplevel.dag</tspan>
</div>
<!--l. 2716--><p class="nopar" >
<!--l. 2719--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                         

                                                                                         
<a 
 id="x22-1030066"></a>
                                                                                         

                                                                                         
<!--l. 2755--><p class="noindent" ><object data="ref-6.svg" width="282.8431 " height="544.94356 " type="image/svg+xml"><p>SVG-Viewer needed.</p></object>
                                                                                         

                                                                                         
<object data="ref-7.svg" width="308.50209 " height="752.34445 " type="image/svg+xml"><p>SVG-Viewer needed.</p></object>
                                                                                         

                                                                                         
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;2.6: </span><span  
class="content"> The complex splice example DAG.</span></div><!--tex4ht:label?: x22-1030066 -->
                                                                                         

                                                                                         
<!--l. 2801--><p class="indent" >   </div><hr class="endfigure">
     <dl class="description"><dt class="description">
Splices and rescue DAGs </dt><dd 
class="description"></dd></dl>
<!--l. 2808--><p class="indent" >   Because the nodes of a splice are directly incorporated into the DAG containing the SPLICE command, splices
do not generate their own rescue DAGs, unlike SUBDAG EXTERNALs.
     <dl class="description"><dt class="description">
The DIR option with splices </dt><dd 
class="description"></dd></dl>
<!--l. 2817--><p class="indent" >   The <span class="textit">DIR</span> option specifies a working directory for a splice, from which the splice will be parsed and the jobs
within the splice submitted. The directory associated with the splice&#8217;s <span class="textit">DIR</span> specification will be propagated as a
prefix to all nodes in the splice and any included splices. If a node already has a <span class="textit">DIR</span> specification, then the splice&#8217;s
<span class="textit">DIR</span> specification will be a prefix to the node&#8217;s, separated by a directory separator character. Jobs in included
splices with an absolute path for their <span class="textit">DIR</span> specification will have their <span class="textit">DIR</span> specification untouched. Note that a
DAG containing <span class="textit">DIR</span> specifications cannot be run in conjunction with the <span class="textit">-usedagdir</span> command-line argument to
<span class="textit">condor_submit_dag</span>.
<!--l. 2831--><p class="indent" >   A "full" rescue DAG generated by a DAG run with the <span class="textit">-usedagdir</span> argument will contain DIR specifications, so
such a rescue DAG must be run <span class="emph">without</span> the <span class="textit">-usedagdir</span> argument. (Note that "full" rescue DAGs are no longer the
default.)
     <dl class="description"><dt class="description">
Limitation: splice DAGs must exist at submit time </dt><dd 
class="description"></dd></dl>
<!--l. 2841--><p class="noindent" >Unlike the DAG files referenced in a SUBDAG EXTERNAL command, DAG files referenced in a SPLICE command
must exist when the DAG containing the SPLICE command is submitted. (Note that, if a SPLICE is contained
within a sub-DAG, the splice DAG must exist at the time that the sub-DAG is submitted, not when the top-most
DAG is submitted, so the splice DAG can be created by a part of the workflow that runs before the relevant
sub-DAG.)
     <dl class="description"><dt class="description">
Limitation: Splices and PRE or POST Scripts </dt><dd 
class="description"></dd></dl>
<!--l. 2854--><p class="indent" >   A PRE or POST script may not be specified for a splice (however, nodes within a spliced DAG can have PRE
and POST scripts). (The reason for this is that, when the DAG is parsed, the splices are also parsed and the splice
nodes are directly incorporated into the DAG containing the SPLICE command. Therefore, once parsing is
complete, there are no actual nodes corresponding to the splice itself to which to "attach" the PRE or POST
scripts.)
<!--l. 2862--><p class="indent" >   To achieve the desired effect of having a PRE script associated with a splice, introduce a new NOOP node into
the DAG with the splice as a dependency. Attach the PRE script to the NOOP node.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-221">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;BEGIN</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;example1.dag</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Names</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;a</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;node</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;with</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;no</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;associated</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;node</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;job,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;a</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NOOP</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;node</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Note</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;that</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;file</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;noop.submit</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;does</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;not</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;need</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;exist</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;OnlyPreNode</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;noop.submit</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NOOP</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Attach</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;a</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PRE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;script</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NOOP</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;node</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SCRIPT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PRE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;OnlyPreNode</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;prescript.sh</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Define</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;splice</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;TheSplice</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;thenode.dag</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Define</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;dependency</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;OnlyPreNode</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;TheSplice</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;END</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;example1.dag</tspan>
</div>
<!--l. 2883--><p class="nopar" >
<!--l. 2886--><p class="indent" >   The same technique is used to achieve the effect of having a POST script associated with a splice. Introduce a
new NOOP node into the DAG as a child of the splice, and attach the POST script to the NOOP
node.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-222">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;BEGIN</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;example2.dag</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Names</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;a</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;node</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;with</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;no</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;associated</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;node</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;job,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;a</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NOOP</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;node</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Note</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;that</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;file</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;noop.submit</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;does</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;not</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;need</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;exist.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;OnlyPostNode</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;noop.submit</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NOOP</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Attach</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;a</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;POST</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;script</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NOOP</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;node</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SCRIPT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;POST</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;OnlyPostNode</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;postscript.sh</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Define</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;splice</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;TheSplice</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;thenode.dag</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Define</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;dependency</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;TheSplice</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;OnlyPostNode</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;END</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;FILE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;example2.dag</tspan>
</div>
<!--l. 2909--><p class="nopar" >
     <dl class="description"><dt class="description">
Limitation: Splices and the RETRY of a Node, use of VARS, or use of PRIORITY </dt><dd 
class="description"></dd></dl>
<!--l. 2917--><p class="indent" >   A RETRY, VARS or PRIORITY command cannot be specified for a SPLICE; however, individual nodes within
a spliced DAG can have a RETRY, VARS or PRIORITY specified.
<!--l. 2921--><p class="indent" >   Here is an example showing a DAG that will not be parsed successfully:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-223">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;top</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;level</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;input</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;a.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;b.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cannot</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;work,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;as</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;not</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;a</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;node</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;in</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;once</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;splice</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;incorporated</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RETRY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;3</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dataset="10"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PRIORITY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;20</tspan>
</div>
<!--l. 2933--><p class="nopar" >
<!--l. 2935--><p class="indent" >   The following example <span class="emph">will</span> work:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-224">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;top</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;level</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;input</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;a.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;b.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;b.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;x.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RETRY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;3</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dataset="10"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PRIORITY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;20</tspan>
</div>
<!--l. 2947--><p class="nopar" >
<!--l. 2949--><p class="indent" >   When RETRY is desired on an entire subgraph of a workflow, sub-DAGs (see above) must be used instead of
splices.
<!--l. 2952--><p class="indent" >   Here is the same example, now defining job B as a SUBDAG, and effecting RETRY on that SUBDAG.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-225">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;top</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;level</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;input</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;a.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SUBDAG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;EXTERNAL</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;b.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PARENT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CHILD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RETRY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;3</tspan>
</div>
<!--l. 2961--><p class="nopar" >
     <dl class="description"><dt class="description">
Limitation: The Interaction of Categories and MAXJOBS with Splices </dt><dd 
class="description"></dd></dl>
<!--l. 2968--><p class="indent" >   Categories normally refer only to nodes within a given splice. All of the assignments of nodes to a category, and
the setting of the category throttle, should be done within a single DAG file. However, it is now possible to have
categories include nodes from within more than one splice. To do this, the category name is prefixed with the &#8217;+&#8217;
(plus) character. This tells DAGMan that the category is a cross-splice category. Towards deeper understanding,
what this really does is prevent renaming of the category when the splice is incorporated into the upper-level
DAG. The MAXJOBS specification for the category can appear in either the upper-level DAG file
or one of the splice DAG files. It probably makes the most sense to put it in the upper-level DAG
file.
<!--l. 2985--><p class="indent" >   Here is an example which applies a single limitation on submitted jobs, identifying the category with
<span class="texttt">+init</span>.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-226">
<tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;relevant</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;portion</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;upper.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;splice1.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;splice2.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MAXJOBS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;+init</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2</tspan>
</div>
<!--l. 2995--><p class="nopar" >
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-227">
<tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;relevant</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;portion</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;splice1.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CATEGORY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;+init</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CATEGORY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;D</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;+init</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
</div>
<!--l. 3005--><p class="nopar" >
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-228">
<tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;relevant</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;portion</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;splice2.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CATEGORY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;X</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;+init</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Y</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Y.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CATEGORY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Y</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;+init</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
</div>
<!--l. 3015--><p class="nopar" >
<!--l. 3017--><p class="indent" >   For both global and non-global category throttles, settings at a higher level in the DAG override settings at a
lower level. In this example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-229">
<tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;relevant</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;portion</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;upper.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;lower.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MAXJOBS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A+catX</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;10</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MAXJOBS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;+catY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;relevant</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;portion</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;lower.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MAXJOBS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;catX</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;5</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MAXJOBS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;+catY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
</div>
<!--l. 3035--><p class="nopar" >
<!--l. 3037--><p class="indent" >   the resulting throttle settings are 2 for the <span class="texttt">+catY</span> category and 10 for the <span class="texttt">A+catX</span> category in splice. Note that
non-global category names are prefixed with their splice name(s), so to refer to a non-global category at a higher
level, the splice name must be included.
   <h5 class="subsubsectionHead"><a 
 id="x22-1040002.10.9"></a>DAG Splice Connections</h5>
<a 
 id="dx22-104001"></a>
<a 
 id="dx22-104002"></a>
<a 
 id="dx22-104003"></a>
<a 
 id="dx22-104004"></a>
<!--l. 3050--><p class="noindent" >In the "default" usage of splices described above, when one splice is the parent of another splice, all "terminal"
nodes (nodes with no children) of the parent splice become parents of all "initial" nodes (nodes with no parents) of
the child splice. The CONNECT, PIN_IN, and PIN_OUT commands (added in version 8.5.7) allow more flexible
dependencies between splices. (The terms PIN_IN and PIN_OUT were chosen because of the hardware
analogy.)
<!--l. 3058--><p class="indent" >   The syntax for <span class="textit">CONNECT</span> is
<!--l. 3060--><p class="indent" >   <span class="textbf">CONNECT</span> <span class="textit">OutputSpliceName</span> <span class="textit">InputSpliceName</span>
<!--l. 3062--><p class="indent" >   The syntax for <span class="textit">PIN_IN</span> is
<!--l. 3064--><p class="indent" >   <span class="textbf">PIN_IN</span> <span class="textit">NodeName</span> <span class="textit">PinNumber</span>
<!--l. 3066--><p class="indent" >   The syntax for <span class="textit">PIN_OUT</span> is
                                                                                         

                                                                                         
<!--l. 3068--><p class="indent" >   <span class="textbf">PIN_OUT</span> <span class="textit">NodeName</span> <span class="textit">PinNumber</span>
<!--l. 3070--><p class="indent" >   All output splice nodes connected to a given pin_out will become parents of all input splice nodes connected to
the corresponding pin_in. (The pin_ins and pin_outs exist only to create the correct parent/child dependencies
between nodes. Once the DAG is parsed, there are no actual DAG objects corresponding to the pin_ins and
pin_outs.)
<!--l. 3077--><p class="indent" >   Any given splice can contain both PIN_IN and PIN_OUT definitions, and can be both an input and output
splice in different CONNECT commands. Furthermore, a splice can appear in any number of CONNECT
commands (for example, a given splice could be the output splice in two CONNECT commands that have
different input splices). It is <span class="emph">not</span> an error for a splice to have PIN_IN or PIN_OUT definitions that are
not associated with a CONNECT command &#8211; such PIN_IN and PIN_OUT commands are simply
ignored.
<!--l. 3086--><p class="indent" >   Note that the pin_ins and pin_outs must be defined <span class="emph">within</span> the relevant splices (this can be done with
<span class="textit">INCLUDE</span> commands), not in the DAG that connects the splices.
<!--l. 3091--><p class="indent" >   <span class="textbf">There are a number of restrictions on splice connections:</span>
     <ul class="itemize1">
     <li class="itemize">Connections can be made only between two splices; "regular" nodes or sub-DAGs cannot be used in a
     CONNECT command.
     </li>
     <li class="itemize">Pin_ins and pin_outs must be numbered consecutively starting at 1.
     </li>
     <li class="itemize">The pin_outs of the output splice in a connect command must match the pin_ins of the input splice
     in the command.
     </li>
     <li class="itemize">All "initial" nodes (nodes with no parents) of an input splice used in a CONNECT command must be
     connected to a pin_in.</li></ul>
<!--l. 3102--><p class="noindent" >Violating any of these restrictions will result in an error during the parsing of the DAG files.
<!--l. 3105--><p class="indent" >   Note: it is probably desireable for any "terminal" node (a node with no children) in the output splice to be
connected to a pin_out &#8211; but this is not required.
<!--l. 3109--><p class="indent" >   <span class="textbf">Here is a simple example:</span>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-230">
<tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;top.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;spliceA.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;spliceB.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SPLICE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;spliceC.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CONNECT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CONNECT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;spliceA.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A1.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A2.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_OUT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_OUT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;spliceB.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B1.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B2.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B3</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B3.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B4</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B4.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_IN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_IN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_IN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B3</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_IN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B4</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_OUT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_OUT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_OUT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B3</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;3</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_OUT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B4</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;spliceC.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C1.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_IN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_IN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_IN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;3</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PIN_IN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
</div>
<!--l. 3150--><p class="nopar" > In this example, node A1 will be the parent of B1 and B2; node A2 will be the parent of B3 and B4; and nodes B1,
B2, B3 and B4 will all be parents of C1.
                                                                                         

                                                                                         
<!--l. 3155--><p class="indent" >   A diagram of the above example:
<!--l. 3157--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                         

                                                                                         
<a 
 id="x22-1040057"></a>
                                                                                         

                                                                                         
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;2.7: </span><span  
class="content">Diagram of the splice connect example</span></div><!--tex4ht:label?: x22-1040057 -->
                                                                                         

                                                                                         
<!--l. 3224--><p class="noindent" ><object data="ref-8.svg" width="532.64917 " height="733.71457 " type="image/svg+xml"><p>SVG-Viewer needed.</p></object>
                                                                                         

                                                                                         
                                                                                         

                                                                                         
<!--l. 3226--><p class="indent" >   </div><hr class="endfigure">
   <h5 class="subsubsectionHead"><a 
 id="x22-1050002.10.9"></a>FINAL node</h5>
<a 
 id="dx22-105001"></a>
<a 
 id="dx22-105002"></a>
<!--l. 3233--><p class="noindent" >A FINAL node is a single and special node that is always run at the end of the DAG, even if previous nodes in the
DAG have failed. A FINAL node can be used for tasks such as cleaning up intermediate files and checking the
output of previous nodes. The <span class="textit">FINAL</span> command in the DAG input file specifies a node job to be run at the end of
the DAG.
<!--l. 3242--><p class="indent" >   The syntax used for the <span class="textit">FINAL</span> command is
<!--l. 3244--><p class="indent" >   <span class="textbf">FINAL</span> <span class="textit">JobName</span> <span class="textit">SubmitDescriptionFileName</span> [<span class="textbf">DIR&#x00A0;&#x00A0;</span><span class="textit">directory</span>] [<span class="textbf">NOOP</span>]
<!--l. 3247--><p class="indent" >   The FINAL node within the DAG is identified by <span class="textit">JobName</span>, and the HTCondor job is described by the contents
of the HTCondor submit description file given by <span class="textit">SubmitDescriptionFileName</span>.
<!--l. 3252--><p class="indent" >   The keywords <span class="textit">DIR</span> and <span class="textit">NOOP</span> are as detailed in section&#x00A0;<a 
href="#x22-780002.10.2">2.10.2<!--tex4ht:ref: dagman:JOB --></a>. If both <span class="textit">DIR</span> and <span class="textit">NOOP</span> are used, they must
appear in the order shown within the syntax specification.
<!--l. 3257--><p class="indent" >   There may only be one FINAL node in a DAG. A parse error will be logged by the <span class="textit">condor_dagman</span> job in the
<span class="texttt">dagman.out</span> file, if more than one FINAL node is specified.
<!--l. 3262--><p class="indent" >   The FINAL node is virtually always run. It is run if the <span class="textit">condor_dagman</span> job is removed with <span class="textit">condor_rm</span>. The
only case in which a FINAL node is not run is if the configuration variable <span class="texttt">DAGMAN_STARTUP_CYCLE_DETECT</span> <a 
 id="dx22-105003"></a><a 
 id="dx22-105004"></a> is set
to <span class="texttt">True</span>, and a cycle is detected at start up time. If <span class="texttt">DAGMAN_STARTUP_CYCLE_DETECT</span> <a 
 id="dx22-105005"></a><a 
 id="dx22-105006"></a> is set to <span class="texttt">False</span> and a cycle is
detected during the course of the run, the FINAL node <span class="emph">will</span> be run.
<!--l. 3272--><p class="indent" >   The success or failure of the FINAL node determines the success or failure of the entire DAG, overriding the
status of all previous nodes. This includes any status specified by any ABORT-DAG-ON specification
that has taken effect. If some nodes of a DAG fail, but the FINAL node succeeds, the DAG will be
considered successful. Therefore, it is important to be careful about setting the exit status of the FINAL
node.
<!--l. 3282--><p class="indent" >   The <span class="texttt">$DAG_STATUS</span> and <span class="texttt">$FAILED_COUNT</span> macros can be used both as PRE and POST script arguments, and in
node job submit description files. As an example of this, here are the partial contents of the DAG input
file,
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-231">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FINAL</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;final_node</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;final_node.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SCRIPT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PRE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;final_node</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;final_pre.pl</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$DAG_STATUS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$FAILED_COUNT</tspan>
</div>
<!--l. 3288--><p class="nopar" >
<!--l. 3290--><p class="indent" >   and here are the partial contents of the submit description file, <span class="texttt">final_node.sub</span>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-232">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;arguments</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"$(DAG_STATUS)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(FAILED_COUNT)"</tspan>
</div>
<!--l. 3294--><p class="nopar" >
<!--l. 3296--><p class="indent" >   If there is a FINAL node specified for a DAG, it will be run at the end of the workflow. If this FINAL
node must not do anything in certain cases, use the <span class="texttt">$DAG_STATUS</span> and <span class="texttt">$FAILED_COUNT</span> macros to take
appropriate actions. Here is an example of that behavior. It uses a PRE script that aborts if the DAG
has been removed with <span class="textit">condor_rm</span>, which, in turn, causes the FINAL node to be considered failed
without actually submitting the HTCondor job specified for the node. Partial contents of the DAG input
file:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-233">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FINAL</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;final_node</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;final_node.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SCRIPT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PRE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;final_node</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;final_pre.pl</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$DAG_STATUS</tspan>
</div>
<!--l. 3310--><p class="nopar" >
<!--l. 3312--><p class="indent" >   and partial contents of the Perl PRE script, <span class="texttt">final_pre.pl</span>:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-234">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#!</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/usr/bin/env</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;perl</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;if</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;($ARGV[0]</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;eq</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;{</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;exit(1);</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;}</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
</div>
<!--l. 3320--><p class="nopar" >
<!--l. 3323--><p class="indent" >   There are restrictions on the use of a FINAL node. The DONE option is <span class="emph">not</span> allowed for a FINAL node. And, a
FINAL node may not be referenced in any of the following specifications:
     <ul class="itemize1">
     <li class="itemize">PARENT, CHILD
     </li>
     <li class="itemize">RETRY
     </li>
     <li class="itemize">ABORT-DAG-ON
     </li>
     <li class="itemize">PRIORITY
     </li>
     <li class="itemize">CATEGORY</li></ul>
<!--l. 3335--><p class="indent" >   As of HTCondor version 8.3.7, DAGMan allows at most two submit attempts of a FINAL node, if the DAG has
been removed from the queue with <span class="textit">condor_rm</span>.
<!--l. 3340--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x22-1060002.10.9"></a>The ALL_NODES option</h5>
<a 
 id="dx22-106001"></a>
<!--l. 3343--><p class="noindent" >In the following commands, a specific node name can be replaced by the option <span class="textit">ALL_NODES</span>:
     <ul class="itemize1">
     <li class="itemize"><span class="textbf">SCRIPT</span>
     </li>
     <li class="itemize"><span class="textbf">PRE_SKIP</span>
                                                                                         

                                                                                         
     </li>
     <li class="itemize"><span class="textbf">RETRY</span>
     </li>
     <li class="itemize"><span class="textbf">ABORT-DAG-ON</span>
     </li>
     <li class="itemize"><span class="textbf">VARS</span>
     </li>
     <li class="itemize"><span class="textbf">PRIORITY</span>
     </li>
     <li class="itemize"><span class="textbf">CATEGORY</span></li></ul>
<!--l. 3355--><p class="indent" >   This will cause the given command to apply to all nodes (except any FINAL node) in that DAG.
<!--l. 3358--><p class="indent" >   The ALL_NODES <span class="emph">never</span> applies to a FINAL node. (If the <span class="textit">ALL_NODES</span> option is used in a DAG that has a
FINAL node, the <span class="texttt">dagman.out</span> file will contain messages noting that the FINAL node is skipped when parsing the
relevant commands.)
<!--l. 3363--><p class="indent" >   The <span class="textit">ALL_NODES</span> option is case-insensitive.
<!--l. 3365--><p class="indent" >   It is important to note that the <span class="textit">ALL_NODES</span> option does <span class="emph">not</span> apply across splices and sub-DAGs. In other
words, an <span class="textit">ALL_NODES</span> option within a splice or sub-DAG will apply only to nodes within that splice or sub-DAG;
also, an <span class="textit">ALL_NODES</span> option in a parent DAG will not apply to any splices or sub-DAGs referenced by the parent
DAG.
<!--l. 3372--><p class="indent" >   The <span class="textit">ALL_NODES</span> option <span class="emph">does</span> work in combination with the <span class="textit">INCLUDE</span> command. In other words, a command
within an included file that uses the <span class="textit">ALL_NODES</span> option will apply to all nodes in the including DAG (again,
except any FINAL node).
<!--l. 3377--><p class="indent" >   As of version 8.5.8, the <span class="textit">ALL_NODES</span> option cannot be used when multiple DAG files are specified on the
<span class="textit">condor_submit_dag</span> command line. Hopefully this limitation will be fixed in a future release.
<!--l. 3381--><p class="indent" >   When multiple commands (whether using the <span class="textit">ALL_NODES</span> option or not) set a given property
of a DAG node, the last relevant command overrides earlier commands, as shown in the following
examples:
<!--l. 3385--><p class="indent" >   For example, in this DAG:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-235">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;node.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name="A"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALL_NODES</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name="X"</tspan>
</div>
<!--l. 3390--><p class="nopar" > the value of <span class="textit">name</span> for node A will be "X".
<!--l. 3393--><p class="indent" >   In this DAG:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-236">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;node.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name="A"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALL_NODES</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name="X"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name="foo"</tspan>
</div>
<!--l. 3399--><p class="nopar" > the value of <span class="textit">name</span> for node A will be "foo".
<!--l. 3402--><p class="indent" >   Here is an example DAG using the <span class="textit">ALL_NODES</span> option:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-237">
<tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;File:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;all_ex.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;A</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;node.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;node.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;C</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;node.sub</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SCRIPT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PRE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALL_NODES</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;my_script</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$JOB</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALL_NODES</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name="$(JOB)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;This</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;overrides</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;above</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;command</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;for</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;node</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B.</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;B</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;name="nodeB"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RETRY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;all_nodes</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;3</tspan>
</div>
<!--l. 3417--><p class="nopar" >
<!--l. 3420--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.10   </span> <a 
 id="x22-1070002.10.10"></a>The Rescue DAG</h4>
<a 
 id="dx22-107001"></a>
<!--l. 3424--><p class="noindent" >Any time a DAG exits unsuccessfully, DAGMan generates a Rescue DAG. The Rescue DAG records the state of the
DAG, with information such as which nodes completed successfully, and the Rescue DAG will be used when the
DAG is again submitted. With the Rescue DAG, nodes that have already successfully completed are not
re-run.
<!--l. 3431--><p class="indent" >   There are a variety of circumstances under which a Rescue DAG is generated. If a node in the DAG fails, the
DAG does not exit immediately; the remainder of the DAG is continued until no more forward progress can be made
based on the DAG&#8217;s dependencies. At this point, DAGMan produces the Rescue DAG and exits. A Rescue DAG is
produced on Unix platforms if the <span class="textit">condor_dagman</span> job itself is removed with <span class="textit">condor_rm</span>. On Windows,
a Rescue DAG is <span class="emph">not</span> generated in this situation, but re-submitting the original DAG will invoke a
lower-level recovery functionality, and it will produce similar behavior to using a Rescue DAG. A Rescue
DAG is produced when a node sets and triggers an <span class="textit">ABORT-DAG-ON</span> event with a non-zero return
value. A zero return value constitutes successful DAG completion, and therefore a Rescue DAG is not
generated.
<!--l. 3448--><p class="indent" >   By default, if a Rescue DAG exists, it will be used when the DAG is submitted specifying the original DAG
input file. If more than one Rescue DAG exists, the newest one will be used. By using the Rescue DAG, DAGMan
will avoid re-running nodes that completed successfully in the previous run. <span class="textbf">Note that passing the <span class="textit">-force</span>
option to <span class="textit">condor_submit_dag</span> or <span class="textit">condor_dagman</span> will cause <span class="textit">condor_dagman</span> to not
                                                                                         

                                                                                         
use any existing rescue DAG. This means that previously-completed node jobs will be
re-run.</span>
<!--l. 3460--><p class="indent" >   The granularity defining success or failure in the Rescue DAG is the node. For a node that fails, all parts of the
node will be re-run, even if some parts were successful the first time. For example, if a node&#8217;s PRE script succeeds,
but then the node&#8217;s HTCondor job cluster fails, the entire node, including the PRE script, will be re-run. A job
cluster may result in the submission of multiple HTCondor jobs. If one of the jobs within the cluster fails, the node
fails. Therefore, the Rescue DAG will re-run the entire node, implying the submission of the entire cluster of jobs,
not just the one(s) that failed.
<!--l. 3474--><p class="indent" >   Statistics about the failed DAG execution are presented as comments at the beginning of the Rescue DAG input
file.
     <dl class="description"><dt class="description">
Rescue DAG Naming </dt><dd 
class="description"></dd></dl>
<!--l. 3483--><p class="indent" >   The file name of the Rescue DAG is obtained by appending the string <span class="obeylines-h"><span class="verb">.rescue&#x003C;XXX&#x003E;</span></span> to the original DAG input
file name. Values for <span class="obeylines-h"><span class="verb">&#x003C;XXX&#x003E;</span></span> start at <span class="obeylines-h"><span class="verb">001</span></span> and continue to <span class="obeylines-h"><span class="verb">002</span></span>, <span class="obeylines-h"><span class="verb">003</span></span>, and beyond. The configuration variable
<span class="texttt">DAGMAN_MAX_RESCUE_NUM</span> <a 
 id="dx22-107002"></a><a 
 id="dx22-107003"></a> sets a maximum value for <span class="obeylines-h"><span class="verb">&#x003C;XXX&#x003E;</span></span>; see section&#x00A0;<a 
href="ConfigurationMacros.html#x33-2150003.5.23">3.5.23<!--tex4ht:ref: param:DAGManMaxRescueNum --></a> for the complete definition of this
configuration variable. If you hit the <span class="texttt">DAGMAN_MAX_RESCUE_NUM</span> <a 
 id="dx22-107004"></a><a 
 id="dx22-107005"></a> limit, the last Rescue DAG file is overwritten if the
DAG fails again.
<!--l. 3495--><p class="indent" >   If a Rescue DAG exists when the original DAG is re-submitted, the Rescue DAG with the largest magnitude
value for <span class="obeylines-h"><span class="verb">&#x003C;XXX&#x003E;</span></span> will be used, and its usage is implied.
     <dl class="description"><dt class="description">
Example </dt><dd 
class="description"></dd></dl>
<!--l. 3505--><p class="indent" >   Here is an example showing file naming and DAG submission for the case of a failed DAG. The initial DAG is
submitted with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-238">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;my.dag</tspan>
</div>
<!--l. 3510--><p class="nopar" > A failure of this DAG results in the Rescue DAG named <span class="texttt">my.dag.rescue001</span>. The DAG is resubmitted using the
same command:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-239">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;my.dag</tspan>
</div>
<!--l. 3516--><p class="nopar" > This resubmission of the DAG uses the Rescue DAG file <span class="texttt">my.dag.rescue001</span>, because it exists. Failure of this
Rescue DAG results in another Rescue DAG called <span class="texttt">my.dag.rescue002</span>. If the DAG is again submitted, using the
same command as with the first two submissions, but not repeated here, then this third submission uses the Rescue
DAG file <span class="texttt">my.dag.rescue002</span>, because it exists, and because the value <span class="obeylines-h"><span class="verb">002</span></span> is larger in magnitude than
<span class="obeylines-h"><span class="verb">001</span></span>.
     <dl class="description"><dt class="description">
Backtracking to an Older Rescue DAG </dt><dd 
class="description"></dd></dl>
<!--l. 3533--><p class="indent" >   To explicitly specify a particular Rescue DAG, use the optional command-line argument <span class="textit">-dorescuefrom</span> with
<span class="textit">condor_submit_dag</span>. Note that this will have the side effect of renaming existing Rescue DAG files with larger
magnitude values of <span class="obeylines-h"><span class="verb">&#x003C;XXX&#x003E;</span></span>. Each renamed file has its existing name appended with the string <span class="texttt">.old</span>. For example,
assume that <span class="texttt">my.dag</span> has failed 4 times, resulting in the Rescue DAGs named <span class="texttt">my.dag.rescue001</span>,
<span class="texttt">my.dag.rescue002</span>, <span class="texttt">my.dag.rescue003</span>, and <span class="texttt">my.dag.rescue004</span>. A decision is made to re-run using
<span class="texttt">my.dag.rescue002</span>. The submit command is
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-240">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-dorescuefrom</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;my.dag</tspan>
</div>
<!--l. 3552--><p class="nopar" > The DAG specified by the DAG input file <span class="texttt">my.dag.rescue002</span> is submitted. And, the existing Rescue DAG
<span class="texttt">my.dag.rescue003</span> is renamed to be <span class="texttt">my.dag.rescue003.old</span>, while the existing Rescue DAG <span class="texttt">my.dag.rescue004</span> is
renamed to be <span class="texttt">my.dag.rescue004.old</span>.
     <dl class="description"><dt class="description">
Special Cases </dt><dd 
class="description"></dd></dl>
<!--l. 3566--><p class="indent" >   Note that if multiple DAG input files are specified on the <span class="textit">condor_submit_dag</span> command line, a single Rescue
DAG encompassing all of the input DAGs is generated. A DAG file containing splices also produces a single Rescue
DAG file. On the other hand, a DAG containing sub-DAGs will produce a separate Rescue DAG for each sub-DAG
that is queued (and for the top-level DAG).
<!--l. 3574--><p class="indent" >   If the Rescue DAG file is generated before all retries of a node are completed, then the Rescue DAG file will also
contain <span class="textit">Retry</span> entries. The number of retries will be set to the appropriate remaining number of retries. The
configuration variable <span class="texttt">DAGMAN_RESET_RETRIES_UPON_RESCUE</span> <a 
 id="dx22-107006"></a><a 
 id="dx22-107007"></a>, section&#x00A0;<a 
href="ConfigurationMacros.html#x33-2150003.5.23">3.5.23<!--tex4ht:ref: param:DAGManResetRetriesUponRescue --></a>, controls whether or not node retries
are reset in a Rescue DAG.
     <dl class="description"><dt class="description">
Partial versus Full Rescue DAGs </dt><dd 
class="description"></dd></dl>
<!--l. 3590--><p class="indent" >   As of HTCondor version 7.7.2, the Rescue DAG file is a partial DAG file, not a complete DAG input file as in
the past.
<!--l. 3593--><p class="indent" >   A partial Rescue DAG file contains only information about which nodes are done, and the number of retries
remaining for nodes with retries. It does not contain information such as the actual DAG structure and the
specification of the submit description file for each node job. Partial Rescue DAGs are automatically parsed in
combination with the original DAG input file, which contains information about the DAG structure. This updated
implementation means that a change in the original DAG input file, such as specifying a different
submit description file for a node job, will take effect when running the partial Rescue DAG. In other
words, you can fix mistakes in the original DAG file while still gaining the benefit of using the Rescue
DAG.
<!--l. 3607--><p class="indent" >   To use a partial Rescue DAG, you <span class="emph">must</span> re-run <span class="textit">condor_submit_dag</span> on the original DAG file, not the Rescue
DAG file.
<!--l. 3610--><p class="indent" >   Note that the existence of a DONE specification in a partial Rescue DAG for a node that no longer exists in the
                                                                                         

                                                                                         
original DAG input file is a warning, as opposed to an error, unless the <span class="texttt">DAGMAN_USE_STRICT</span> <a 
 id="dx22-107008"></a><a 
 id="dx22-107009"></a> configuration variable
is set to a value of 1 or higher (which is now the default). Comment out the line with <span class="textit">DONE</span> in the partial Rescue
DAG file to avoid a warning or error.
<!--l. 3618--><p class="indent" >   The previous (prior to version 7.7.2) behavior of producing full DAG input file as the Rescue DAG is obtained by
setting the configuration variable <span class="texttt">DAGMAN_WRITE_PARTIAL_RESCUE</span> <a 
 id="dx22-107010"></a><a 
 id="dx22-107011"></a> to the non-default value of <span class="texttt">False</span>. <span class="textbf">Note that
the option to generate full Rescue DAGs is likely to disappear some time during the 8.3
series.</span>
<!--l. 3626--><p class="indent" >   To run a full Rescue DAG, either one left over from an older version of DAGMan, or one produced by setting
<span class="texttt">DAGMAN_WRITE_PARTIAL_RESCUE</span> <a 
 id="dx22-107012"></a><a 
 id="dx22-107013"></a> to <span class="texttt">False</span>, directly specify the full Rescue DAG file on the command line instead of
the original DAG file. For example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-241">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;my.dag.rescue002</tspan>
</div>
<!--l. 3636--><p class="nopar" >
<!--l. 3638--><p class="indent" >   Attempting to re-submit the original DAG file, if the Rescue DAG file is a complete DAG, will result in a parse
failure.
     <dl class="description"><dt class="description">
Rescue DAG Generated When There Are Parse Errors </dt><dd 
class="description"></dd></dl>
<!--l. 3648--><p class="indent" >   Starting in HTCondor version 7.5.5, passing the <span class="textbf">-DumpRescue</span> option to either <span class="textit">condor_dagman</span> or
<span class="textit">condor_submit_dag</span> causes <span class="textit">condor_dagman</span> to output a Rescue DAG file, even if the parsing of a DAG input file
fails. In this parse failure case, <span class="textit">condor_dagman</span> produces a specially named Rescue DAG containing whatever it had
successfully parsed up until the point of the parse error. This Rescue DAG may be useful in debugging parse errors
in complex DAGs, especially ones using splices. This incomplete Rescue DAG is not meant to be used when
resubmitting a failed DAG. Note that this incomplete Rescue DAG generated by the <span class="textbf">-DumpRescue</span> option is a full
DAG input file, as produced by versions of HTCondor prior to HTCondor version 7.7.2. It is not a partial
Rescue DAG file, regardless of the value of the configuration variable <span class="texttt">DAGMAN_WRITE_PARTIAL_RESCUE</span>
<a 
 id="dx22-107014"></a><a 
 id="dx22-107015"></a>.
<!--l. 3666--><p class="indent" >   To avoid confusion between this incomplete Rescue DAG generated in the case of a parse failure and a
usable Rescue DAG, a different name is given to the incomplete Rescue DAG. The name appends the
string <span class="texttt">.parse_failed</span> to the original DAG input file name. Therefore, if the submission of a DAG
with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-242">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;my.dag</tspan>
</div>
<!--l. 3674--><p class="nopar" > has a parse failure, the resulting incomplete Rescue DAG will be named <span class="texttt">my.dag.parse_failed</span>.
<!--l. 3678--><p class="indent" >   To further prevent one of these incomplete Rescue DAG files from being used, a line within the file contains the
single command <span class="textit">REJECT</span>. This causes <span class="textit">condor_dagman</span> to reject the DAG, if used as a DAG input file. This is
done because the incomplete Rescue DAG may be a syntactically correct DAG input file. It will be
incomplete relative to the original DAG, such that if the incomplete Rescue DAG could be run, it could
erroneously be perceived as having successfully executed the desired workflow, when, in fact, it did
not.
<!--l. 3690--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.11   </span> <a 
 id="x22-1080002.10.11"></a>DAG Recovery</h4>
<a 
 id="dx22-108001"></a>
<a 
 id="dx22-108002"></a>
<!--l. 3695--><p class="noindent" >DAG recovery restores the state of a DAG upon resubmission. Recovery is accomplished by reading the
<span class="texttt">.nodes.log</span> file that is used to enforce the dependencies of the DAG. The DAG can then continue towards
completion.
<!--l. 3700--><p class="indent" >   Recovery is different than a Rescue DAG. Recovery is appropriate when no Rescue DAG has been
created. There will be no Rescue DAG if the machine running the <span class="textit">condor_dagman</span> job crashes, or if the
<span class="textit">condor_schedd</span> daemon crashes, or if the <span class="textit">condor_dagman</span> job crashes, or if the <span class="textit">condor_dagman</span> job is placed on
hold.
<!--l. 3708--><p class="indent" >   Much of the time, when a not-completed DAG is re-submitted, it will automatically be placed
into recovery mode due to the existence and contents of a lock file created as the DAG is first run.
In recovery mode, the <span class="texttt">.nodes.log</span> is used to identify nodes that have completed and should not be
re-submitted.
<!--l. 3715--><p class="indent" >   DAGMan can be told to work in recovery mode by including the <span class="textbf">-DoRecovery</span> option on the command line, as
in the example
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-243">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;diamond.dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-DoRecovery</tspan>
</div>
<!--l. 3719--><p class="nopar" > where <span class="texttt">diamond.dag</span> is the name of the DAG input file.
<!--l. 3722--><p class="indent" >   When debugging a DAG in which something has gone wrong, a first determination is whether a resubmission will
use a Rescue DAG or benefit from recovery. The existence of a Rescue DAG means that recovery would be
inappropriate. A Rescue DAG is has a file name ending in <span class="texttt">.rescue&#x003C;XXX&#x003E;</span>, where <span class="texttt">&#x003C;XXX&#x003E;</span> is replaced by a 3-digit
number.
<!--l. 3729--><p class="indent" >   Determine if a DAG ever completed (independent of whether it was successful or not) by looking at the last lines
of the <span class="texttt">.dagman.out</span> file. If there is a line similar to
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-244">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(condor_DAGMAN)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;pid</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;445</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;EXITING</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;WITH</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;STATUS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan>
</div>
<!--l. 3735--><p class="nopar" > then the DAG completed. This line explains that the <span class="textit">condor_dagman</span> job finished normally. If there is no line
similar to this at the end of the <span class="texttt">.dagman.out</span> file, and output from <span class="textit">condor_q</span> shows that the <span class="textit">condor_dagman</span> job
for the DAG being debugged is not in the queue, then recovery is indicated.
<!--l. 3744--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.12   </span> <a 
 id="x22-1090002.10.12"></a>Visualizing DAGs with <span class="textit">dot</span></h4>
<a 
 id="dx22-109001"></a>
<a 
 id="dx22-109002"></a>
<!--l. 3749--><p class="noindent" >It can be helpful to see a picture of a DAG. DAGMan can assist you in visualizing a DAG by creating the input files
used by the AT&amp;T Research Labs <span class="textit">graphviz</span> package. <span class="textit">dot</span> is a program within this package, available from
<a 
href="http://www.graphviz.org/" >http://www.graphviz.org/</a>, and it is used to draw pictures of DAGs.
<!--l. 3757--><p class="indent" >   DAGMan produces one or more dot files as the result of an extra line in a DAG input file. The line appears
as
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-245">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DOT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag.dot</tspan>
</div>
<!--l. 3766--><p class="nopar" >
<!--l. 3768--><p class="indent" >   This creates a file called <span class="texttt">dag.dot</span>. which contains a specification of the DAG before any jobs within
the DAG are submitted to HTCondor. The <span class="texttt">dag.dot</span> file is used to create a visualization of the DAG
by using this file as input to <span class="textit">dot</span>. This example creates a Postscript file, with a visualization of the
DAG:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-246">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dot</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-Tps</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag.dot</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-o</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag.ps</tspan>
</div>
<!--l. 3778--><p class="nopar" >
<!--l. 3780--><p class="indent" >   Within the DAG input file, the DOT command can take several optional parameters:
     <ul class="itemize1">
     <li class="itemize"><span class="textbf">UPDATE</span> This will update the dot file every time a significant update happens.
     </li>
     <li class="itemize"><span class="textbf">DONT-UPDATE</span> Creates a single dot file, when the DAGMan begins executing. This is the default
     if the parameter <span class="textbf">UPDATE</span> is not used.
     </li>
     <li class="itemize"><span class="textbf">OVERWRITE</span>  Overwrites  the  dot  file  each  time  it  is  created.  This  is  the  default,  unless
     <span class="textbf">DONT-OVERWRITE</span> is specified.
     </li>
     <li class="itemize"><span class="textbf">DONT-OVERWRITE</span> Used to create multiple dot files, instead of overwriting the single one specified. To
     create file names, DAGMan uses the name of the file concatenated with a period and an integer. For example,
     the DAG input file line
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-247">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DOT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dag.dot</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DONT-OVERWRITE</tspan>
</div>
     <!--l. 3803--><p class="nopar" > causes files <span class="texttt">dag.dot.0</span>, <span class="texttt">dag.dot.1</span>, <span class="texttt">dag.dot.2</span>, etc. to be created. This option is most useful when
     combined with the <span class="textbf">UPDATE</span> option to visualize the history of the DAG after it has finished
     executing.
     </li>
     <li class="itemize"><span class="textbf">INCLUDE&#x00A0;</span><span class="textit">path-to-filename</span> Includes the contents of a file given by <span class="texttt">path-to-filename</span> in the file produced
     by the <span class="textbf">DOT</span> command. The include file contents are always placed after the line of the form <span class="obeylines-h"><span class="verb">label=</span></span>. This
     may be useful if further editing of the created files would be necessary, perhaps because you are automatically
     visualizing the DAG as it progresses.
     </li></ul>
<!--l. 3826--><p class="indent" >   If conflicting parameters are used in a DOT command, the last one listed is used.
<!--l. 3830--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.13   </span> <a 
 id="x22-1100002.10.13"></a>Capturing the Status of Nodes in a File</h4>
<a 
 id="dx22-110001"></a>
<a 
 id="dx22-110002"></a>
<a 
 id="dx22-110003"></a>
<!--l. 3836--><p class="noindent" >DAGMan can capture the status of the overall DAG and all DAG nodes in a <span class="emph">node status file</span>, such
that the user or a script can monitor this status. This file is periodically rewritten while the DAG
runs. To enable this feature, the DAG input file must contain a line with the <span class="textit">NODE_STATUS_FILE</span>
command.
<!--l. 3844--><p class="indent" >   The syntax for a <span class="textit">NODE_STATUS_FILE</span> command is
<!--l. 3846--><p class="indent" >   <span class="textbf">NODE_STATUS_FILE</span> <span class="textit">statusFileName</span> [<span class="textit">minimumUpdateTime</span>] [<span class="textbf">ALWAYS-UPDATE</span>]
<!--l. 3849--><p class="indent" >   The status file is written on the machine on which the DAG is submitted; its location is given by
<span class="textit">statusFileName</span>, and it may be a full path and file name.
<!--l. 3853--><p class="indent" >   The optional <span class="textit">minimumUpdateTime</span> specifies the minimum number of seconds that must elapse between updates
to the node status file. This setting exists to avoid having DAGMan spend too much time writing the node status
file for very large DAGs. If no value is specified, this value defaults to 60 seconds (as of version 8.5.8; previously, it
defaulted to 0). The node status file can be updated at most once per <span class="texttt">DAGMAN_USER_LOG_SCAN_INTERVAL</span> <a 
 id="dx22-110004"></a><a 
 id="dx22-110005"></a>, as
defined at section&#x00A0;<a 
href="ConfigurationMacros.html#x33-2140003.5.23">3.5.23<!--tex4ht:ref: param:DAGManUserLogScanInterval --></a>, no matter how small the <span class="textit">minimumUpdateTime</span> value. Also, the node status file will be
updated when the DAG finishes, whether successfully or not, even if <span class="textit">minimumUpdateTime</span> seconds have not elapsed
since the last update.
                                                                                         

                                                                                         
<!--l. 3867--><p class="indent" >   Normally, the node status file is only updated if the status of some nodes has changed since the last time the file
was written. However, the optional <span class="textit">ALWAYS-UPDATE</span> keyword specifies that the node status file should be
updated every time the minimum update time (and <span class="texttt">DAGMAN_USER_LOG_SCAN_INTERVAL</span> <a 
 id="dx22-110006"></a><a 
 id="dx22-110007"></a>), has passed, even if no
nodes have changed status since the last time the file was updated. (The file will change slightly, because
timestamps will be updated.) For performance reasons, large DAGs with approximately 10,000 or more nodes are
poor candidates for using the <span class="textit">ALWAYS-UPDATE</span> option.
<!--l. 3880--><p class="indent" >   As an example, if the DAG input file contains the line
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-248">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NODE_STATUS_FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;my.dag.status</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;30</tspan>
</div>
<!--l. 3883--><p class="nopar" > the file <span class="texttt">my.dag.status</span> will be rewritten at intervals of 30 seconds or more.
<!--l. 3887--><p class="indent" >   This node status file is overwritten each time it is updated. Therefore, it only holds information about the
<span class="emph">current</span> status of each node; it does not provide a history of the node status.
<!--l. 3891--><p class="indent" >   <span class="underline">NOTE</span>: HTCondor version 8.1.6 changes the format of the node status file.
<!--l. 3894--><p class="indent" >   The node status file is a collection of ClassAds in New ClassAd format. There is one ClassAd for the overall
status of the DAG, one ClassAd for the status of each node, and one ClassAd with the time at which the node
status file was completed as well as the time of the next update.
<!--l. 3899--><p class="indent" >   Here is an example portion of a node status file:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-249">
<tspan font-family="ectt" font-size="1000">[</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Type</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"DagStatus";</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DagFiles</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;{</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"job_dagman_node_status.dag"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;};</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Timestamp</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1399674138;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"Fri</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;May</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;9</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;17:22:18</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2014"</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*/</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DagStatus</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;3;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"STATUS_SUBMITTED</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;()"</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*/</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodesTotal</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;12;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodesDone</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;11;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodesPre</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodesQueued</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodesPost</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodesReady</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodesUnready</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodesFailed</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JobProcsHeld</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JobProcsIdle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">]</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">[</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Type</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"NodeStatus";</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Node</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"A";</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeStatus</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;5;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"STATUS_DONE"</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*/</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;StatusDetails</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"";</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RetryCount</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JobProcsQueued</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JobProcsHeld</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">]</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">...</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">[</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Type</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"NodeStatus";</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Node</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"C";</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeStatus</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;3;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"STATUS_SUBMITTED"</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*/</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;StatusDetails</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"idle";</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RetryCount</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JobProcsQueued</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JobProcsHeld</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">]</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">[</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Type</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"StatusEnd";</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;EndTime</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1399674138;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"Fri</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;May</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;9</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;17:22:18</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2014"</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*/</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NextUpdate</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1399674141;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"Fri</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;May</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;9</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;17:22:21</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2014"</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*/</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">]</tspan>
                                                                                         

                                                                                         
</div><!--l. 3944--><p class="nopar" >
<!--l. 3946--><p class="indent" >   Possible <span class="texttt">DagStatus</span> and <span class="texttt">NodeStatus</span> attribute values are:
     <ul class="itemize1">
     <li class="itemize">0 (<span class="obeylines-h"><span class="verb">STATUS_NOT_READY</span></span>): At least one parent has not yet finished or the node is a FINAL node.
     </li>
     <li class="itemize">1 (<span class="obeylines-h"><span class="verb">STATUS_READY</span></span>): All parents have finished, but the node is not yet running.
     </li>
     <li class="itemize">2 (<span class="obeylines-h"><span class="verb">STATUS_PRERUN</span></span>): The node&#8217;s PRE script is running.
     </li>
     <li class="itemize">3 (<span class="obeylines-h"><span class="verb">STATUS_SUBMITTED</span></span>): The node&#8217;s HTCondor job(s) are in the queue.
     </li>
     <li class="itemize">4 (<span class="obeylines-h"><span class="verb">STATUS_POSTRUN</span></span>): The node&#8217;s POST script is running.
     </li>
     <li class="itemize">5 (<span class="obeylines-h"><span class="verb">STATUS_DONE</span></span>): The node has completed successfully.
     </li>
     <li class="itemize">6 (<span class="obeylines-h"><span class="verb">STATUS_ERROR</span></span>): The node has failed.</li></ul>
<!--l. 3961--><p class="indent" >   A <span class="textit">NODE_STATUS_FILE</span> command inside any splice is ignored. If multiple DAG files are specified on the
<span class="textit">condor_submit_dag</span> command line, and more than one specifies a node status file, the first specification takes
precedence.
<!--l. 3967--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.14   </span> <a 
 id="x22-1110002.10.14"></a>A Machine-Readable Event History, the jobstate.log File</h4>
<a 
 id="dx22-111001"></a>
<a 
 id="dx22-111002"></a>
<a 
 id="dx22-111003"></a>
<!--l. 3973--><p class="noindent" >DAGMan can produce a machine-readable history of events. The <span class="texttt">jobstate.log</span> file is designed for use by the
Pegasus Workflow Management System, which operates as a layer on top of DAGMan. Pegasus uses the
<span class="texttt">jobstate.log</span> file to monitor the state of a workflow. The <span class="texttt">jobstate.log</span> file can used by any automated tool for
the monitoring of workflows.
<!--l. 3980--><p class="indent" >   DAGMan produces this file when the command <span class="textit">JOBSTATE_LOG</span> is in the DAG input file. The syntax for
<span class="textit">JOBSTATE_LOG</span> is
<!--l. 3984--><p class="indent" >   <span class="textbf">JOBSTATE_LOG</span> <span class="textit">JobstateLogFileName</span>
                                                                                         

                                                                                         
<!--l. 3986--><p class="indent" >   No more than one <span class="texttt">jobstate.log</span> file can be created by a single instance of <span class="textit">condor_dagman</span>. If more than one
<span class="texttt">jobstate.log</span> file is specified, the first file name specified will take effect, and a warning will be printed in the
<span class="texttt">dagman.out</span> file when subsequent <span class="textit">JOBSTATE_LOG</span> specifications are parsed. Multiple specifications may exist in
the same DAG file, within splices, or within multiple, independent DAGs run with a single <span class="textit">condor_dagman</span>
instance.
<!--l. 3995--><p class="indent" >   The <span class="texttt">jobstate.log</span> file can be considered a filtered version of the <span class="texttt">dagman.out</span> file, in a machine-readable format.
It contains the actual node job events that from <span class="textit">condor_dagman</span>, plus some additional meta-events.
<!--l. 4000--><p class="indent" >   The <span class="texttt">jobstate.log</span> file is different from the node status file, in that the <span class="texttt">jobstate.log</span> file is appended to, rather
than being overwritten as the DAG runs. Therefore, it contains a history of the DAG, rather than a snapshot of the
current state of the DAG.
<!--l. 4006--><p class="indent" >   There are 5 line types in the <span class="texttt">jobstate.log</span> file. Each line begins with a Unix timestamp in the form of seconds
since the Epoch. Fields within each line are separated by a single space character.
     <dl class="description"><dt class="description">
DAGMan start </dt><dd 
class="description">This line identifies the <span class="textit">condor_dagman</span> job. The formatting of the line is
     <!--l. 4015--><p class="noindent" ><span class="textit">timestamp</span> INTERNAL *** DAGMAN_STARTED <span class="textit">dagmanCondorID</span> ***
     <!--l. 4017--><p class="noindent" >The <span class="textit">dagmanCondorID</span> field is the <span class="textit">condor_dagman</span> job&#8217;s <span class="texttt">ClusterId</span> attribute, a period, and the <span class="texttt">ProcId</span>
     attribute.
     </dd><dt class="description">
DAGMan exit </dt><dd 
class="description">This line identifies the completion of the <span class="textit">condor_dagman</span> job. The formatting of the line
     is
     <!--l. 4024--><p class="noindent" ><span class="textit">timestamp</span> INTERNAL *** DAGMAN_FINISHED <span class="textit">exitCode</span> ***
     <!--l. 4026--><p class="noindent" >The <span class="textit">exitCode</span> field is value the <span class="textit">condor_dagman</span> job returns upon exit.
     </dd><dt class="description">
Recovery started </dt><dd 
class="description">If the <span class="textit">condor_dagman</span> job goes into recovery mode, this meta-event is printed. During
     recovery mode, events will only be printed in the file if they were not already printed before recovery
     mode started. The formatting of the line is
     <!--l. 4035--><p class="noindent" ><span class="textit">timestamp</span> INTERNAL *** RECOVERY_STARTED ***
     </dd><dt class="description">
Recovery finished or Recovery failure </dt><dd 
class="description">At the end of recovery mode, either a RECOVERY_FINISHED
     or RECOVERY_FAILURE meta-event will be printed, as appropriate.
     <!--l. 4042--><p class="noindent" >The formatting of the line is
     <!--l. 4044--><p class="noindent" ><span class="textit">timestamp</span> INTERNAL *** RECOVERY_FINISHED ***
     <!--l. 4046--><p class="noindent" >or
     <!--l. 4048--><p class="noindent" ><span class="textit">timestamp</span> INTERNAL *** RECOVERY_FAILURE ***
     </dd><dt class="description">
Normal </dt><dd 
class="description">This line is used for all other event and meta-event types. The formatting of the line is
     <!--l. 4054--><p class="noindent" ><span class="textit">timestamp</span> <span class="textit">JobName</span> <span class="textit">eventName</span> <span class="textit">condorID</span> <span class="textit">jobTag</span> - <span class="textit">sequenceNumber</span>
                                                                                         

                                                                                         
     <!--l. 4056--><p class="noindent" >The <span class="textit">JobName</span> is the name given to the node job as defined in the DAG input file with the command
     <span class="textit">JOB</span>. It identifies the node within the DAG.
     <!--l. 4060--><p class="noindent" >The <span class="textit">eventName</span> is one of the many defined event or meta-events given in the lists below.
     <!--l. 4063--><p class="noindent" >The <span class="textit">condorID</span> field is the job&#8217;s <span class="texttt">ClusterId</span> attribute, a period, and the <span class="texttt">ProcId</span> attribute. There is no
     <span class="textit">condorID</span> assigned yet for some meta-events, such as PRE_SCRIPT_STARTED. For these, the dash
     character (&#8217;-&#8217;) is printed.
     <!--l. 4069--><p class="noindent" >The <span class="textit">jobTag</span> field is defined for the Pegasus workflow manager. Its usage is generalized to be useful to other
     workflow managers. Pegasus-managed jobs add a line of the following form to their HTCondor submit
     description file:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-250">
     <tspan font-family="ectt" font-size="1000">+pegasus_site</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"local"</tspan>
</div>
     <!--l. 4075--><p class="nopar" > This defines the string <span class="texttt">local</span> as the <span class="textit">jobTag</span> field.
     <!--l. 4078--><p class="noindent" >Generalized usage adds a set of 2 commands to the HTCondor submit description file to define a string as the
     <span class="textit">jobTag</span> field:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-251">
     <tspan font-family="ectt" font-size="1000">+job_tag_name</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"+job_tag_value"</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">+job_tag_value</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"viz"</tspan>
</div>
     <!--l. 4083--><p class="nopar" > This defines the string <span class="texttt">viz</span> as the <span class="textit">jobTag</span> field. Without any of these added lines within the HTCondor submit
     description file, the dash character (&#8217;-&#8217;) is printed for the <span class="textit">jobTag</span> field.
     <!--l. 4088--><p class="noindent" >The <span class="textit">sequenceNumber</span> is a monotonically-increasing number that starts at one. It is associated with each
     attempt at running a node. If a node is retried, it gets a new sequence number; a submit failure does
     not result in a new sequence number. When a Rescue DAG is run, the sequence numbers pick
     up from where they left off within the previous attempt at running the DAG. Note that this
     only applies if the Rescue DAG is run automatically or with the <span class="textit">-dorescuefrom</span> command-line
     option.
     </dd></dl>
<!--l. 4101--><p class="indent" >   Here is an example of a very simple Pegasus <span class="texttt">jobstate.log</span> file, assuming the example <span class="textit">jobTag</span> field of
<span class="texttt">local</span>:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-252">
<tspan font-family="ectt" font-size="1000">1292620511</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;INTERNAL</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;***</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAGMAN_STARTED</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4972.0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;***</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">1292620523</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PRE_SCRIPT_STARTED</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;local</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">1292620523</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PRE_SCRIPT_SUCCESS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;local</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">1292620525</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SUBMIT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4973.0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;local</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">1292620525</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;EXECUTE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4973.0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;local</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">1292620526</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB_TERMINATED</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4973.0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;local</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">1292620526</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB_SUCCESS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;local</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">1292620526</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;POST_SCRIPT_STARTED</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4973.0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;local</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">1292620531</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;POST_SCRIPT_TERMINATED</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4973.0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;local</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">1292620531</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NodeA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;POST_SCRIPT_SUCCESS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4973.0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;local</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">1292620535</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;INTERNAL</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;***</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAGMAN_FINISHED</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;***</tspan>
</div>
<!--l. 4116--><p class="nopar" >
     <dl class="description"><dt class="description">
Events defining the eventName field </dt><dd 
class="description">
         <ul class="itemize1">
         <li class="itemize">SUBMIT
         </li>
         <li class="itemize">EXECUTE
         </li>
         <li class="itemize">EXECUTABLE_ERROR
         </li>
         <li class="itemize">CHECKPOINTED
         </li>
         <li class="itemize">JOB_EVICTED
         </li>
         <li class="itemize">JOB_TERMINATED
         </li>
         <li class="itemize">IMAGE_SIZE
         </li>
         <li class="itemize">SHADOW_EXCEPTION
         </li>
         <li class="itemize">GENERIC
                                                                                         

                                                                                         
         </li>
         <li class="itemize">JOB_ABORTED
         </li>
         <li class="itemize">JOB_SUSPENDED
         </li>
         <li class="itemize">JOB_UNSUSPENDED
         </li>
         <li class="itemize">JOB_HELD
         </li>
         <li class="itemize">JOB_RELEASED
         </li>
         <li class="itemize">NODE_EXECUTE
         </li>
         <li class="itemize">NODE_TERMINATED
         </li>
         <li class="itemize">POST_SCRIPT_TERMINATED
         </li>
         <li class="itemize">GLOBUS_SUBMIT
         </li>
         <li class="itemize">GLOBUS_SUBMIT_FAILED
         </li>
         <li class="itemize">GLOBUS_RESOURCE_UP
         </li>
         <li class="itemize">GLOBUS_RESOURCE_DOWN
         </li>
         <li class="itemize">REMOTE_ERROR
         </li>
         <li class="itemize">JOB_DISCONNECTED
         </li>
         <li class="itemize">JOB_RECONNECTED
         </li>
         <li class="itemize">JOB_RECONNECT_FAILED
         </li>
         <li class="itemize">GRID_RESOURCE_UP
         </li>
         <li class="itemize">GRID_RESOURCE_DOWN
         </li>
         <li class="itemize">GRID_SUBMIT
         </li>
         <li class="itemize">JOB_AD_INFORMATION
                                                                                         

                                                                                         
         </li>
         <li class="itemize">JOB_STATUS_UNKNOWN
         </li>
         <li class="itemize">JOB_STATUS_KNOWN
         </li>
         <li class="itemize">JOB_STAGE_IN
         </li>
         <li class="itemize">JOB_STAGE_OUT</li></ul>
     </dd><dt class="description">
Meta-Events defining the eventName field </dt><dd 
class="description">
         <ul class="itemize1">
         <li class="itemize">SUBMIT_FAILURE
         </li>
         <li class="itemize">JOB_SUCCESS
         </li>
         <li class="itemize">JOB_FAILURE
         </li>
         <li class="itemize">PRE_SCRIPT_STARTED
         </li>
         <li class="itemize">PRE_SCRIPT_SUCCESS
         </li>
         <li class="itemize">PRE_SCRIPT_FAILURE
         </li>
         <li class="itemize">POST_SCRIPT_STARTED
         </li>
         <li class="itemize">POST_SCRIPT_SUCCESS
         </li>
         <li class="itemize">POST_SCRIPT_FAILURE
         </li>
         <li class="itemize">DAGMAN_STARTED
         </li>
         <li class="itemize">DAGMAN_FINISHED
         </li>
         <li class="itemize">RECOVERY_STARTED
         </li>
         <li class="itemize">RECOVERY_FINISHED
         </li>
         <li class="itemize">RECOVERY_FAILURE</li></ul>
     </dd></dl>
                                                                                         

                                                                                         
<!--l. 4180--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.15   </span> <a 
 id="x22-1120002.10.15"></a>Status Information for the DAG in a ClassAd</h4>
<a 
 id="dx22-112001"></a>
<!--l. 4184--><p class="noindent" >The <span class="textit">condor_dagman</span> job places information about the status of the DAG into its own job ClassAd. The attributes
are fully described at section &#x00A0;<a 
href="JobClassAdAttributes.html#x170-1234000A.2">A.2<!--tex4ht:ref: Job-ClassAd-DAGManAttributes --></a>. The attributes are
     <ul class="itemize1">
     <li class="itemize"><span class="texttt">DAG_NodesTotal</span>
     </li>
     <li class="itemize"><span class="texttt">DAG_NodesDone</span>
     </li>
     <li class="itemize"><span class="texttt">DAG_NodesPrerun</span>
     </li>
     <li class="itemize"><span class="texttt">DAG_NodesQueued</span>
     </li>
     <li class="itemize"><span class="texttt">DAG_NodesPostrun</span>
     </li>
     <li class="itemize"><span class="texttt">DAG_NodesReady</span>
     </li>
     <li class="itemize"><span class="texttt">DAG_NodesFailed</span>
     </li>
     <li class="itemize"><span class="texttt">DAG_NodesUnready</span>
     </li>
     <li class="itemize"><span class="texttt">DAG_Status</span>
     </li>
     <li class="itemize"><span class="texttt">DAG_InRecovery</span></li></ul>
<!--l. 4203--><p class="indent" >   Note that most of this information is also available in the <span class="texttt">dagman.out</span> file as described in section&#x00A0;<a 
href="#x22-880002.10.7">2.10.7<!--tex4ht:ref: sec:DAGMonitoring --></a>.
<!--l. 4207--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.16   </span> <a 
 id="x22-1130002.10.16"></a>Utilizing the Power of DAGMan for Large Numbers of Jobs</h4>
<a 
 id="dx22-113001"></a>
<!--l. 4211--><p class="noindent" >Using DAGMan is recommended when submitting large numbers of jobs. The recommendation holds whether the
jobs are represented by a DAG due to dependencies, or all the jobs are independent of each other, such as they
might be in a parameter sweep. DAGMan offers:
                                                                                         

                                                                                         
     <dl class="description"><dt class="description">
Throttling </dt><dd 
class="description">Throttling limits the number of submitted jobs at any point in time.
     </dd><dt class="description">
Retry of jobs that fail </dt><dd 
class="description">This is a useful tool when an intermittent error may cause a job to fail or may
     cause a job to fail to run to completion when attempted at one point in time, but not at another
     point in time. The conditions under which retry occurs are user-defined. In addition, the administrative
     support that facilitates the rerunning of only those jobs that fail is automatically generated.
     </dd><dt class="description">
Scripts associated with node jobs </dt><dd 
class="description">PRE and POST scripts run on the submit host before and/or after
     the execution of specified node jobs.</dd></dl>
<!--l. 4232--><p class="indent" >   Each of these capabilities is described in detail within this manual section about DAGMan. To make effective use
of DAGMan, there is no way around reading the appropriate subsections.
<!--l. 4237--><p class="indent" >   To run DAGMan with large numbers of independent jobs, there are generally two ways of organizing and
specifying the files that control the jobs. Both ways presume that programs or scripts will generate needed files,
because the file contents are either large and repetitive, or because there are a large number of similar files to be
generated representing the large numbers of jobs. The two file types needed are the DAG input file and
the submit description file(s) for the HTCondor jobs represented. Each of the two ways is presented
separately:
     <dl class="description"><dt class="description">
A unique submit description file for each of the many jobs. </dt><dd 
class="description">A single DAG input file lists each of the jobs
     and specifies a distinct submit description file for each job. The DAG input file is simple to generate, as it
     chooses an identifier for each job and names the submit description file. For example, the simplest DAG
     input file for a set of 1000 independent jobs, as might be part of a parameter sweep, appears
     as
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-253">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;sweep.dag</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job0.submit</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job1.submit</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job2.submit</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;.</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;.</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;.</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job999</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job999.submit</tspan>
</div>
     <!--l. 4265--><p class="nopar" > There are 1000 submit description files, with a unique one for each of the job&#x003C;N&#x003E; jobs. Assuming that
     all files associated with this set of jobs are in the same directory, and that files continue the
     same naming and numbering scheme, the submit description file for <span class="texttt">job6.submit</span> might appear
     as
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-254">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job6.submit</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;universe</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;vanilla</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;executable</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/path/to/executable</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;log</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job6.log</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;input</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job6.in</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;output</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job6.out</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;arguments</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"-file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job6.out"</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;queue</tspan>
</div>
     <!--l. 4281--><p class="nopar" >
     <!--l. 4283--><p class="noindent" >Submission of the entire set of jobs uses the command line
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-255">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;sweep.dag</tspan>
</div>
     <!--l. 4286--><p class="nopar" >
     <!--l. 4288--><p class="noindent" >A benefit to having unique submit description files for each of the jobs is that they are available if one of the
     jobs needs to be submitted individually. A drawback to having unique submit description files for each of the
     jobs is that there are lots of submit description files.
     </dd><dt class="description">
Single submit description file. </dt><dd 
class="description">A single HTCondor submit description file might be used for all the many jobs of
     the parameter sweep. To distinguish the jobs and their associated distinct input and output files, the DAG
     input file assigns a unique identifier with the <span class="textit">VARS</span> command.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-256">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;sweep.dag</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;common.submit</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;runnumber="0"</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;common.submit</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;runnumber="1"</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;common.submit</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;runnumber="2"</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;.</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;.</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;.</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job999</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;common.submit</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job999</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;runnumber="999"</tspan>
</div>
     <!--l. 4312--><p class="nopar" >
     <!--l. 4314--><p class="noindent" >The single submit description file for all these jobs utilizes the <span class="texttt">runnumber</span> variable value in its identification of
     the job&#8217;s files. This submit description file might appear as
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-257">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;common.submit</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;universe</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;vanilla</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;executable</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/path/to/executable</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;log</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;wholeDAG.log</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;input</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job$(runnumber).in</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;output</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job$(runnumber).out</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;arguments</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"-$(runnumber)"</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;queue</tspan>
</div>
     <!--l. 4327--><p class="nopar" > The job with <span class="texttt">runnumber="8"</span> expects to find its input file <span class="texttt">job8.in</span> in the single, common directory, and it
     sends its output to <span class="texttt">job8.out</span>. The single log for all job events of the entire DAG is <span class="texttt">wholeDAG.log</span>. Using one
     file for the entire DAG meets the limitation that no macro substitution may be specified for the job log file,
     and it is likely more efficient as well. This node&#8217;s executable is invoked with
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-258">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/path/to/executable</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-8</tspan>
</div>
     <!--l. 4338--><p class="nopar" >
     </dd></dl>
<!--l. 4342--><p class="indent" >   These examples work well with respect to file naming and file location when there are less than several thousand
jobs submitted as part of a DAG. The large numbers of files per directory becomes an issue when there are greater
than several thousand jobs submitted as part of a DAG. In this case, consider a more hierarchical structure for the
files instead of a single directory. Introduce a separate directory for each run. For example, if there were 10,000 jobs,
there would be 10,000 directories, one for each of these jobs. The directories are presumed to be generated and
populated by programs or scripts that, like the previous examples, utilize a run number. Each of these directories
named utilizing the run number will be used for the input, output, and log files for one of the many
jobs.
<!--l. 4359--><p class="indent" >   As an example, for this set of 10,000 jobs and directories, assume that there is a run number of 600. The
directory will be named <span class="texttt">dir600</span>, and it will hold the 3 files called <span class="texttt">in</span>, <span class="texttt">out</span>, and <span class="texttt">log</span>, representing the input, output,
and HTCondor job log files associated with run number 600.
<!--l. 4366--><p class="indent" >   The DAG input file sets a variable representing the run number, as in the previous example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-259">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;biggersweep.dag</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;bigger.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;runnumber="0"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;bigger.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;runnumber="1"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;bigger.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;runnumber="2"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;.</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;.</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;.</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JOB</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job9999</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;bigger.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;VARS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job9999</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;runnumber="9999"</tspan>
</div>
<!--l. 4381--><p class="nopar" >
<!--l. 4383--><p class="indent" >   A single HTCondor submit description file may be written. It resides in the same directory as the DAG input
file.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-260">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;bigger.submit</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;universe</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;vanilla</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;executable</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/path/to/executable</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;log</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;log</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;input</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;in</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;output</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;out</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;arguments</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"-$(runnumber)"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;initialdir</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dir$(runnumber)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;queue</tspan>
</div>
<!--l. 4395--><p class="nopar" >
<!--l. 4397--><p class="indent" >   One item to care about with this set up is the underlying file system for the pool. The transfer of files (or not)
when using <span class="textbf">initialdir</span><a 
 id="dx22-113002"></a> differs based upon the job <span class="textbf">universe</span><a 
 id="dx22-113003"></a> and whether or not there is a shared file system. See
section&#x00A0;<a 
href="Condorsubmit.html#x149-108400012">12<!--tex4ht:ref: man-condor-submit-initialdir --></a> for the details on the submit command <span class="textbf">initialdir</span><a 
 id="dx22-113004"></a>.
<!--l. 4405--><p class="indent" >   Submission of this set of jobs is no different than the previous examples. With the current working directory the
same as the one containing the submit description file, the DAG input file, and the subdirectories,
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-261">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;biggersweep.dag</tspan>
</div>
<!--l. 4411--><p class="nopar" >
<!--l. 4414--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.17   </span> <a 
 id="x22-1140002.10.17"></a>Workflow Metrics</h4>
<a 
 id="dx22-114001"></a>
<!--l. 4418--><p class="noindent" ><span class="textit">condor_dagman</span> may report workflow metrics to one or more HTTP servers. This capability is currently only
used for workflows run under <span class="textit">Pegasus</span>. The reporting is disabled by setting the <span class="texttt">CONDOR_DEVELOPERS</span> <a 
 id="dx22-114002"></a><a 
 id="dx22-114003"></a>
configuration variable to <span class="texttt">NONE</span>, or by setting the <span class="texttt">PEGASUS_METRICS</span> environment variable to any value
other than <span class="texttt">True</span> (case-insensitive) or 1. The <span class="texttt">dagman.out</span> file will indicate whether or not metrics were
reported.
<!--l. 4428--><p class="indent" >   For every DAG, a metrics file is created independent of the reporting of those metrics. This metrics file is named
<span class="texttt">&#x003C;dag_file_name&#x003E;.metrics</span>, where <span class="texttt">&#x003C;dag_file_name&#x003E;</span> is the name of the DAG input file. In a workflow with nested
DAGs, each nested DAG will create its own metrics file.
<!--l. 4436--><p class="indent" >   Here is an example metrics output file:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-262">
<tspan font-family="ectt" font-size="1000">{</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"client":"condor_dagman",</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"version":"8.1.0",</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"planner":"/lfs1/devel/Pegasus/pegasus/bin/pegasus-plan",</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"planner_version":"4.3.0cvs",</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"type":"metrics",</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"wf_uuid":"htcondor-test-job_dagman_metrics-A-subdag",</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"root_wf_uuid":"htcondor-test-job_dagman_metrics-A",</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"start_time":1375313459.603,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"end_time":1375313491.498,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"duration":31.895,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"exitcode":1,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"dagman_id":"26",</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"parent_dagman_id":"11",</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"rescue_dag_number":0,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"jobs":4,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"jobs_failed":1,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"jobs_succeeded":3,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"dag_jobs":0,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"dag_jobs_failed":0,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"dag_jobs_succeeded":0,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"total_jobs":4,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"total_jobs_run":4,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"total_job_time":0.000,</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"dag_status":2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">}</tspan>
</div>
<!--l. 4464--><p class="nopar" >
<!--l. 4466--><p class="indent" >   Here is an explanation of each of the items in the file:
     <ul class="itemize1">
     <li class="itemize"><span class="texttt">client</span>: the name of the client workflow software; in the example, it is <span class="texttt">"condor_dagman"</span>
     </li>
     <li class="itemize"><span class="texttt">version</span>: the version of the client workflow software
     </li>
     <li class="itemize"><span class="texttt">planner</span>: the workflow planner, as read from the <span class="texttt">braindump.txt</span> file
     </li>
     <li class="itemize"><span class="texttt">planner_version</span>: the planner software version, as read from the <span class="texttt">braindump.txt</span> file
                                                                                         

                                                                                         
     </li>
     <li class="itemize"><span class="texttt">type</span>: the type of data, <span class="texttt">"metrics"</span>
     </li>
     <li class="itemize"><span class="texttt">wf_uuid</span>: the workflow ID, generated by <span class="textit">pegasus-plan</span>, as read from the <span class="texttt">braindump.txt</span> file
     </li>
     <li class="itemize"><span class="texttt">root_wf_uuid</span>:  the  root  workflow  ID,  which  is  relevant  for  nested  workflows.  It  is  generated  by
     <span class="textit">pegasus-plan</span>, as read from the <span class="texttt">braindump.txt</span> file.
     </li>
     <li class="itemize"><span class="texttt">start_time</span>: the start time of the client, in epoch seconds, with millisecond precision
     </li>
     <li class="itemize"><span class="texttt">end_time</span>: the end time of the client, in epoch seconds, with millisecond precision
     </li>
     <li class="itemize"><span class="texttt">duration</span>: the duration of the client, in seconds, with millisecond precision
     </li>
     <li class="itemize"><span class="texttt">exitcode</span>: the <span class="textit">condor_dagman</span> exit code
     </li>
     <li class="itemize"><span class="texttt">dagman_id</span>: the value of the <span class="texttt">ClusterId</span> attribute of the <span class="textit">condor_dagman</span> instance
     </li>
     <li class="itemize"><span class="texttt">parent_dagman_id</span>: the value of the <span class="texttt">ClusterId</span> attribute of the parent <span class="textit">condor_dagman</span> instance of
     this DAG; empty if this DAG is <span class="emph">not</span> a SUBDAG
     </li>
     <li class="itemize"><span class="texttt">rescue_dag_number</span>: the number of the Rescue DAG being run, or 0 if not running a Rescue DAG
     </li>
     <li class="itemize"><span class="texttt">jobs</span>: the number of nodes in the DAG input file, not including SUBDAG nodes
     </li>
     <li class="itemize"><span class="texttt">jobs_failed</span>: the number of failed nodes in the workflow, not including SUBDAG nodes
     </li>
     <li class="itemize"><span class="texttt">jobs_succeeded</span>: the number of successful nodes in the workflow, not including SUBDAG nodes; this
     includes jobs that succeeded after retries
     </li>
     <li class="itemize"><span class="texttt">dag_jobs</span>: the number of SUBDAG nodes in the DAG input file
     </li>
     <li class="itemize"><span class="texttt">dag_jobs_failed</span>: the number of SUBDAG nodes that failed
     </li>
     <li class="itemize"><span class="texttt">dag_jobs_succeeded</span>: the number of SUBDAG nodes that succeeded
     </li>
     <li class="itemize"><span class="texttt">total_jobs</span>: the total number of jobs in the DAG input file
                                                                                         

                                                                                         
     </li>
     <li class="itemize"><span class="texttt">total_jobs_run</span>:  the  total  number  of  nodes  executed  in  a  DAG.  It  should  be  equal  to
     <span class="texttt">jobs_succeeded + jobs_failed + dag_jobs_succeeded + dag_jobs_failed</span>
     </li>
     <li class="itemize"><span class="texttt">total_job_time</span>: the sum of the time between the first execute event and the terminated event for all
     jobs that are not SUBDAGs
     </li>
     <li class="itemize"><span class="texttt">dag_status</span>: the final status of the DAG, with values
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">0</span>: OK
         </li>
         <li class="itemize"><span class="texttt">1</span>: error; an error condition different than those listed here
         </li>
         <li class="itemize"><span class="texttt">2</span>: one or more nodes in the DAG have failed
         </li>
         <li class="itemize"><span class="texttt">3</span>: the DAG has been aborted by an ABORT-DAG-ON specification
         </li>
         <li class="itemize"><span class="texttt">4</span>: removed; the DAG has been removed by <span class="textit">condor_rm</span>
         </li>
         <li class="itemize"><span class="texttt">5</span>: a cycle was found in the DAG
         </li>
         <li class="itemize"><span class="texttt">6</span>: the DAG has been halted; see section &#x00A0;<a 
href="#x22-890002.10.8">2.10.8<!--tex4ht:ref: sec:DagSuspend --></a> for an explanation of halting a DAG</li></ul>
     <!--l. 4524--><p class="noindent" >Note that any <span class="texttt">dag_status</span> other than 0 corresponds to a non-zero exit code.</li></ul>
<!--l. 4528--><p class="indent" >   The <span class="texttt">braindump.txt</span> file is generated by <span class="textit">pegasus-plan</span>; the name of the <span class="texttt">braindump.txt</span> file is specified with the
<span class="texttt">PEGASUS_BRAINDUMP_FILE</span> environment variable. If not specified, the file name defaults to <span class="texttt">braindump.txt</span>, and it is
placed in the current directory.
<!--l. 4535--><p class="indent" >   Note that the <span class="texttt">total_job_time</span> value is always zero, because the calculation of that value has not yet been
implemented.
<!--l. 4538--><p class="indent" >   If a DAG succeeds, but the metrics reporting fails, the DAG is still considered successful.
<!--l. 4541--><p class="indent" >   The metrics are reported only at the end of a DAG run. This includes reporting the metrics if the
<span class="textit">condor_dagman</span> job is removed, or if the DAG drains from the queue because of being halted by a halt
file.
<!--l. 4546--><p class="indent" >   The metrics are reported by the <span class="textit">condor_dagman_metrics_reporter</span> executable as described in the manual page
at &#x00A0;<a 
href="Condordagmanmetricsreporter.html#x110-76900012">1878<!--tex4ht:ref: man-condor-dagman-metrics-reporter --></a>.
                                                                                         

                                                                                         
<!--l. 4552--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10.18   </span> <a 
 id="x22-1150002.10.18"></a>DAGMan and Accounting Groups</h4>
<a 
 id="dx22-115001"></a>
<!--l. 4556--><p class="noindent" >As of version 8.5.6, <span class="textit">condor_dagman</span> propagates <span class="textbf">accounting_group</span><a 
 id="dx22-115002"></a> and <span class="textbf">accounting_group_user</span><a 
 id="dx22-115003"></a> values
specified for <span class="textit">condor_dagman</span> itself to all jobs within the DAG (including sub-DAGs).
<!--l. 4561--><p class="indent" >   The <span class="textbf">accounting_group</span><a 
 id="dx22-115004"></a> and <span class="textbf">accounting_group_user</span><a 
 id="dx22-115005"></a> values can be specified using the <span class="textbf">-append</span> flag to
<span class="textit">condor_submit_dag</span>, for example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-263">
<tspan font-family="ectt" font-size="1000">condor_submit_dag</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-append</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;accounting_group=group_physics</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-append</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;accounting_group_user=albert</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;relativity.dag</tspan>
</div>
<!--l. 4567--><p class="nopar" >
<!--l. 4569--><p class="indent" >   See section&#x00A0;<a 
href="UserPrioritiesandNegotiation.html#x34-2390003.6.7">3.6.7<!--tex4ht:ref: sec:group-accounting --></a> for a discussion of group accounting and section&#x00A0;<a 
href="UserPrioritiesandNegotiation.html#x34-2400003.6.8">3.6.8<!--tex4ht:ref: sec:group-quotas --></a> for a discussion of accounting groups
with hierarchical group quotas.
<a 
 id="dx22-115006"></a>
                                                                                         

                                                                                         
<!--l. 2--><p class="indent" >   <span style="font-size: 200%;"><a 
href="ParallelApplicationsIncludingMPIApplications.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="ParallelApplicationsIncludingMPIApplications.html#tailParallelApplicationsIncludingMPIApplications.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="DAGManApplications.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="UsersManual.html#DAGManApplications.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="VirtualMachineApplications.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailDAGManApplications.html"></a>  
</body></html> 
