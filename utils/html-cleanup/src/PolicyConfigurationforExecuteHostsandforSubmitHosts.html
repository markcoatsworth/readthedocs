<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Policy Configuration for Execute Hosts and for Submit Hosts</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
   <span style="font-size: 200%;"><a 
href="UserPrioritiesandNegotiation.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="UserPrioritiesandNegotiation.html#tailUserPrioritiesandNegotiation.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailPolicyConfigurationforExecuteHostsandforSubmitHosts.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="AdministratorsManual.html#PolicyConfigurationforExecuteHostsandforSubmitHosts.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Security.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><span class="titlemark">3.7   </span> <a 
 id="x35-2410003.7"></a>Policy Configuration for Execute Hosts and for Submit Hosts</h3>
   <div class="sectionTOCS">
   &#x00A0;&#x00A0;<span class="subsectionToc" >3.7.1 <a 
href="#x35-2420003.7.1"><span class="textit">condor_startd</span> Policy Configuration</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2430003.7.1" id="QQ2-35-256"><span class="textit">condor_startd</span> Terminology</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2440003.7.1" id="QQ2-35-257"> The <span class="texttt">START</span> Expression</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2450003.7.1" id="QQ2-35-258">The <span class="texttt">IS_VALID_CHECKPOINT_PLATFORM</span> Expression</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2460003.7.1" id="QQ2-35-259"> The <span class="texttt">RANK</span> Expression</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2470003.7.1" id="QQ2-35-260"> Machine States</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2480003.7.1" id="QQ2-35-262"> The Claimed State and Leases</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2490003.7.1" id="QQ2-35-263"> Machine Activities</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2500003.7.1" id="QQ2-35-265"> State and Activity Transitions</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2510003.7.1" id="QQ2-35-266"> State/Activity Transition Expression Summary</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2520003.7.1" id="QQ2-35-267">Examples of Policy Configuration</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2530003.7.1" id="QQ2-35-268"> Multi-Core Machine Terminology</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2540003.7.1" id="QQ2-35-269"> Dividing System Resources in Multi-core Machines</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2550003.7.1" id="QQ2-35-270"> Configuration Specific to Multi-core Machines</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2560003.7.1" id="QQ2-35-271"> Load Average for Multi-core Machines</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2570003.7.1" id="QQ2-35-272"> Debug Logging in the Multi-Core <span class="textit">condor_startd</span> Daemon</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2580003.7.1" id="QQ2-35-273"> Configuring GPUs</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2590003.7.1" id="QQ2-35-274"> Configuring STARTD_ATTRS on a per-slot basis</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2600003.7.1" id="QQ2-35-275"> Dynamic Provisioning: Partitionable and Dynamic Slots</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2610003.7.1" id="QQ2-35-276"> Defaults for Partitionable Slot Sizes</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2620003.7.1" id="QQ2-35-277"> condor_negotiator-Side Resource Consumption Policies</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2630003.7.1" id="QQ2-35-278"> Defragmenting Dynamic Slots</a></span>
                                                                                         

                                                                                         
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.7.2 <a 
href="#x35-2640003.7.2"><span class="textit">condor_schedd</span> Policy Configuration</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2650003.7.2" id="QQ2-35-280">Job Transforms</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2660003.7.2" id="QQ2-35-281">Submit Requirements</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x35-2670003.7.2" id="QQ2-35-282">Submit Warnings</a></span>
   </div>
<!--l. 8--><p class="indent" >   Note: configuration templates make it easier to implement certain policies; see information on policy templates
here:&#x00A0;<a 
href="ConfigurationTemplates.html#x32-1840003.4.2">3.4.2<!--tex4ht:ref: usecategory:POLICY --></a>.
<!--l. 13--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.7.1   </span> <a 
 id="x35-2420003.7.1"></a><span class="textit">condor_startd</span> Policy Configuration</h4>
<a 
 id="dx35-242001"></a>
<a 
 id="dx35-242002"></a>
<a 
 id="dx35-242003"></a>
<a 
 id="dx35-242004"></a>
<!--l. 19--><p class="noindent" >This section describes the configuration of machines, such that they, through the <span class="textit">condor_startd</span> daemon, implement
a desired policy for when remote jobs should start, be suspended, (possibly) resumed, vacate (with
a checkpoint) or be killed. This policy is the heart of HTCondor&#8217;s balancing act between the needs
and wishes of resource owners (machine owners) and resource users (people submitting their jobs to
HTCondor). Please read this section carefully before changing any of the settings described here, as a
wrong setting can have a severe impact on either the owners of machines in the pool or the users of the
pool.
<!--l. 33--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2430003.7.1"></a><span class="textit">condor_startd</span> Terminology</h5>
<!--l. 36--><p class="noindent" >Understanding the configuration requires an understanding of ClassAd expressions, which are detailed in
section&#x00A0;<a 
href="HTCondorsClassAdMechanism.html#x48-3980004.1">4.1<!--tex4ht:ref: sec:classad-reference --></a>.
<a 
 id="dx35-243001"></a>
<a 
 id="dx35-243002"></a>
<a 
 id="dx35-243003"></a>
<!--l. 43--><p class="indent" >   Each machine runs one <span class="textit">condor_startd</span> daemon. Each machine may contain one or more cores (or CPUs). The
HTCondor construct of a <span class="emph">slot</span> describes the unit which is matched to a job. Each slot may contain one or more
integer number of cores. Each slot is represented by its own machine ClassAd, distinguished by the machine ClassAd
                                                                                         

                                                                                         
attribute <span class="texttt">Name</span>, which is of the form <span class="texttt">slot&#x003C;N&#x003E;@hostname</span>. The value for <span class="texttt">&#x003C;N&#x003E;</span> will also be defined with machine
ClassAd attribute <span class="texttt">SlotID</span>.
<!--l. 54--><p class="indent" >   Each slot has its own machine ClassAd, and within that ClassAd, its own <span class="emph">state</span> and <span class="emph">activity</span>. Other policy
expressions are propagated or inherited from the machine configuration by the <span class="textit">condor_startd</span> daemon, such that all
slots have the same policy from the machine configuration. This requires configuration expressions to
incorporate the <span class="texttt">SlotID</span> attribute when policy is intended to be individualized based on a slot. So, in this
discussion of policy expressions, where a machine is referenced, the policy can equally be applied to a
slot.
<!--l. 67--><p class="indent" >   The <span class="textit">condor_startd</span> daemon represents the machine on which it is running to the HTCondor pool. The daemon
publishes characteristics about the machine in the machine&#8217;s ClassAd to aid matchmaking with resource requests.
The values of these attributes may be listed by using the command:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-502">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_status</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-l</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;hostname</tspan>
</div>
<!--l. 74--><p class="nopar" >
<!--l. 78--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2440003.7.1"></a> The <span class="texttt">START</span> Expression</h5>
<!--l. 81--><p class="noindent" >The most important expression to the <span class="textit">condor_startd</span> is the <span class="texttt">START</span> <a 
 id="dx35-244001"></a><a 
 id="dx35-244002"></a> expression. This expression describes the
conditions that must be met for a machine or slot to run a job. This expression can reference attributes in the
machine&#8217;s ClassAd (such as <span class="texttt">KeyboardIdle</span> and <span class="texttt">LoadAvg</span>) and attributes in a job ClassAd (such as <span class="texttt">Owner</span>,
<span class="texttt">Imagesize</span>, and <span class="texttt">Cmd</span>, the name of the executable the job will run). The value of the <span class="texttt">START</span> expression plays a crucial
role in determining the state and activity of a machine.
<!--l. 93--><p class="indent" >   The <span class="texttt">Requirements</span> expression is used for matching machines with jobs.
<!--l. 96--><p class="indent" >   For platforms that support standard universe jobs, the <span class="textit">condor_startd</span> defines the <span class="texttt">Requirements</span> expression by
logically <span class="textbf">and</span>ing the <span class="texttt">START</span> expression and the <span class="texttt">IS_VALID_CHECKPOINT_PLATFORM</span> expression.
<!--l. 102--><p class="indent" >   In situations where a machine wants to make itself unavailable for further matches, the <span class="texttt">Requirements</span> expression
is set to <span class="texttt">False</span>. When the <span class="texttt">START</span> expression locally evaluates to <span class="texttt">True</span>, the machine advertises the <span class="texttt">Requirements</span>
expression as <span class="texttt">True</span> and does not publish the <span class="texttt">START</span> expression.
<!--l. 109--><p class="indent" >   Normally, the expressions in the machine ClassAd are evaluated against certain request ClassAds in the
<span class="textit">condor_negotiator</span> to see if there is a match, or against whatever request ClassAd currently has claimed the
machine. However, by locally evaluating an expression, the machine only evaluates the expression against its
own ClassAd. If an expression cannot be locally evaluated (because it references other expressions
that are only found in a request ClassAd, such as <span class="texttt">Owner</span> or <span class="texttt">Imagesize</span>), the expression is (usually)
undefined. See section&#x00A0;<a 
href="HTCondorsClassAdMechanism.html#x48-3980004.1">4.1<!--tex4ht:ref: sec:classad-reference --></a> for specifics on how undefined terms are handled in ClassAd expression
evaluation.
<!--l. 120--><p class="indent" >   A note of caution is in order when modifying the <span class="texttt">START</span> expression to reference job ClassAd attributes. When
using the <span class="texttt">POLICY : Desktop</span> configuration template, the <span class="texttt">IS_OWNER</span> expression is a function of the <span class="texttt">START</span>
expression:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-503">
<tspan font-family="ectt" font-size="1000">START</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=?=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FALSE</tspan>
</div>
<!--l. 126--><p class="nopar" > See a detailed discussion of the <span class="texttt">IS_OWNER</span> expression in section&#x00A0;<a 
href="#x35-2500003.7.1">3.7.1<!--tex4ht:ref: sec:Owner-State --></a>. However, the machine locally evaluates the
<span class="texttt">IS_OWNER</span> expression to determine if it is capable of running jobs for HTCondor. Any job ClassAd attributes
appearing in the <span class="texttt">START</span> expression, and hence in the <span class="texttt">IS_OWNER</span> expression, are undefined in this context,
and may lead to unexpected behavior. Whenever the <span class="texttt">START</span> expression is modified to reference job
ClassAd attributes, the <span class="texttt">IS_OWNER</span> expression should also be modified to reference only machine ClassAd
attributes.
<!--l. 138--><p class="indent" >   <span class="underline">NOTE</span>: If you have machines with lots of real memory and swap space such that the only scarce resource is CPU
time, consider defining <span class="texttt">JOB_RENICE_INCREMENT</span> <a 
 id="dx35-244003"></a><a 
 id="dx35-244004"></a> so that HTCondor starts jobs on the machine with low priority.
Then, further configure to set up the machines with:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-504">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;START</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SUSPEND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;False</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PREEMPT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;False</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;KILL</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;False</tspan>
</div>
<!--l. 148--><p class="nopar" > In this way, HTCondor jobs always run and can never be kicked off from activity on the machine. However, because
they would run with the low priority, interactive response on the machines will not suffer. A machine user probably
would not notice that HTCondor was running the jobs, assuming you had enough free memory for the HTCondor
jobs such that there was little swapping.
<a 
 id="dx35-244005"></a>
<a 
 id="dx35-244006"></a>
<!--l. 160--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2450003.7.1"></a>The <span class="texttt">IS_VALID_CHECKPOINT_PLATFORM</span> Expression</h5>
<!--l. 163--><p class="noindent" >A checkpoint is the platform-dependent information necessary to continue the execution of a standard universe job.
Therefore, the machine (platform) upon which a job executed and produced a checkpoint limits the machines
(platforms) which may use the checkpoint to continue job execution. This platform-dependent information is no
longer the obvious combination of architecture and operating system, but may include subtle items such as the
difference between the normal, bigmem, and hugemem kernels within the Linux operating system. This results in the
incorporation of a separate expression to indicate the ability of a machine to resume and continue the
execution of a job that has produced a checkpoint. The <span class="texttt">REQUIREMENTS</span> expression is dependent on this
information.
<!--l. 179--><p class="indent" >   At a high level, <span class="texttt">IS_VALID_CHECKPOINT_PLATFORM</span> is an expression which becomes true when a job&#8217;s checkpoint
platform matches the current checkpointing platform of the machine. Since this expression is <span class="textbf">and</span>ed with the <span class="texttt">START</span>
expression to produce the <span class="texttt">REQUIREMENTS</span> expression, it must also behave correctly when evaluating in the context of
jobs that are not standard universe.
<!--l. 187--><p class="indent" >   In words, the current default policy for this expression:
<!--l. 196--><p class="indent" >   <span class="textbf">Any non standard universe job may run on this machine. A standard universe job may run on
machines with the new checkpointing identification system. A standard universe job may run if
it has not yet produced a first checkpoint. If a standard universe job has produced a
checkpoint, then make sure the checkpoint platforms between the job and the machine
match.</span>
<!--l. 198--><p class="indent" >   The following is the default boolean expression for this policy. A <span class="texttt">JobUniverse</span> value of 1 denotes the standard
universe. This expression may be overridden in the HTCondor configuration files.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-505">
<tspan font-family="ectt" font-size="0800">IS_VALID_CHECKPOINT_PLATFORM</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">(</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(TARGET.JobUniverse</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=!=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;||</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(MY.CheckpointPlatform</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=!=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;UNDEFINED)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&amp;&amp;</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(TARGET.LastCheckpointPlatform</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=?=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;MY.CheckpointPlatform)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;||</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(TARGET.NumCkpts</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;==</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">)</tspan>
</div>
<!--l. 218--><p class="nopar" >
<!--l. 221--><p class="indent" >   <span class="texttt">IS_VALID_CHECKPOINT_PLATFORM</span> is a separate policy expression because the complexity of
<span class="texttt">IS_VALID_CHECKPOINT_PLATFORM</span> can be very high. While this functionality is conceptually separate from the
normal <span class="texttt">START</span> policies usually constructed, it is also a part of the <span class="texttt">Requirements</span> to allow the job to
run.
<a 
 id="dx35-245001"></a>
<a 
 id="dx35-245002"></a>
<!--l. 233--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2460003.7.1"></a> The <span class="texttt">RANK</span> Expression</h5>
<!--l. 236--><p class="noindent" >A machine may be configured to prefer certain jobs over others using the <span class="texttt">RANK</span> expression. It is an expression, like
any other in a machine ClassAd. It can reference any attribute found in either the machine ClassAd or a job
ClassAd. The most common use of this expression is likely to configure a machine to prefer to run jobs from the
owner of that machine, or by extension, a group of machines to prefer jobs from the owners of those
machines.
<a 
 id="dx35-246001"></a>
<!--l. 248--><p class="indent" >   For example, imagine there is a small research group with 4 machines called tenorsax, piano, bass, and drums.
These machines are owned by the 4 users coltrane, tyner, garrison, and jones, respectively.
<!--l. 254--><p class="indent" >   Assume that there is a large HTCondor pool in the department, and this small research group has spent a lot of
money on really fast machines for the group. As part of the larger pool, but to implement a policy that gives
priority on the fast machines to anyone in the small research group, set the <span class="texttt">RANK</span> expression on the machines to
reference the <span class="texttt">Owner</span> attribute and prefer requests where that attribute matches one of the people in the group as
in
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-506">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RANK</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"coltrane"</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"tyner"</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"garrison"</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"jones"</tspan>
</div>
<!--l. 267--><p class="nopar" >
<!--l. 269--><p class="indent" >   The <span class="texttt">RANK</span> expression is evaluated as a floating point number. However, like in C, boolean expressions evaluate to
either 1 or 0 depending on if they are <span class="texttt">True</span> or <span class="texttt">False</span>. So, if this expression evaluated to 1, because the remote job
was owned by one of the preferred users, it would be a larger value than any other user for whom the expression
would evaluate to 0.
<!--l. 278--><p class="indent" >   A more complex <span class="texttt">RANK</span> expression has the same basic set up, where anyone from the group has priority on their
fast machines. Its difference is that the machine owner has better priority on their own machine. To set this
up for Garrison&#8217;s machine (<span class="texttt">bass</span>), place the following entry in the local configuration file of machine
<span class="texttt">bass</span>:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-507">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RANK</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"coltrane")</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;+</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"tyner")</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;+</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;((Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"garrison")</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;10)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;+</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"jones")</tspan>
</div>
<!--l. 289--><p class="nopar" > Note that the parentheses in this expression are important, because the <span class="texttt">+</span> operator has higher default precedence
than <span class="texttt">==</span>.
<!--l. 293--><p class="indent" >   The use of <span class="texttt">+</span> instead of <span class="texttt">||</span> allows us to distinguish which terms matched and which ones did not. If
anyone not in the research group quartet was running a job on the machine called <span class="texttt">bass</span>, the <span class="texttt">RANK</span> would
evaluate numerically to 0, since none of the boolean terms evaluates to 1, and 0+0+0+0 still equals
0.
<!--l. 300--><p class="indent" >   Suppose Elvin Jones submits a job. His job would match the <span class="texttt">bass</span> machine, assuming <span class="texttt">START</span> evaluated to <span class="texttt">True</span>
for him at that time. The <span class="texttt">RANK</span> would numerically evaluate to 1. Therefore, the Elvin Jones job could preempt the
HTCondor job currently running. Further assume that later Jimmy Garrison submits a job. The <span class="texttt">RANK</span> evaluates
to 10 on machine <span class="texttt">bass</span>, since the boolean that matches gets multiplied by 10. Due to this, Jimmy
Garrison&#8217;s job could preempt Elvin Jones&#8217; job on the <span class="texttt">bass</span> machine where Jimmy Garrison&#8217;s jobs are
preferred.
<!--l. 311--><p class="indent" >   The <span class="texttt">RANK</span> expression is not required to reference the <span class="texttt">Owner</span> of the jobs. Perhaps there is one machine with an
enormous amount of memory, and others with not much at all. Perhaps configure this large-memory machine to
prefer to run jobs with larger memory requirements:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-508">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RANK</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ImageSize</tspan>
</div>
<!--l. 320--><p class="nopar" >
<!--l. 322--><p class="indent" >   That&#8217;s all there is to it. The bigger the job, the more this machine wants to run it. It is an altruistic preference,
always servicing the largest of jobs, no matter who submitted them. A little less altruistic is the <span class="texttt">RANK</span> on Coltrane&#8217;s
machine that prefers John Coltrane&#8217;s jobs over those with the largest <span class="texttt">Imagesize</span>:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-509">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RANK</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"coltrane"</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1000000000000)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;+</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Imagesize</tspan>
</div>
<!--l. 331--><p class="nopar" > This <span class="texttt">RANK</span> does not work if a job is submitted with an image size of more 10<sup>12</sup> Kbytes. However, with that size, this
<span class="texttt">RANK</span> expression preferring that job would not be HTCondor&#8217;s only problem!
<!--l. 339--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2470003.7.1"></a> Machine States</h5>
<a 
 id="dx35-247001"></a>
<a 
 id="dx35-247002"></a>
<!--l. 344--><p class="noindent" >A machine is assigned a <span class="emph">state</span> by HTCondor. The state depends on whether or not the machine is available to
run HTCondor jobs, and if so, what point in the negotiations has been reached. The possible states
are
<a 
 id="dx35-247003"></a>
<a 
 id="dx35-247004"></a>
     <dl class="description"><dt class="description">
Owner </dt><dd 
class="description">The machine is being used by the machine owner, and/or is not available to run HTCondor jobs.
     When the machine first starts up, it begins in this state.
<a 
 id="dx35-247005"></a>
<a 
 id="dx35-247006"></a>
     </dd><dt class="description">
Unclaimed </dt><dd 
class="description">The machine is available to run HTCondor jobs, but it is not currently doing so.
<a 
 id="dx35-247007"></a>
<a 
 id="dx35-247008"></a>
     </dd><dt class="description">
Matched </dt><dd 
class="description">The machine is available to run jobs, and it has been matched by the negotiator with a specific
     schedd. That schedd just has not yet claimed this machine. In this state, the machine is unavailable
     for further matches.
<a 
 id="dx35-247009"></a>
<a 
 id="dx35-247010"></a>
     </dd><dt class="description">
Claimed </dt><dd 
class="description">The machine has been claimed by a schedd.
<a 
 id="dx35-247011"></a>
<a 
 id="dx35-247012"></a>
                                                                                         

                                                                                         
     </dd><dt class="description">
Preempting </dt><dd 
class="description">The machine was claimed by a schedd, but is now preempting that claim for one of the following
     reasons.
         <ol  class="enumerate1" >
         <li 
  class="enumerate" id="x35-247014x1">the owner of the machine came back
         </li>
         <li 
  class="enumerate" id="x35-247016x2">another user with higher priority has jobs waiting to run
         </li>
         <li 
  class="enumerate" id="x35-247018x3">another request that this resource would rather serve was found</li></ol>
<a 
 id="dx35-247019"></a>
<a 
 id="dx35-247020"></a>
     </dd><dt class="description">
Backfill </dt><dd 
class="description">The machine is running a backfill computation while waiting for either the machine owner to come back or
     to be matched with an HTCondor job. This state is only entered if the machine is specifically configured to
     enable backfill jobs.
<a 
 id="dx35-247021"></a>
<a 
 id="dx35-247022"></a>
     </dd><dt class="description">
Drained </dt><dd 
class="description">The machine is not running jobs, because it is being drained. One reason a machine may be drained is to
     consolidate resources that have been divided in a partitionable slot. Consolidating the resources gives large
     jobs a chance to run.
     </dd></dl>
<!--l. 401--><p class="indent" >   Figure&#x00A0;<a 
href="#x35-2470231">3.1<!--tex4ht:ref: fig:machine-states --></a> shows the states and the possible transitions between the states.
<!--l. 404--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                         

                                                                                         
<a 
 id="x35-2470231"></a>
                                                                                         

                                                                                         
<!--l. 457--><p class="noindent" ><object data="ref-9.svg" width="486.94376 " height="275.21542 " type="image/svg+xml"><p>SVG-Viewer needed.</p></object>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;3.1: </span><span  
class="content">Machine States</span></div><!--tex4ht:label?: x35-2470231 -->
                                                                                         

                                                                                         
<!--l. 460--><p class="indent" >   </div><hr class="endfigure">
<!--l. 462--><p class="indent" >   Each transition is labeled with a letter. The cause of each transition is described below.
     <ul class="itemize1">
     <li class="itemize">Transitions out of the Owner state
         <dl class="description"><dt class="description">
     A </dt><dd 
class="description">The machine switches from Owner to Unclaimed whenever the <span class="texttt">START</span> expression no longer locally
         evaluates to FALSE. This indicates that the machine is potentially available to run an HTCondor
         job.
         </dd><dt class="description">
     N </dt><dd 
class="description">The machine switches from the Owner to the Drained state whenever draining of the machine is
         initiated, for example by <span class="textit">condor_drain</span> or by the <span class="textit">condor_defrag</span> daemon.
         </dd></dl>
     </li>
     <li class="itemize">Transitions out of the Unclaimed state
         <dl class="description"><dt class="description">
     B </dt><dd 
class="description">The  machine  switches  from  Unclaimed  back  to  Owner  whenever  the  <span class="texttt">START</span> expression  locally
         evaluates to FALSE. This indicates that the machine is unavailable to run an HTCondor job and
         is in use by the resource owner.
         </dd><dt class="description">
     C </dt><dd 
class="description">The transition from Unclaimed to Matched happens whenever the <span class="textit">condor_negotiator</span> matches this
         resource with an HTCondor job.
         </dd><dt class="description">
     D </dt><dd 
class="description">The transition from Unclaimed directly to Claimed also happens if the <span class="textit">condor_negotiator</span> matches
         this resource with an HTCondor job. In this case the <span class="textit">condor_schedd</span> receives the match and
         initiates the claiming protocol with the machine before the <span class="textit">condor_startd</span> receives the match
         notification from the <span class="textit">condor_negotiator</span>.
         </dd><dt class="description">
     E </dt><dd 
class="description">The transition from Unclaimed to Backfill happens if the machine is configured to run backfill
         computations (see section&#x00A0;<a 
href="SettingUpforSpecialEnvironments.html#x42-3700003.14.10">3.14.10<!--tex4ht:ref: sec:Backfill --></a>) and the <span class="texttt">START_BACKFILL</span> expression evaluates to TRUE.
         </dd><dt class="description">
     P </dt><dd 
class="description">The transition from Unclaimed to Drained happens if draining of the machine is initiated, for
         example by <span class="textit">condor_drain</span> or by the <span class="textit">condor_defrag</span> daemon.
         </dd></dl>
     </li>
     <li class="itemize">Transitions out of the Matched state
         <dl class="description"><dt class="description">
     F </dt><dd 
class="description">The machine moves from Matched to Owner if either the <span class="texttt">START</span> expression locally evaluates to
         FALSE, or if the <span class="texttt">MATCH_TIMEOUT</span><a 
 id="dx35-247024"></a><a 
 id="dx35-247025"></a> timer expires. This timeout is used to ensure that if a machine is
                                                                                         

                                                                                         
         matched with a given <span class="textit">condor_schedd</span>, but that <span class="textit">condor_schedd</span> does not contact the <span class="textit">condor_startd</span>
         to claim it, that the machine will give up on the match and become available to be matched again.
         In this case, since the <span class="texttt">START</span> expression does not locally evaluate to FALSE, as soon as transition
         <span class="textbf">F</span> is complete, the machine will immediately enter the Unclaimed state again (via transition <span class="textbf">A</span>).
         The machine might also go from Matched to Owner if the <span class="textit">condor_schedd</span> attempts to perform
         the claiming protocol but encounters some sort of error. Finally, the machine will move into the
         Owner state if the <span class="textit">condor_startd</span> receives a <span class="textit">condor_vacate</span> command while it is in the Matched
         state.
         </dd><dt class="description">
     G </dt><dd 
class="description">The transition from Matched to Claimed occurs when the <span class="textit">condor_schedd</span> successfully completes
         the claiming protocol with the <span class="textit">condor_startd</span>.
         </dd></dl>
     </li>
     <li class="itemize">Transitions out of the Claimed state
         <dl class="description"><dt class="description">
     H </dt><dd 
class="description">From the Claimed state, the only possible destination is the Preempting state. This transition can be
         caused by many reasons:
             <ul class="itemize2">
             <li class="itemize">The <span class="textit">condor_schedd</span> that has claimed the machine has no more work to perform and releases
             the claim
             </li>
             <li class="itemize">The <span class="texttt">PREEMPT</span> expression evaluates to <span class="texttt">True</span> (which usually means the resource owner has
             started using the machine again and is now using the keyboard, mouse, CPU, etc.)
             </li>
             <li class="itemize">The <span class="textit">condor_startd</span> receives a <span class="textit">condor_vacate</span> command
             </li>
             <li class="itemize">The <span class="textit">condor_startd</span> is told to shutdown (either via a signal or a <span class="textit">condor_off </span> command)
             </li>
             <li class="itemize">The resource is matched to a job with a better priority (either a better user priority, or one
             where the machine rank is higher)</li></ul>
         </dd></dl>
     </li>
     <li class="itemize">Transitions out of the Preempting state
         <dl class="description"><dt class="description">
     I </dt><dd 
class="description">The resource will move from Preempting back to Claimed if the resource was matched to a job with
         a better priority.
         </dd><dt class="description">
     J </dt><dd 
class="description">The resource will move from Preempting to Owner if the <span class="texttt">PREEMPT</span> expression had evaluated to
         TRUE, if <span class="textit">condor_vacate</span> was used, or if the <span class="texttt">START</span> expression locally evaluates to FALSE when the
         <span class="textit">condor_startd</span> has finished evicting whatever job it was running when it entered the Preempting
         state.
         </dd></dl>
                                                                                         

                                                                                         
     </li>
     <li class="itemize">Transitions out of the Backfill state
         <dl class="description"><dt class="description">
     K </dt><dd 
class="description">The resource will move from Backfill to Owner for the following reasons:
             <ul class="itemize2">
             <li class="itemize">The <span class="texttt">EVICT_BACKFILL</span> expression evaluates to TRUE
             </li>
             <li class="itemize">The <span class="textit">condor_startd</span> receives a <span class="textit">condor_vacate</span> command
             </li>
             <li class="itemize">The <span class="textit">condor_startd</span> is being shutdown</li></ul>
         </dd><dt class="description">
     L </dt><dd 
class="description">The transition from Backfill to Matched occurs whenever a resource running a backfill computation is
         matched with a <span class="textit">condor_schedd</span> that wants to run an HTCondor job.
         </dd><dt class="description">
     M </dt><dd 
class="description">The transition from Backfill directly to Claimed is similar to the transition from Unclaimed directly to
         Claimed. It only occurs if the <span class="textit">condor_schedd</span> completes the claiming protocol before the <span class="textit">condor_startd</span>
         receives the match notification from the <span class="textit">condor_negotiator</span>.
         </dd></dl>
     </li>
     <li class="itemize">Transitions out of the Drained state
         <dl class="description"><dt class="description">
     O </dt><dd 
class="description">The transition from Drained to Owner state happens when draining is finalized or is canceled. When
         a draining request is made, the request either asks for the machine to stay in a Drained state until
         canceled, or it asks for draining to be automatically finalized once all slots have finished draining.
         </dd></dl>
     </li></ul>
   <h5 class="subsubsectionHead"><a 
 id="x35-2480003.7.1"></a> The Claimed State and Leases</h5>
<a 
 id="dx35-248001"></a>
<a 
 id="dx35-248002"></a>
<!--l. 627--><p class="noindent" >When a <span class="textit">condor_schedd</span> claims a <span class="textit">condor_startd</span>, there is a claim lease. So long as the keep alive updates from
the <span class="textit">condor_schedd</span> to the <span class="textit">condor_startd</span> continue to arrive, the lease is reset. If the lease duration
passes with no updates, the <span class="textit">condor_startd</span> drops the claim and evicts any jobs the <span class="textit">condor_schedd</span> sent
over.
<!--l. 634--><p class="indent" >   The alive interval is the amount of time between, or the frequency at which the <span class="textit">condor_schedd</span> sends keep alive
updates to all <span class="textit">condor_schedd</span> daemons. An alive update resets the claim lease at the <span class="textit">condor_startd</span>. Updates are
UDP packets.
                                                                                         

                                                                                         
<!--l. 640--><p class="indent" >   Initially, as when the <span class="textit">condor_schedd</span> starts up, the alive interval starts at the value set by the
configuration variable <span class="texttt">ALIVE_INTERVAL</span> <a 
 id="dx35-248003"></a><a 
 id="dx35-248004"></a>. It may be modified when a job is started. The job&#8217;s ClassAd
attribute <span class="texttt">JobLeaseDuration</span> is checked. If the value of <span class="texttt">JobLeaseDuration/3</span> is less than the current alive
interval, then the alive interval is set to either this lower value or the imposed lowest limit on the
alive interval of 10 seconds. Thus, the alive interval starts at <span class="texttt">ALIVE_INTERVAL</span> and goes down, never
up.
<!--l. 652--><p class="indent" >   If a claim lease expires, the <span class="textit">condor_startd</span> will drop the claim. The length of the claim lease is the job&#8217;s ClassAd
attribute <span class="texttt">JobLeaseDuration</span>. <span class="texttt">JobLeaseDuration</span> defaults to 40 minutes time, except when explicitly set
within the job&#8217;s submit description file. If <span class="texttt">JobLeaseDuration</span> is explicitly set to 0, or it is not set as
may be the case for a Web Services job that does not define the attribute, then <span class="texttt">JobLeaseDuration</span>
is given the Undefined value. Further, when undefined, the claim lease duration is calculated with
<span class="texttt">MAX_CLAIM_ALIVES_MISSED * alive interval</span>. The alive interval is the <span class="emph">current</span> value, as sent by
the <span class="textit">condor_schedd</span>. If the <span class="textit">condor_schedd</span> reduces the current alive interval, it does not update the
<span class="textit">condor_startd</span>.
<!--l. 673--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2490003.7.1"></a> Machine Activities</h5>
<a 
 id="dx35-249001"></a>
<a 
 id="dx35-249002"></a>
<!--l. 678--><p class="noindent" >Within some machine states, <span class="emph">activities</span> of the machine are defined. The state has meaning regardless of activity.
Differences between activities are significant. Therefore, a &#8220;state/activity&#8221; pair describes a machine. The following
list describes all the possible state/activity pairs.
     <ul class="itemize1">
     <li class="itemize">Owner
<a 
 id="dx35-249003"></a>
         <dl class="description"><dt class="description">
     Idle </dt><dd 
class="description">This is the only activity for Owner state. As far as HTCondor is concerned the machine is Idle,
         since it is not doing anything for HTCondor.</dd></dl>
<a 
 id="dx35-249004"></a>
     </li>
     <li class="itemize">Unclaimed
         <dl class="description"><dt class="description">
     Idle </dt><dd 
class="description">This is the normal activity of Unclaimed machines. The machine is still Idle in that the machine
         owner is willing to let HTCondor jobs run, but HTCondor is not using the machine for anything.
<a 
 id="dx35-249005"></a>
                                                                                         

                                                                                         
         </dd><dt class="description">
     Benchmarking </dt><dd 
class="description">The machine is running benchmarks to determine the speed on this machine. This
         activity only occurs in the Unclaimed state. How often the activity occurs is determined by the
         <span class="texttt">RUNBENCHMARKS</span> expression.</dd></dl>
     </li>
     <li class="itemize">Matched
         <dl class="description"><dt class="description">
     Idle </dt><dd 
class="description">When Matched, the machine is still Idle to HTCondor.</dd></dl>
     </li>
     <li class="itemize">Claimed
         <dl class="description"><dt class="description">
     Idle </dt><dd 
class="description">In this activity, the machine has been claimed, but the schedd that claimed it has yet to <span class="emph">activate</span>
         the claim by requesting a <span class="textit">condor_starter</span> to be spawned to service a job. The machine returns to
         this state (usually briefly) when jobs (and therefore <span class="textit">condor_starter</span>) finish.
<a 
 id="dx35-249006"></a>
         </dd><dt class="description">
     Busy </dt><dd 
class="description">Once a <span class="textit">condor_starter</span> has been started and the claim is active, the machine moves to the Busy
         activity to signify that it is doing something as far as HTCondor is concerned.
<a 
 id="dx35-249007"></a>
         </dd><dt class="description">
     Suspended </dt><dd 
class="description">If the job is suspended by HTCondor, the machine goes into the Suspended activity. The
         match between the schedd and machine has not been broken (the claim is still valid), but the job
         is not making any progress and HTCondor is no longer generating a load on the machine.
<a 
 id="dx35-249008"></a>
         </dd><dt class="description">
     Retiring </dt><dd 
class="description">When an active claim is about to be preempted for any reason, it enters retirement, while it
         waits for the current job to finish. The <span class="texttt">MaxJobRetirementTime</span> expression determines how long
         to wait (counting since the time the job started). Once the job finishes or the retirement time
         expires, the Preempting state is entered.</dd></dl>
     </li>
     <li class="itemize">Preempting The Preempting state is used for evicting an HTCondor job from a given machine. When the
     machine enters the Preempting state, it checks the <span class="texttt">WANT_VACATE</span> expression to determine its
     activity.
<a 
 id="dx35-249009"></a>
         <dl class="description"><dt class="description">
     Vacating </dt><dd 
class="description">In the Vacating activity, the job that was running is in the process of checkpointing. As
         soon as the checkpoint process completes, the machine moves into either the Owner state or the
         Claimed state, depending on the reason for its preemption.
<a 
 id="dx35-249010"></a>
                                                                                         

                                                                                         
         </dd><dt class="description">
     Killing </dt><dd 
class="description">Killing means that the machine has requested the running job to exit the machine immediately,
         without checkpointing.</dd></dl>
<a 
 id="dx35-249011"></a>
     </li>
     <li class="itemize">Backfill
         <dl class="description"><dt class="description">
     Idle </dt><dd 
class="description">The machine is configured to run backfill jobs and is ready to do so, but it has not yet had a
         chance to spawn a backfill manager (for example, the BOINC client).
         </dd><dt class="description">
     Busy </dt><dd 
class="description">The machine is performing a backfill computation.
         </dd><dt class="description">
     Killing </dt><dd 
class="description">The machine was running a backfill computation, but it is now killing the job to either return
         resources to the machine owner, or to make room for a regular HTCondor job.
         </dd></dl>
<a 
 id="dx35-249012"></a>
     </li>
     <li class="itemize">Drained
         <dl class="description"><dt class="description">
     Idle </dt><dd 
class="description">All slots have been drained.
         </dd><dt class="description">
     Retiring </dt><dd 
class="description">This slot has been drained. It is waiting for other slots to finish draining.
         </dd></dl>
     </li></ul>
<!--l. 793--><p class="indent" >   Figure&#x00A0;<a 
href="#x35-2490162">3.2<!--tex4ht:ref: fig:machine-activities --></a> on page&#x00A0;<a 
href="#x35-2490162">878<!--tex4ht:ref: fig:machine-activities --></a> gives the overall view of all machine states and activities and shows the possible
transitions from one to another within the HTCondor system. Each transition is labeled with a number on the
diagram, and transition numbers referred to in this manual will be <span class="textbf">bold</span>.
<a 
 id="dx35-249013"></a>
<a 
 id="dx35-249014"></a>
<a 
 id="dx35-249015"></a>
<!--l. 803--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                         

                                                                                         
<a 
 id="x35-2490162"></a>
                                                                                         

                                                                                         
<!--l. 805--><p class="noindent" ><img 
src="ref3x.png" alt="PIC" class="graphics" width="437" height="397" ><!--tex4ht:graphics  
name="ref3x.png" src="admin-man/activities.eps"  
-->
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;3.2: </span><span  
class="content">Machine States and Activities</span></div><!--tex4ht:label?: x35-2490162 -->
                                                                                         

                                                                                         
<!--l. 807--><p class="indent" >   </div><hr class="endfigure">
<!--l. 809--><p class="indent" >   Various expressions are used to determine when and if many of these state and activity transitions occur. Other
transitions are initiated by parts of the HTCondor protocol (such as when the <span class="textit">condor_negotiator</span> matches a
machine with a schedd). The following section describes the conditions that lead to the various state and activity
transitions.
   <h5 class="subsubsectionHead"><a 
 id="x35-2500003.7.1"></a> State and Activity Transitions</h5>
<a 
 id="dx35-250001"></a>
<a 
 id="dx35-250002"></a>
<a 
 id="dx35-250003"></a>
<a 
 id="dx35-250004"></a>
<!--l. 824--><p class="noindent" >This section traces through all possible state and activity transitions within a machine and describes the conditions
under which each one occurs. Whenever a transition occurs, HTCondor records when the machine entered its new
activity and/or new state. These times are often used to write expressions that determine when further transitions
occurred. For example, enter the Killing activity if a machine has been in the Vacating activity longer than a
specified amount of time.
     <dl class="description"><dt class="description">
Owner State </dt><dd 
class="description"></dd></dl>
<a 
 id="dx35-250005"></a>
<a 
 id="dx35-250006"></a>
<!--l. 842--><p class="indent" >   When the startd is first spawned, the machine it represents enters the Owner state. The machine remains in the
Owner state while the expression <span class="texttt">IS_OWNER</span> <a 
 id="dx35-250007"></a><a 
 id="dx35-250008"></a> evaluates to TRUE. If the <span class="texttt">IS_OWNER</span> expression evaluates to FALSE,
then the machine transitions to the Unclaimed state. The default value of <span class="texttt">IS_OWNER</span> is FALSE, which is intended for
dedicated resources. But when the <span class="texttt">POLICY : Desktop</span> configuration template is used, the <span class="texttt">IS_OWNER</span> expression is
optimized for a shared resource
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-510">
<tspan font-family="ectt" font-size="1000">START</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=?=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FALSE</tspan>
</div>
<!--l. 854--><p class="nopar" > So, the machine will remain in the Owner state as long as the <span class="texttt">START</span> expression locally evaluates to FALSE.
Section&#x00A0;<a 
href="#x35-2440003.7.1">3.7.1<!--tex4ht:ref: sec:Start-Expr --></a> provides more detail on the <span class="texttt">START</span> expression. If the <span class="texttt">START</span> locally evaluates to TRUE or cannot be
locally evaluated (it evaluates to UNDEFINED), transition <span class="textbf">1</span> occurs and the machine enters the Unclaimed state.
The <span class="texttt">IS_OWNER</span> expression is locally evaluated by the machine, and should not reference job ClassAd attributes,
which would be UNDEFINED.
<!--l. 867--><p class="indent" >   The Owner state represents a resource that is in use by its interactive owner (for example, if the keyboard is
being used). The Unclaimed state represents a resource that is neither in use by its interactive user, nor the
HTCondor system. From HTCondor&#8217;s point of view, there is little difference between the Owner and Unclaimed
states. In both cases, the resource is not currently in use by the HTCondor system. However, if a job matches the
resource&#8217;s <span class="texttt">START</span> expression, the resource is available to run a job, regardless of if it is in the Owner
or Unclaimed state. The only differences between the two states are how the resource shows up in
<span class="textit">condor_status</span> and other reporting tools, and the fact that HTCondor will not run benchmarking
on a resource in the Owner state. As long as the <span class="texttt">IS_OWNER</span> expression is TRUE, the machine is in
the Owner State. When the <span class="texttt">IS_OWNER</span> expression is FALSE, the machine goes into the Unclaimed
State.
<!--l. 886--><p class="indent" >   Here is an example that assumes that the <span class="texttt">POLICY : Desktop</span> configuration template is in use. If the <span class="texttt">START</span>
expression is
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-511">
<tspan font-family="ectt" font-size="1000">START</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;KeyboardIdle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MINUTE)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"coltrane"</tspan>
</div>
<!--l. 891--><p class="nopar" > and if <span class="texttt">KeyboardIdle</span> is 34 seconds, then the machine would remain in the Owner state. Owner is undefined, and
<span class="obeylines-h"><span class="verb">anything&#x00A0;&amp;&amp;&#x00A0;FALSE</span></span> is FALSE.
<!--l. 897--><p class="indent" >   If, however, the <span class="texttt">START</span> expression is
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-512">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;START</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;KeyboardIdle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MINUTE)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"coltrane"</tspan>
</div>
<!--l. 900--><p class="nopar" > and <span class="texttt">KeyboardIdle</span> is 34 seconds, then the machine leaves the Owner state and becomes Unclaimed. This is because
<span class="obeylines-h"><span class="verb">FALSE&#x00A0;||&#x00A0;UNDEFINED</span></span> is UNDEFINED. So, while this machine is not available to just anybody, if user coltrane has
jobs submitted, the machine is willing to run them. Any other user&#8217;s jobs have to wait until <span class="texttt">KeyboardIdle</span> exceeds
15 minutes. However, since coltrane might claim this resource, but has not yet, the machine goes to the Unclaimed
state.
<!--l. 912--><p class="indent" >   While in the Owner state, the startd polls the status of the machine every <span class="texttt">UPDATE_INTERVAL</span> <a 
 id="dx35-250009"></a><a 
 id="dx35-250010"></a>
to see if anything has changed that would lead it to a different state. This minimizes the impact on
the Owner while the Owner is using the machine. Frequently waking up, computing load averages,
checking the access times on files, computing free swap space take time, and there is nothing time critical
that the startd needs to be sure to notice as soon as it happens. If the <span class="texttt">START</span> expression evaluates to
TRUE and five minutes pass before the startd notices, that&#8217;s a drop in the bucket of high-throughput
computing.
<!--l. 926--><p class="indent" >   The machine can only transition to the Unclaimed state from the Owner state. It does so when the <span class="texttt">IS_OWNER</span>
expression no longer evaluates to TRUE. With the <span class="texttt">POLICY : Desktop</span> configuration template, that happens when
<span class="texttt">START</span> no longer locally evaluates to FALSE.
<!--l. 932--><p class="indent" >   Whenever the machine is not actively running a job, it will transition back to the Owner state if <span class="texttt">IS_OWNER</span>
evaluates to TRUE. Once a job is started, the value of <span class="texttt">IS_OWNER</span> does not matter; the job either runs to completion
or is preempted. Therefore, you must configure the preemption policy if you want to transition back to the Owner
state from Claimed Busy.
<!--l. 939--><p class="indent" >   If draining of the machine is initiated while in the Owner state, the slot transitions to Drained/Retiring
(transition <span class="textbf">36</span>).
     <dl class="description"><dt class="description">
Unclaimed State </dt><dd 
class="description"></dd></dl>
<a 
 id="dx35-250011"></a>
<a 
 id="dx35-250012"></a>
<!--l. 953--><p class="indent" >   If the <span class="texttt">IS_OWNER</span> expression becomes TRUE, then the machine returns to the Owner state. If the <span class="texttt">IS_OWNER</span>
expression becomes FALSE, then the machine remains in the Unclaimed state. The default value of <span class="texttt">IS_OWNER</span> is
FALSE (never enter Owner state). If the <span class="texttt">POLICY : Desktop</span> configuration template is used, then the <span class="texttt">IS_OWNER</span>
expression is changed to
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-513">
<tspan font-family="ectt" font-size="1000">START</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=?=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FALSE</tspan>
</div>
<!--l. 962--><p class="nopar" > so that while in the Unclaimed state, if the <span class="texttt">START</span> expression locally evaluates to FALSE, the machine returns to
the Owner state by transition <span class="textbf">2</span>.
<!--l. 968--><p class="indent" >   When in the Unclaimed state, the <span class="texttt">RUNBENCHMARKS</span> <a 
 id="dx35-250013"></a><a 
 id="dx35-250014"></a> expression is relevant. If <span class="texttt">RUNBENCHMARKS</span> evaluates to TRUE
while the machine is in the Unclaimed state, then the machine will transition from the Idle activity to the
Benchmarking activity (transition <span class="textbf">3</span>) and perform benchmarks to determine <span class="texttt">MIPS</span> and <span class="texttt">KFLOPS</span>. When the
benchmarks complete, the machine returns to the Idle activity (transition <span class="textbf">4</span>).
<!--l. 979--><p class="indent" >   The startd automatically inserts an attribute, <span class="texttt">LastBenchmark</span>, whenever it runs benchmarks, so commonly
<span class="texttt">RunBenchmarks</span> is defined in terms of this attribute, for example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-514">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RunBenchmarks</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(time()</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;LastBenchmark)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(4</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(HOUR))</tspan>
</div>
<!--l. 984--><p class="nopar" > This macro calculates the time since the last benchmark, so when this time exceeds 4 hours, we run the
benchmarks again. The startd keeps a weighted average of these benchmarking results to try to get the most
accurate numbers possible. This is why it is desirable for the startd to run them more than once in its
lifetime.
<!--l. 993--><p class="indent" >   <span class="underline">NOTE</span>: <span class="texttt">LastBenchmark</span> is initialized to 0 before benchmarks have ever been run. To have the <span class="textit">condor_startd</span> run
benchmarks as soon as the machine is Unclaimed (if it has not done so already), include a term using
<span class="texttt">LastBenchmark</span> as in the example above.
<!--l. 999--><p class="indent" >   <span class="underline">NOTE</span>: If <span class="texttt">RUNBENCHMARKS</span> is defined and set to something other than FALSE, the startd will automatically run
one set of benchmarks when it first starts up. To disable benchmarks, both at startup and at any time thereafter, set
<span class="texttt">RUNBENCHMARKS</span> to FALSE or comment it out of the configuration file.
<!--l. 1006--><p class="indent" >   From the Unclaimed state, the machine can go to four other possible states: Owner (transition <span class="textbf">2</span>), Backfill/Idle,
Matched, or Claimed/Idle.
<!--l. 1010--><p class="indent" >   Once the <span class="textit">condor_negotiator</span> matches an Unclaimed machine with a requester at a given schedd, the negotiator
sends a command to both parties, notifying them of the match. If the schedd receives that notification and initiates
the claiming procedure with the machine before the negotiator&#8217;s message gets to the machine, the Match
state is skipped, and the machine goes directly to the Claimed/Idle state (transition <span class="textbf">5</span>). However,
normally the machine will enter the Matched state (transition <span class="textbf">6</span>), even if it is only for a brief period of
time.
<!--l. 1021--><p class="indent" >   If the machine has been configured to perform backfill jobs (see section&#x00A0;<a 
href="SettingUpforSpecialEnvironments.html#x42-3700003.14.10">3.14.10<!--tex4ht:ref: sec:Backfill --></a>), while it is in
Unclaimed/Idle it will evaluate the <span class="texttt">START_BACKFILL</span> <a 
 id="dx35-250015"></a><a 
 id="dx35-250016"></a> expression. Once <span class="texttt">START_BACKFILL</span> evaluates to TRUE,
the machine will enter the Backfill/Idle state (transition <span class="textbf">7</span>) to begin the process of running backfill
jobs.
<!--l. 1028--><p class="indent" >   If draining of the machine is initiated while in the Unclaimed state, the slot transitions to Drained/Retiring
(transition <span class="textbf">37</span>).
     <dl class="description"><dt class="description">
Matched State </dt><dd 
class="description"></dd></dl>
<a 
 id="dx35-250017"></a>
<a 
 id="dx35-250018"></a>
<!--l. 1042--><p class="indent" >   The Matched state is not very interesting to HTCondor. Noteworthy in this state is that the machine lies about
its <span class="texttt">START</span> expression while in this state and says that <span class="texttt">Requirements</span> are <span class="texttt">False</span> to prevent being matched again
before it has been claimed. Also interesting is that the startd starts a timer to make sure it does not stay in the
                                                                                         

                                                                                         
Matched state too long. The timer is set with the <span class="texttt">MATCH_TIMEOUT</span> <a 
 id="dx35-250019"></a><a 
 id="dx35-250020"></a> configuration file macro. It is specified in seconds
and defaults to 120 (2 minutes). If the schedd that was matched with this machine does not claim it within
this period of time, the machine gives up, and goes back into the Owner state via transition <span class="textbf">8</span>. It
will probably leave the Owner state right away for the Unclaimed state again and wait for another
match.
<!--l. 1058--><p class="indent" >   At any time while the machine is in the Matched state, if the <span class="texttt">START</span> expression locally evaluates to FALSE, the
machine enters the Owner state directly (transition <span class="textbf">8</span>).
<!--l. 1062--><p class="indent" >   If the schedd that was matched with the machine claims it before the <span class="texttt">MATCH_TIMEOUT</span> expires, the machine goes
into the Claimed/Idle state (transition <span class="textbf">9</span>).
     <dl class="description"><dt class="description">
Claimed State </dt><dd 
class="description"></dd></dl>
<a 
 id="dx35-250021"></a>
<a 
 id="dx35-250022"></a>
<!--l. 1077--><p class="indent" >   The Claimed state is certainly the most complex state. It has the most possible activities and the most
expressions that determine its next activities. In addition, the <span class="textit">condor_checkpoint</span> and <span class="textit">condor_vacate</span> commands
affect the machine when it is in the Claimed state. In general, there are two sets of expressions that might take
effect. They depend on the universe of the request: standard or vanilla. The standard universe expressions are the
normal expressions. For example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-515">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;WANT_SUSPEND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;WANT_VACATE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(ActivationTimer)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;10</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MINUTE)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SUSPEND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(KeyboardBusy)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(CPUBusy)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;...</tspan>
</div>
<!--l. 1091--><p class="nopar" >
<!--l. 1093--><p class="indent" >   The vanilla expressions have the string&#8220;_VANILLA&#8221; appended to their names. For example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-516">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;WANT_SUSPEND_VANILLA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;WANT_VACATE_VANILLA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SUSPEND_VANILLA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(KeyboardBusy)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(CPUBusy)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;...</tspan>
</div>
<!--l. 1100--><p class="nopar" >
<!--l. 1102--><p class="indent" >   Without specific vanilla versions, the normal versions will be used for all jobs, including vanilla jobs. In this
manual, the normal expressions are referenced. The difference exists for the the resource owner that might want the
machine to behave differently for vanilla jobs, since they cannot checkpoint. For example, owners may want vanilla
jobs to remain suspended for longer than standard jobs.
<!--l. 1111--><p class="indent" >   While Claimed, the <span class="texttt">POLLING_INTERVAL</span> <a 
 id="dx35-250023"></a><a 
 id="dx35-250024"></a> takes effect, and the startd polls the machine much more frequently to
evaluate its state.
<!--l. 1115--><p class="indent" >   If the machine owner starts typing on the console again, it is best to notice this as soon as possible to be able to
start doing whatever the machine owner wants at that point. For multi-core machines, if any slot is in the Claimed
state, the startd polls the machine frequently. If already polling one slot, it does not cost much to evaluate the state
of all the slots at the same time.
<!--l. 1125--><p class="indent" >   There are a variety of events that may cause the startd to try to get rid of or temporarily suspend a running job.
Activity on the machine&#8217;s console, load from other jobs, or shutdown of the startd via an administrative command
are all possible sources of interference. Another one is the appearance of a higher priority claim to the machine by a
different HTCondor user.
<!--l. 1132--><p class="indent" >   Depending on the configuration, the startd may respond quite differently to activity on the machine, such as
keyboard activity or demand for the cpu from processes that are not managed by HTCondor. The startd can be
configured to completely ignore such activity or to suspend the job or even to kill it. A standard configuration for a
desktop machine might be to go through successive levels of getting the job out of the way. The first and least costly
to the job is suspending it. This works for both standard and vanilla jobs. If suspending the job for a short while
does not satisfy the machine owner (the owner is still using the machine after a specific period of time), the startd
moves on to vacating the job. Vacating a standard universe job involves performing a checkpoint so that the work
already completed is not lost. Vanilla jobs are sent a <span class="emph">soft kill signal</span> so that they can gracefully shut
down if necessary; the default is <span class="obeylines-h"><span class="verb">SIGTERM</span></span>. If vacating does not satisfy the machine owner (usually
because it is taking too long and the owner wants their machine back <span class="emph">now</span>), the final, most drastic
stage is reached: killing. Killing is a quick death to the job, using a hard-kill signal that cannot be
intercepted by the application. For vanilla jobs that do no special signal handling, vacating and killing are
equivalent.
<!--l. 1155--><p class="indent" >   The <span class="texttt">WANT_SUSPEND</span> expression determines if the machine will evaluate the <span class="texttt">SUSPEND</span> expression to consider
entering the Suspended activity. The <span class="texttt">WANT_VACATE</span> expression determines what happens when the machine enters
the Preempting state. It will go to the Vacating activity or directly to Killing. If one or both of these expressions
evaluates to FALSE, the machine will skip that stage of getting rid of the job and proceed directly to the more
drastic stages.
                                                                                         

                                                                                         
<!--l. 1166--><p class="indent" >   When the machine first enters the Claimed state, it goes to the Idle activity. From there, it has two options. It
can enter the Preempting state via transition <span class="textbf">10</span> (if a <span class="textit">condor_vacate</span> arrives, or if the <span class="texttt">START</span> expression locally
evaluates to FALSE), or it can enter the Busy activity (transition <span class="textbf">11</span>) if the schedd that has claimed the machine
decides to activate the claim and start a job.
<!--l. 1175--><p class="indent" >   From Claimed/Busy, the machine can transition to three other state/activity pairs. The startd evaluates the
<span class="texttt">WANT_SUSPEND</span> expression to decide which other expressions to evaluate. If <span class="texttt">WANT_SUSPEND</span> is TRUE, then the startd
evaluates the <span class="texttt">SUSPEND</span> expression. If <span class="texttt">WANT_SUSPEND</span> is any value other than TRUE, then the startd will evaluate the
<span class="texttt">PREEMPT</span> expression and skip the Suspended activity entirely. By transition, the possible state/activity destinations
from Claimed/Busy:
     <dl class="description"><dt class="description">
Claimed/Idle </dt><dd 
class="description">If the starter that is serving a given job exits (for example because the jobs completes), the
     machine will go to Claimed/Idle (transition <span class="textbf">12</span>).
     </dd><dt class="description">
Claimed/Retiring </dt><dd 
class="description">If <span class="texttt">WANT_SUSPEND</span> is FALSE and the <span class="texttt">PREEMPT</span> expression is <span class="texttt">True</span>, the machine enters the
     Retiring activity (transition <span class="textbf">13</span>). From there, it waits for a configurable amount of time for the job to
     finish before moving on to preemption.
     <!--l. 1198--><p class="noindent" >Another   reason   the   machine   would   go   from   Claimed/Busy   to   Claimed/Retiring   is   if   the
     <span class="textit">condor_negotiator</span> matched the machine with a &#8220;better&#8221;  match. This better match could either be
     from the machine&#8217;s perspective using the startd <span class="texttt">RANK</span> expression, or it could be from the negotiator&#8217;s
     perspective due to a job with a higher user priority.
     <!--l. 1205--><p class="noindent" >Another case resulting in a transition to Claimed/Retiring is when the startd is being shut down. The
     only exception is a &#8220;fast&#8221; shutdown, which bypasses retirement completely.
     </dd><dt class="description">
Claimed/Suspended </dt><dd 
class="description">If both the <span class="texttt">WANT_SUSPEND</span> and <span class="texttt">SUSPEND</span> expressions evaluate to TRUE, the machine
     suspends the job (transition <span class="textbf">14</span>).
     </dd></dl>
<!--l. 1215--><p class="indent" >   If a <span class="textit">condor_checkpoint</span> command arrives, or the <span class="texttt">PERIODIC_CHECKPOINT</span> expression evaluates to TRUE, there is
no state change. The startd has no way of knowing when this process completes, so periodic checkpointing can not
be another state. Periodic checkpointing remains in the Claimed/Busy state and appears as a running
job.
<!--l. 1223--><p class="indent" >   From the Claimed/Suspended state, the following transitions may occur:
     <dl class="description"><dt class="description">
Claimed/Busy </dt><dd 
class="description">If the <span class="texttt">CONTINUE</span> expression evaluates to TRUE, the machine resumes the job and enters
     the Claimed/Busy state (transition <span class="textbf">15</span>) or the Claimed/Retiring state (transition <span class="textbf">16</span>), depending on
     whether the claim has been preempted.
                                                                                         

                                                                                         
     </dd><dt class="description">
Claimed/Retiring </dt><dd 
class="description">If  the  <span class="texttt">PREEMPT</span> expression  is  TRUE,  the  machine  will  enter  the  Claimed/Retiring
     activity (transition <span class="textbf">16</span>).
     </dd><dt class="description">
Preempting </dt><dd 
class="description">If the claim is in suspended retirement and the retirement time expires, the job enters the
     Preempting state (transition <span class="textbf">17</span>). This is only possible if <span class="texttt">MaxJobRetirementTime</span> <span class="emph">decreases</span> during the
     suspension.
     </dd></dl>
<!--l. 1245--><p class="indent" >   For the Claimed/Retiring state, the following transitions may occur:
     <dl class="description"><dt class="description">
Preempting </dt><dd 
class="description">If the job finishes or the job&#8217;s run time exceeds the value defined for the job ClassAd attribute
     <span class="texttt">MaxJobRetirementTime</span>, the Preempting state is entered (transition <span class="textbf">18</span>). The run time is computed
     from the time when the job was started by the startd minus any suspension time. When retiring due
     to <span class="textit">condor_startd</span> daemon shutdown or restart, it is possible for the administrator to issue a <span class="emph">peaceful</span>
     shutdown command, which causes <span class="texttt">MaxJobRetirementTime</span> to effectively be infinite, avoiding any killing
     of jobs. It is also possible for the administrator to issue a <span class="emph">fast</span> shutdown command, which causes
     <span class="texttt">MaxJobRetirementTime</span> to be effectively 0.
     </dd><dt class="description">
Claimed/Busy </dt><dd 
class="description">If the startd was retiring because of a preempting claim only and the preempting claim
     goes away, the normal Claimed/Busy state is resumed (transition <span class="textbf">19</span>). If instead the retirement is due
     to owner activity (<span class="texttt">PREEMPT</span>) or the startd is being shut down, no unretirement is possible.
     </dd><dt class="description">
Claimed/Suspended </dt><dd 
class="description">In  exactly  the  same  way  that  suspension  may  happen  from  the  Claimed/Busy
     state,  it  may  also  happen  during  the  Claimed/Retiring  state  (transition  <span class="textbf">20</span>).  In  this  case,  when
     the job continues from suspension, it moves back into Claimed/Retiring (transition <span class="textbf">16</span>) instead of
     Claimed/Busy (transition <span class="textbf">15</span>).
     </dd></dl>
     <dl class="description"><dt class="description">
Preempting State </dt><dd 
class="description"></dd></dl>
<a 
 id="dx35-250025"></a>
<a 
 id="dx35-250026"></a>
<!--l. 1289--><p class="indent" >   The Preempting state is less complex than the Claimed state. There are two activities. Depending on the
value of <span class="texttt">WANT_VACATE</span>, a machine will be in the Vacating activity (if <span class="texttt">True</span>) or the Killing activity (if
<span class="texttt">False</span>).
                                                                                         

                                                                                         
<!--l. 1295--><p class="indent" >   While in the Preempting state (regardless of activity) the machine advertises its <span class="texttt">Requirements</span> expression as
<span class="texttt">False</span> to signify that it is not available for further matches, either because it is about to transition to the Owner
state, or because it has already been matched with one preempting match, and further preempting matches are
disallowed until the machine has been claimed by the new match.
<!--l. 1303--><p class="indent" >   The main function of the Preempting state is to get rid of the <span class="textit">condor_starter</span> associated with the resource. If the
<span class="textit">condor_starter</span> associated with a given claim exits while the machine is still in the Vacating activity, then the job
successfully completed a graceful shutdown. For standard universe jobs, this means that a checkpoint was saved. For
other jobs, this means the application was given an opportunity to do a graceful shutdown, by intercepting the soft
kill signal.
<!--l. 1311--><p class="indent" >   If the machine is in the Vacating activity, it keeps evaluating the <span class="texttt">KILL</span> expression. As soon as this expression
evaluates to TRUE, the machine enters the Killing activity (transition <span class="textbf">21</span>). If the Vacating activity lasts for as long
as the maximum vacating time, then the machine also enters the Killing activity. The maximum vacating time is
determined by the configuration variable <span class="texttt">MachineMaxVacateTime</span> <a 
 id="dx35-250027"></a><a 
 id="dx35-250028"></a>. This may be adjusted by the setting of the job
ClassAd attribute <span class="texttt">JobMaxVacateTime</span>.
<!--l. 1322--><p class="indent" >   When the starter exits, or if there was no starter running when the machine enters the Preempting state
(transition <span class="textbf">10</span>), the other purpose of the Preempting state is completed: notifying the schedd that had claimed this
machine that the claim is broken.
<!--l. 1328--><p class="indent" >   At this point, the machine enters either the Owner state by transition <span class="textbf">22</span> (if the job was preempted because the
machine owner came back) or the Claimed/Idle state by transition <span class="textbf">23</span> (if the job was preempted because a better
match was found).
<!--l. 1333--><p class="indent" >   If the machine enters the Killing activity, (because either <span class="texttt">WANT_VACATE</span> was <span class="texttt">False</span> or the <span class="texttt">KILL</span>
expression evaluated to <span class="texttt">True</span>), it attempts to force the <span class="textit">condor_starter</span> to immediately kill the underlying
HTCondor job. Once the machine has begun to hard kill the HTCondor job, the <span class="textit">condor_startd</span> starts a
timer, the length of which is defined by the <span class="texttt">KILLING_TIMEOUT</span> <a 
 id="dx35-250029"></a><a 
 id="dx35-250030"></a> &#x00A0;<a 
href="ConfigurationMacros.html#x33-1950003.5.8">3.5.8<!--tex4ht:ref: param:KillingTimeout --></a> macro. This macro is defined
in seconds and defaults to 30. If this timer expires and the machine is still in the Killing activity,
something has gone seriously wrong with the <span class="textit">condor_starter</span> and the startd tries to vacate the job
immediately by sending SIGKILL to all of the <span class="textit">condor_starter</span>&#8217;s children, and then to the <span class="textit">condor_starter</span>
itself.
<!--l. 1347--><p class="indent" >   Once the <span class="textit">condor_starter</span> has killed off all the processes associated with the job and exited, and once the
schedd that had claimed the machine is notified that the claim is broken, the machine will leave the
Preempting/Killing state. If the job was preempted because a better match was found, the machine will enter
Claimed/Idle (transition <span class="textbf">24</span>). If the preemption was caused by the machine owner (the <span class="texttt">PREEMPT</span> expression
evaluated to TRUE, <span class="textit">condor_vacate</span> was used, etc), the machine will enter the Owner state (transition
<span class="textbf">25</span>).
     <dl class="description"><dt class="description">
Backfill State </dt><dd 
class="description"></dd></dl>
<a 
 id="dx35-250031"></a>
<a 
 id="dx35-250032"></a>
                                                                                         

                                                                                         
<!--l. 1369--><p class="indent" >   The Backfill state is used whenever the machine is performing low priority background tasks to keep itself busy.
For more information about backfill support in HTCondor, see section&#x00A0;<a 
href="SettingUpforSpecialEnvironments.html#x42-3700003.14.10">3.14.10<!--tex4ht:ref: sec:Backfill --></a> on page&#x00A0;<a 
href="SettingUpforSpecialEnvironments.html#x42-3700003.14.10">1193<!--tex4ht:ref: sec:Backfill --></a>. This state is only used
if the machine has been configured to enable backfill computation, if a specific backfill manager has been
installed and configured, and if the machine is otherwise idle (not being used interactively or for regular
HTCondor computations). If the machine meets all these requirements, and the <span class="texttt">START_BACKFILL</span> expression
evaluates to TRUE, the machine will move from the Unclaimed/Idle state to Backfill/Idle (transition
<span class="textbf">7</span>).
<!--l. 1382--><p class="indent" >   Once a machine is in Backfill/Idle, it will immediately attempt to spawn whatever backfill manager it has been
configured to use (currently, only the BOINC client is supported as a backfill manager in HTCondor). Once the
BOINC client is running, the machine will enter Backfill/Busy (transition <span class="textbf">26</span>) to indicate that it is now performing
a backfill computation.
<!--l. 1390--><p class="indent" >   <span class="underline">NOTE</span>: On multi-core machines, the <span class="textit">condor_startd</span> will only spawn a single instance of the BOINC client, even
if multiple slots are available to run backfill jobs. Therefore, only the first machine to enter Backfill/Idle will cause a
copy of the BOINC client to start running. If a given slot on a multi-core enters the Backfill state and a BOINC
client is already running under this <span class="textit">condor_startd</span>, the slot will immediately enter Backfill/Busy without waiting to
spawn another copy of the BOINC client.
<!--l. 1400--><p class="indent" >   If the BOINC client ever exits on its own (which normally wouldn&#8217;t happen), the machine will go back to
Backfill/Idle (transition <span class="textbf">27</span>) where it will immediately attempt to respawn the BOINC client (and return to
Backfill/Busy via transition <span class="textbf">26</span>).
<!--l. 1405--><p class="indent" >   As the BOINC client is running a backfill computation, a number of events can occur that will drive the machine
out of the Backfill state. The machine can get matched or claimed for an HTCondor job, interactive users can start
using the machine again, the machine might be evicted with <span class="textit">condor_vacate</span>, or the <span class="textit">condor_startd</span> might be
shutdown. All of these events cause the <span class="textit">condor_startd</span> to kill the BOINC client and all its descendants, and enter
the Backfill/Killing state (transition <span class="textbf">28</span>).
<!--l. 1415--><p class="indent" >   Once the BOINC client and all its children have exited the system, the machine will enter the Backfill/Idle state
to indicate that the BOINC client is now gone (transition <span class="textbf">29</span>). As soon as it enters Backfill/Idle after the BOINC
client exits, the machine will go into another state, depending on what caused the BOINC client to be killed in the
first place.
<!--l. 1422--><p class="indent" >   If the <span class="texttt">EVICT_BACKFILL</span> expression evaluates to TRUE while a machine is in Backfill/Busy, after the BOINC
client is gone, the machine will go back into the Owner/Idle state (transition <span class="textbf">30</span>). The machine will also return to
the Owner/Idle state after the BOINC client exits if <span class="textit">condor_vacate</span> was used, or if the <span class="textit">condor_startd</span> is being
shutdown.
<!--l. 1430--><p class="indent" >   When a machine running backfill jobs is matched with a requester that wants to run an HTCondor job, the
machine will either enter the Matched state, or go directly into Claimed/Idle. As with the case of a machine in
Unclaimed/Idle (described above), the <span class="textit">condor_negotiator</span> informs both the <span class="textit">condor_startd</span> and the <span class="textit">condor_schedd</span>
of the match, and the exact state transitions at the machine depend on what order the various entities initiate
communication with each other. If the <span class="textit">condor_schedd</span> is notified of the match and sends a request to claim
the <span class="textit">condor_startd</span> before the <span class="textit">condor_negotiator</span> has a chance to notify the <span class="textit">condor_startd</span>, once the
BOINC client exits, the machine will immediately enter Claimed/Idle (transition <span class="textbf">31</span>). Normally, the
notification from the <span class="textit">condor_negotiator</span> will reach the <span class="textit">condor_startd</span> before the <span class="textit">condor_schedd</span> attempts to
claim it. In this case, once the BOINC client exits, the machine will enter Matched/Idle (transition
                                                                                         

                                                                                         
<span class="textbf">32</span>).
     <dl class="description"><dt class="description">
Drained State </dt><dd 
class="description"></dd></dl>
<a 
 id="dx35-250033"></a>
<a 
 id="dx35-250034"></a>
<!--l. 1458--><p class="indent" >   The Drained state is used when the machine is being drained, for example by <span class="textit">condor_drain</span> or by the
<span class="textit">condor_defrag</span> daemon, and the slot has finished running jobs and is no longer willing to run new
jobs.
<!--l. 1463--><p class="indent" >   Slots initially enter the Drained/Retiring state. Once all slots have been drained, the slots transition to the Idle
activity (transition <span class="textbf">33</span>).
<!--l. 1467--><p class="indent" >   If draining is finalized or canceled, the slot transitions to Owner/Idle (transitions <span class="textbf">34</span> and <span class="textbf">35</span>).
<!--l. 1472--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2510003.7.1"></a> State/Activity Transition Expression Summary</h5>
<a 
 id="dx35-251001"></a>
<a 
 id="dx35-251002"></a>
<a 
 id="dx35-251003"></a>
<a 
 id="dx35-251004"></a>
<!--l. 1478--><p class="noindent" >This section is a summary of the information from the previous sections. It serves as a quick reference.
     <dl class="description"><dt class="description">
<span class="texttt">START</span> <a 
 id="dx35-251005"></a><a 
 id="dx35-251006"></a> </dt><dd 
class="description">When TRUE, the machine is willing to spawn a remote HTCondor job.
     </dd><dt class="description">
<span class="texttt">RUNBENCHMARKS</span> <a 
 id="dx35-251007"></a><a 
 id="dx35-251008"></a> </dt><dd 
class="description">While in the Unclaimed state, the machine will run benchmarks whenever TRUE.
     </dd><dt class="description">
<span class="texttt">MATCH_TIMEOUT</span> <a 
 id="dx35-251009"></a><a 
 id="dx35-251010"></a> </dt><dd 
class="description">If the machine has been in the Matched state longer than this value, it will transition to
     the Owner state.
     </dd><dt class="description">
<span class="texttt">WANT_SUSPEND</span> <a 
 id="dx35-251011"></a><a 
 id="dx35-251012"></a> </dt><dd 
class="description">If <span class="texttt">True</span>, the machine evaluates the <span class="texttt">SUSPEND</span> expression to see if it should transition to the
     Suspended activity. If any value other than <span class="texttt">True</span>, the machine will look at the <span class="texttt">PREEMPT</span> expression.
     </dd><dt class="description">
<span class="texttt">SUSPEND</span> <a 
 id="dx35-251013"></a><a 
 id="dx35-251014"></a> </dt><dd 
class="description">If <span class="texttt">WANT_SUSPEND</span> is <span class="texttt">True</span>, and the machine is in the Claimed/Busy state, it enters the Suspended
     activity if <span class="texttt">SUSPEND</span> is <span class="texttt">True</span>.
                                                                                         

                                                                                         
     </dd><dt class="description">
<span class="texttt">CONTINUE</span> <a 
 id="dx35-251015"></a><a 
 id="dx35-251016"></a> </dt><dd 
class="description">If the machine is in the Claimed/Suspended state, it enter the Busy activity if <span class="texttt">CONTINUE</span> is <span class="texttt">True</span>.
     </dd><dt class="description">
<span class="texttt">PREEMPT</span> <a 
 id="dx35-251017"></a><a 
 id="dx35-251018"></a> </dt><dd 
class="description">If the machine is either in the Claimed/Suspended activity, or is in the Claimed/Busy activity and
     <span class="texttt">WANT_SUSPEND</span> is FALSE, the machine enters the Claimed/Retiring state whenever <span class="texttt">PREEMPT</span> is TRUE.
     </dd><dt class="description">
<span class="texttt">CLAIM_WORKLIFE</span> <a 
 id="dx35-251019"></a><a 
 id="dx35-251020"></a> </dt><dd 
class="description">This expression specifies the number of seconds after which a claim will stop accepting
     additional jobs. This configuration macro is fully documented here: &#x00A0;<a 
href="ConfigurationMacros.html#x33-1950003.5.8">3.5.8<!--tex4ht:ref: param:ClaimWorklife --></a>.
     </dd><dt class="description">
<span class="texttt">MachineMaxVacateTime</span> <a 
 id="dx35-251021"></a><a 
 id="dx35-251022"></a> </dt><dd 
class="description">When the machine enters the Preempting/Vacating state, this expression specifies
     the maximum time in seconds that the <span class="textit">condor_startd</span> will wait for the job to finish. The job may
     adjust the wait time by setting <span class="texttt">JobMaxVacateTime</span>. If the job&#8217;s setting is less than the machine&#8217;s, the
     job&#8217;s is used. If the job&#8217;s setting is larger than the machine&#8217;s, the result depends on whether the job
     has any excess retirement time. If the job has more retirement time left than the machine&#8217;s maximum
     vacate time setting, then retirement time will be converted into vacating time, up to the amount of
     <span class="texttt">JobMaxVacateTime</span>. Once the vacating time expires, the job is hard-killed. The <span class="texttt">KILL</span> <a 
 id="dx35-251023"></a><a 
 id="dx35-251024"></a> expression may
     be used to abort the graceful shutdown of the job at any time.
     </dd><dt class="description">
<span class="texttt">MAXJOBRETIREMENTTIME</span> <a 
 id="dx35-251025"></a><a 
 id="dx35-251026"></a> </dt><dd 
class="description">If the machine is in the Claimed/Retiring state, jobs which have run for less than
     the number of seconds specified by this expression will not be hard-killed. The <span class="textit">condor_startd</span> will wait
     for the job to finish or to exceed this amount of time, whichever comes sooner. Time spent in suspension
     does not count against the job. If the job vacating policy grants the job X seconds of vacating time, a
     preempted job will be soft-killed X seconds before the end of its retirement time, so that hard-killing
     of the job will not happen until the end of the retirement time if the job does not finish shutting down
     before then. The job may provide its own expression for <span class="texttt">MaxJobRetirementTime</span>, but this can only be
     used to take <span class="emph">less</span> than the time granted by the <span class="textit">condor_startd</span>, never more. For convenience, standard
     universe and nice_user jobs are submitted with a default retirement time of 0, so they will never wait
     in retirement unless the user overrides the default.
     <!--l. 1549--><p class="noindent" >The machine enters the Preempting state with the goal of finishing shutting down the job by the end of
     the retirement time. If the job vacating policy grants the job X seconds of vacating time, the transition
     to the Preempting state will happen X seconds before the end of the retirement time, so that the
     hard-killing of the job will not happen until the end of the retirement time, if the job does not finish
     shutting down before then.
     <!--l. 1557--><p class="noindent" >This expression is evaluated in the context of the job ClassAd, so it may refer to attributes of the
     current job as well as machine attributes.
     <!--l. 1561--><p class="noindent" >By default the <span class="textit">condor_negotiator</span> will not match jobs to a slot with retirement time remaining. This
     behavior is controlled by <span class="texttt">NEGOTIATOR_CONSIDER_EARLY_PREEMPTION</span> <a 
 id="dx35-251027"></a><a 
 id="dx35-251028"></a>.
     </dd><dt class="description">
<span class="texttt">WANT_VACATE</span> <a 
 id="dx35-251029"></a><a 
 id="dx35-251030"></a> </dt><dd 
class="description">This  is  checked  only  when  the  <span class="texttt">PREEMPT</span> expression  is  <span class="texttt">True</span> and  the  machine  enters  the
     Preempting state. If <span class="texttt">WANT_VACATE</span> is <span class="texttt">True</span>, the machine enters the Vacating activity. If it is <span class="texttt">False</span>, the
     machine will proceed directly to the Killing activity.
                                                                                         

                                                                                         
     </dd><dt class="description">
<span class="texttt">KILL</span> <a 
 id="dx35-251031"></a><a 
 id="dx35-251032"></a> </dt><dd 
class="description">If the machine is in the Preempting/Vacating state, it enters Preempting/Killing whenever <span class="texttt">KILL</span> is
     <span class="texttt">True</span>.
     </dd><dt class="description">
<span class="texttt">KILLING_TIMEOUT</span> <a 
 id="dx35-251033"></a><a 
 id="dx35-251034"></a> </dt><dd 
class="description">If the machine is in the Preempting/Killing state for longer than <span class="texttt">KILLING_TIMEOUT</span>
     seconds, the <span class="textit">condor_startd</span> sends a SIGKILL to the <span class="textit">condor_starter</span> and all its children to try to kill
     the job as quickly as possible.
     </dd><dt class="description">
<span class="texttt">PERIODIC_CHECKPOINT</span> </dt><dd 
class="description">If the machine is in the Claimed/Busy state and <span class="texttt">PERIODIC_CHECKPOINT</span> is TRUE,
     the user&#8217;s job begins a periodic checkpoint.
     </dd><dt class="description">
<span class="texttt">RANK</span> <a 
 id="dx35-251035"></a><a 
 id="dx35-251036"></a> </dt><dd 
class="description">If this expression evaluates to a higher number for a pending resource request than it does for the
     current request, the machine may preempt the current request (enters the Preempting/Vacating state).
     When the preemption is complete, the machine enters the Claimed/Idle state with the new resource
     request claiming it.
     </dd><dt class="description">
<span class="texttt">START_BACKFILL</span> <a 
 id="dx35-251037"></a><a 
 id="dx35-251038"></a> </dt><dd 
class="description">When TRUE, if the machine is otherwise idle, it will enter the Backfill state and spawn
     a backfill computation (using BOINC).
     </dd><dt class="description">
<span class="texttt">EVICT_BACKFILL</span> <a 
 id="dx35-251039"></a><a 
 id="dx35-251040"></a> </dt><dd 
class="description">When TRUE, if the machine is currently running a backfill computation, it will kill the
     BOINC client and return to the Owner/Idle state.
     </dd></dl>
<a 
 id="dx35-251041"></a>
<a 
 id="dx35-251042"></a>
<a 
 id="dx35-251043"></a>
<a 
 id="dx35-251044"></a>
<!--l. 1607--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2520003.7.1"></a>Examples of Policy Configuration</h5>
<!--l. 1610--><p class="noindent" >This section describes various policy configurations, including the default policy.
<a 
 id="dx35-252001"></a>
<a 
 id="dx35-252002"></a>
     <dl class="description"><dt class="description">
Default Policy </dt><dd 
class="description"></dd></dl>
                                                                                         

                                                                                         
<!--l. 1624--><p class="indent" >   These settings are the default as shipped with HTCondor. They have been used for many years with no
problems. The vanilla expressions are identical to the regular ones. (They are not listed here. If not defined, the
standard expressions are used for vanilla jobs as well).
<!--l. 1630--><p class="indent" >   The following are macros to help write the expressions clearly.
     <dl class="description"><dt class="description">
<span class="texttt">StateTimer</span> </dt><dd 
class="description">Amount of time in seconds in the current state.
     </dd><dt class="description">
<span class="texttt">ActivityTimer</span> </dt><dd 
class="description">Amount of time in seconds in the current activity.
     </dd><dt class="description">
<span class="texttt">ActivationTimer</span> </dt><dd 
class="description">Amount of time in seconds that the job has been running on this machine.
     </dd><dt class="description">
<span class="texttt">LastCkpt</span> </dt><dd 
class="description">Amount of time since the last periodic checkpoint.
     </dd><dt class="description">
<span class="texttt">NonCondorLoadAvg</span> </dt><dd 
class="description">The difference between the system load and the HTCondor load (the load generated by
     everything but HTCondor).
     </dd><dt class="description">
<span class="texttt">BackgroundLoad</span> </dt><dd 
class="description">Amount of background load permitted on the machine and still start an HTCondor job.
     </dd><dt class="description">
<span class="texttt">HighLoad</span> </dt><dd 
class="description">If the <span class="texttt">$(NonCondorLoadAvg)</span> goes over this, the CPU is considered too busy, and eviction of the
     HTCondor job should start.
     </dd><dt class="description">
<span class="texttt">StartIdleTime</span> </dt><dd 
class="description">Amount of time the keyboard must to be idle before HTCondor will start a job.
     </dd><dt class="description">
<span class="texttt">ContinueIdleTime</span> </dt><dd 
class="description">Amount of time the keyboard must to be idle before resumption of a suspended job.
     </dd><dt class="description">
<span class="texttt">MaxSuspendTime</span> </dt><dd 
class="description">Amount of time a job may be suspended before more drastic measures are taken.
     </dd><dt class="description">
<span class="texttt">KeyboardBusy</span> </dt><dd 
class="description">A boolean expression that evaluates to TRUE when the keyboard is being used.
     </dd><dt class="description">
<span class="texttt">CPUIdle</span> </dt><dd 
class="description">A boolean expression that evaluates to TRUE when the CPU is idle.
     </dd><dt class="description">
<span class="texttt">CPUBusy</span> </dt><dd 
class="description">A boolean expression that evaluates to TRUE when the CPU is busy.
     </dd><dt class="description">
<span class="texttt">MachineBusy</span> </dt><dd 
class="description">The CPU or the Keyboard is busy.
                                                                                         

                                                                                         
     </dd><dt class="description">
<span class="texttt">CPUIsBusy</span> </dt><dd 
class="description">A boolean value set to the same value as <span class="texttt">CPUBusy</span>.
     </dd><dt class="description">
<span class="texttt">CPUBusyTime</span> </dt><dd 
class="description">The value 0 if <span class="texttt">CPUBusy</span> is False; the time in seconds since <span class="texttt">CPUBusy</span> became True.
     </dd></dl>
<!--l. 1683--><p class="indent" >   These variable definitions exist in the example configuration file in order to help write legible expressions. They
are not required, and perhaps will go unused by many configurations.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-517">
<tspan font-family="ectt" font-size="1000">##</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;These</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;macros</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;are</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;here</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;to</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;help</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;write</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;legible</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;expressions:</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">MINUTE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;60</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">HOUR</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(60</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MINUTE))</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">StateTimer</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(time()</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;EnteredCurrentState)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">ActivityTimer</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(time()</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;EnteredCurrentActivity)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">ActivationTimer</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(time()</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;JobStart)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">LastCkpt</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(time()</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;LastPeriodicCheckpoint)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">NonCondorLoadAvg</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(LoadAvg</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CondorLoadAvg)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">BackgroundLoad</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.3</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">HighLoad</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.5</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">StartIdleTime</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MINUTE)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">ContinueIdleTime</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;5</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MINUTE)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">MaxSuspendTime</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;10</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MINUTE)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">KeyboardBusy</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;KeyboardIdle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003C;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MINUTE)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">ConsoleBusy</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(ConsoleIdle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003C;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MINUTE))</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">CPUIdle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(NonCondorLoadAvg)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003C;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(BackgroundLoad)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">CPUBusy</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(NonCondorLoadAvg)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(HighLoad)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">KeyboardNotBusy</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;($(KeyboardBusy)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;False)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">MachineBusy</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;($(CPUBusy)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(KeyboardBusy)</tspan>
</div>
<!--l. 1709--><p class="nopar" >
<!--l. 1711--><p class="indent" >   Preemption is disabled as a default. Always desire to start jobs.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-518">
<tspan font-family="ectt" font-size="1000">WANT_SUSPEND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;False</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">WANT_VACATE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;False</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">START</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SUSPEND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;False</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">CONTINUE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">PREEMPT </tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;False</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Kill</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobs</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;that</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;take</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;too</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;long</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;leaving</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;gracefully.</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">MachineMaxVacateTime</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;10</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MINUTE)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">KILL</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;False</tspan>
</div>
<!--l. 1723--><p class="nopar" >
<!--l. 1725--><p class="indent" >   Periodic checkpointing specifies that for jobs smaller than 60 Mbytes, take a periodic checkpoint every 6 hours.
For larger jobs, only take a checkpoint every 12 hours.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-519">
<tspan font-family="ectt" font-size="1000">PERIODIC_CHECKPOINT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(ImageSize</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003C;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;60000)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;($(LastCkpt)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(6</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(HOUR)))</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(LastCkpt)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(12</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(HOUR))</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan>
</div>
<!--l. 1732--><p class="nopar" >
<a 
 id="dx35-252003"></a>
<!--l. 1736--><p class="indent" >   At UW-Madison, we have a fast network. We simplify our expression considerably to
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-520">
<tspan font-family="ectt" font-size="1000">PERIODIC_CHECKPOINT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(LastCkpt)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(3</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(HOUR))</tspan>
</div>
<!--l. 1740--><p class="nopar" >
<a 
 id="dx35-252004"></a>
     <dl class="description"><dt class="description">
Test-job Policy Example </dt><dd 
class="description"></dd></dl>
<!--l. 1753--><p class="indent" >   This example shows how the default macros can be used to set up a machine for running test jobs from a
specific user. Suppose we want the machine to behave normally, except if user coltrane submits a job. In
that case, we want that job to start regardless of what is happening on the machine. We do not want
the job suspended, vacated or killed. This is reasonable if we know coltrane is submitting very short
running programs for testing purposes. The jobs should be executed right away. This works with any
machine (or the whole pool, for that matter) by adding the following 5 expressions to the existing
configuration:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-521">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;START</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;($(START))</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"coltrane"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SUSPEND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;($(SUSPEND))</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;!=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"coltrane"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CONTINUE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(CONTINUE)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PREEMPT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;($(PREEMPT))</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;!=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"coltrane"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;KILL</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(KILL)</tspan>
</div>
<!--l. 1773--><p class="nopar" > Notice that there is nothing special in either the <span class="texttt">CONTINUE</span> or <span class="texttt">KILL</span> expressions. If Coltrane&#8217;s jobs never suspend,
they never look at <span class="texttt">CONTINUE</span>. Similarly, if they never preempt, they never look at <span class="texttt">KILL</span>.
<a 
 id="dx35-252005"></a>
     <dl class="description"><dt class="description">
Time of Day Policy </dt><dd 
class="description"></dd></dl>
<!--l. 1790--><p class="indent" >   HTCondor can be configured to only run jobs at certain times of the day. In general, we discourage configuring a
system like this, since there will often be lots of good cycles on machines, even when their owners say &#8220;I&#8217;m always
using my machine during the day.&#8221; However, if you submit mostly vanilla jobs or other jobs that cannot produce
checkpoints, it might be a good idea to only allow the jobs to run when you know the machines will be idle and
when they will not be interrupted.
<!--l. 1803--><p class="indent" >   To configure this kind of policy, use the <span class="texttt">ClockMin</span> and <span class="texttt">ClockDay</span> attributes. These are special attributes which
are automatically inserted by the <span class="textit">condor_startd</span> into its ClassAd, so you can always reference them in
your policy expressions. <span class="texttt">ClockMin</span> defines the number of minutes that have passed since midnight.
For example, 8:00am is 8 hours after midnight, or 8 * 60 minutes, or 480. 5:00pm is 17 hours after
midnight, or 17 * 60, or 1020. <span class="texttt">ClockDay</span> defines the day of the week, Sunday = 0, Monday = 1, and so
on.
<!--l. 1816--><p class="indent" >   To make the policy expressions easy to read, we recommend using macros to define the time periods when you
want jobs to run or not run. For example, assume regular work hours at your site are from 8:00am until 5:00pm,
Monday through Friday:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-522">
<tspan font-family="ectt" font-size="1000">WorkHours</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(ClockMin</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;480</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ClockMin</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003C;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1020)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(ClockDay</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ClockDay</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003C;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;6)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">AfterHours</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(ClockMin</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003C;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;480</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ClockMin</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1020)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(ClockDay</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ClockDay</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;6)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan>
</div>
<!--l. 1826--><p class="nopar" >
<!--l. 1828--><p class="indent" >   Of course, you can fine-tune these settings by changing the definition of <span class="texttt">AfterHours</span> <a 
 id="dx35-252006"></a><a 
 id="dx35-252007"></a> and <span class="texttt">WorkHours</span> <a 
 id="dx35-252008"></a><a 
 id="dx35-252009"></a> for your
site.
<!--l. 1831--><p class="indent" >   To force HTCondor jobs to stay off of your machines during work hours:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-523">
<tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Only</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;start</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobs</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;after</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;hours.</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">START</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(AfterHours)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Consider</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;machine</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;busy</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;during</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;work</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;hours,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;or</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;if</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;keyboard</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;or</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CPU</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;are</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;busy.</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">MachineBusy</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(WorkHours)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(CPUBusy)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(KeyboardBusy)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan>
</div>
<!--l. 1841--><p class="nopar" >
<!--l. 1843--><p class="indent" >   This <span class="texttt">MachineBusy</span> macro is convenient if other than the default <span class="texttt">SUSPEND</span> and <span class="texttt">PREEMPT</span> expressions are
used.
<a 
 id="dx35-252010"></a>
<a 
 id="dx35-252011"></a>
     <dl class="description"><dt class="description">
Desktop/Non-Desktop Policy </dt><dd 
class="description"></dd></dl>
<!--l. 1858--><p class="indent" >   Suppose you have two classes of machines in your pool: desktop machines and dedicated cluster machines. In this
case, you might not want keyboard activity to have any effect on the dedicated machines. For example, when you log
into these machines to debug some problem, you probably do not want a running job to suddenly be killed.
Desktop machines, on the other hand, should do whatever is necessary to remain responsive to the
user.
<!--l. 1866--><p class="indent" >   There are many ways to achieve the desired behavior. One way is to make a standard desktop policy
and a standard non-desktop policy and to copy the desired one into the local configuration file for
each machine. Another way is to define one standard policy (in the global configuration file) with a
simple toggle that can be set in the local configuration file. The following example illustrates the latter
approach.
<!--l. 1875--><p class="indent" >   For ease of use, an entire policy is included in this example. Some of the expressions are just the usual default
settings.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-524">
<tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;If</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"IsDesktop"</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;configured,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;make</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;it</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;an</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;attribute</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;machine</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ClassAd.</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">STARTD_ATTRS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;IsDesktop</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Only</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;consider</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;starting</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobs</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;if:</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;load</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;average</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;low</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;enough</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;OR</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;machine</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;currently</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;running</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;an</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;HTCondor</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;AND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;user</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;not</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;active</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(if</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;a</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;desktop)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">START</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;($(CPUIdle)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(State</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;!=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"Unclaimed"</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;State</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;!=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"Owner"))</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(IsDesktop</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=!=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(KeyboardIdle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(StartIdleTime)))</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Suspend</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(instead</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;vacating/killing)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;for</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;following</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cases:</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">WANT_SUSPEND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(SmallJob)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(JustCpu)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(IsVanilla)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;When</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;preempting,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;vacate</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(instead</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;killing)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;in</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;following</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cases:</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">WANT_VACATE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(ActivationTimer)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;10</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MINUTE)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(IsVanilla)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Suspend</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobs</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;if:</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;The</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CPU</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;has</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;been</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;busy</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;for</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;more</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;than</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;minutes,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;AND</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;has</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;been</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;running</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;for</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;more</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;than</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;90</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;seconds</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;3)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;OR</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;suspend</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;if</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;this</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;a</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;desktop</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;and</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;user</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;active</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SUSPEND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;((CpuBusyTime</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MINUTE))</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;($(ActivationTimer)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;90))</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;IsDesktop</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=?=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(KeyboardBusy)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Continue</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobs</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;if:</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CPU</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;idle,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;AND</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;we</tspan><tspan font-family="tctt" font-size="1000">'</tspan><tspan font-family="ectt" font-size="1000">ve</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;been</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;suspended</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;more</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;than</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;5</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;minutes</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;AND</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;3)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;keyboard</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;has</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;been</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;idle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;for</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;long</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;enough</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(if</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;this</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;a</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;desktop)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">CONTINUE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(CPUIdle)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;($(ActivityTimer)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;300)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(IsDesktop</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=!=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(KeyboardIdle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(ContinueIdleTime)))</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Preempt</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobs</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;if:</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;The</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;suspended</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;and</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;has</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;been</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;suspended</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;longer</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;than</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;we</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;want</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;OR,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;we</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;don</tspan><tspan font-family="tctt" font-size="1000">'</tspan><tspan font-family="ectt" font-size="1000">t</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;want</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;to</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;suspend</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;this</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;but</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;conditions</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;to</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;suspend</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobs</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;have</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;been</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;met</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(someone</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;is</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;using</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;machine)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">PREEMPT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;((Activity</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"Suspended")</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;($(ActivityTimer)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MaxSuspendTime)))</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(SUSPEND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(WANT_SUSPEND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;False))</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Replace</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;in</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;following</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;expression</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;with</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;whatever</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;amount</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;retirement</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;time</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;you</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;want</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;dedicated</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;machines</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;to</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;provide.</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;The</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;other</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;part</tspan>
                                                                                         

                                                                                         
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;expression</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;forces</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;whole</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;expression</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;to</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;on</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;desktop</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;machines.</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">MAXJOBRETIREMENTTIME</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(IsDesktop</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=!=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Kill</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;jobs</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;if</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;they</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;have</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;taken</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;too</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;long</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;to</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;vacate</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;gracefully</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">MachineMaxVacateTime</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;10</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MINUTE)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">KILL</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;False</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
</div>
<!--l. 1929--><p class="nopar" >
<!--l. 1931--><p class="indent" >   With this policy in the global configuration, the local configuration files for desktops can be easily configured
with the following line:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-525">
<tspan font-family="ectt" font-size="1000">IsDesktop</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
</div>
<!--l. 1936--><p class="nopar" >
<!--l. 1938--><p class="indent" >   In all other cases, the default policy described above will ignore keyboard activity.
<a 
 id="dx35-252012"></a>
<a 
 id="dx35-252013"></a>
<a 
 id="dx35-252014"></a>
     <dl class="description"><dt class="description">
Disabling and Enabling Preemption </dt><dd 
class="description"></dd></dl>
<!--l. 1954--><p class="indent" >   Preemption causes a running job to be suspended or killed, such that another job can run. As of HTCondor
version 8.1.5, preemption is disabled by the default configuration. Previous versions of HTCondor had configuration
that enabled preemption. Upon upgrade, the previous behavior will continue, if the previous configuration
files are used. New configuration file examples disable preemption, but contain directions for enabling
preemption.
<a 
 id="dx35-252015"></a>
     <dl class="description"><dt class="description">
Job Suspension </dt><dd 
class="description"></dd></dl>
<!--l. 1973--><p class="noindent" >As new jobs are submitted that receive a higher priority than currently executing jobs, the executing jobs
may be preempted. If the preempted jobs are not capable of writing checkpoints, they lose whatever
forward progress they have made, and are sent back to the job queue to await starting over again
as another machine becomes available. An alternative to this is to use suspension to freeze the job
while some other task runs, and then unfreeze it so that it can continue on from where it left off.
This does not require any special handling in the job, unlike most strategies that take checkpoints.
However, it does require a special configuration of HTCondor. This example implements a policy that
allows the job to decide whether it should be evicted or suspended. The jobs announce their choice
through the use of the invented job ClassAd attribute <span class="texttt">IsSuspendableJob</span>, that is also utilized in the
configuration.
<!--l. 1992--><p class="indent" >   The implementation of this policy utilizes two categories of slots, identified as suspendable or nonsuspendable. A
job identifies which category of slot it wishes to run on. This affects two aspects of the policy:
     <ul class="itemize1">
                                                                                         

                                                                                         
     <li class="itemize">Of two jobs that might run on a slot, which job is chosen. The four cases that may occur depend on whether
     the currently running job identifies itself as suspendable or nonsuspendable, and whether the potentially
     running job identifies itself as suspendable or nonsuspendable.
         <ol  class="enumerate1" >
         <li 
  class="enumerate" id="x35-252017x1">If the currently running job is one that identifies itself as suspendable, and the potentially running
         job identifies itself as nonsuspendable, the currently running job is suspended, in favor of running
         the nonsuspendable one. This occurs independent of the user priority of the two jobs.
         </li>
         <li 
  class="enumerate" id="x35-252019x2">If  both  the  currently  running  job  and  the  potentially  running  job  identify  themselves  as
         suspendable, then the relative priorities of the users and the preemption policy determines whether
         the new job will replace the existing job.
         </li>
         <li 
  class="enumerate" id="x35-252021x3">If  both  the  currently  running  job  and  the  potentially  running  job  identify  themselves  as
         nonsuspendable, then the relative priorities of the users and the preemption policy determines
         whether the new job will replace the existing job.
         </li>
         <li 
  class="enumerate" id="x35-252023x4">If the currently running job is one that identifies itself as nonsuspendable, and the potentially
         running job identifies itself as suspendable, the currently running job continues running.</li></ol>
     </li>
     <li class="itemize">What happens to a currently running job that is preempted. A job that identifies itself as suspendable will be
     suspended, which means it is frozen in place, and will later be unfrozen when the preempting job is finished. A
     job that identifies itself as nonsuspendable is evicted, which means it writes a checkpoint, when possible, and
     then is killed. The job will return to the idle state in the job queue, and it can try to run again in the
     future.</li></ul>
<a 
 id="dx35-252024"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-526">
<tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Lie</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;HTCondor,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;achieve</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;2</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;slots</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;for</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;each</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;real</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;slot</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">NUM_CPUS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(DETECTED_CORES)*2</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;There</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;is</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;no</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;good</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;way</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;tell</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;HTCondor</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;that</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;two</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;slots</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;should</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;be</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;treated</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;as</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;though</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;they</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;share</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;same</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;real</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;memory,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;so</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;lie</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;about</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;how</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;much</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;memory</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;we</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;have.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">MEMORY</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(DETECTED_MEMORY)*2</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Slots</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;through</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;DETECTED_CORES</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;are</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;nonsuspendable</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;and</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;rest</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;are</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;suspendable</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">IsSuspendableSlot</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SlotID</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(DETECTED_CORES)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;If</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;I</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;am</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;a</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;suspendable</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;slot,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;my</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;corresponding</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;nonsuspendable</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;slot</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;is</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;my</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SlotID</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;plus</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(DETECTED_CORES)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">NonSuspendableSlotState</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;eval(strcat("slot",SlotID-$(DETECTED_CORES),"_State")</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;The</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;above</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;expression</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;looks</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;at</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;slotX_State,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;so</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;we</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;need</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;add</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;State</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;list</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;of</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;slot</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;attributes</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;advertise.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_SLOT_ATTRS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(STARTD_SLOT_ATTRS)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;State</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;For</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;convenience,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;advertise</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;these</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;expressions</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;in</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;machine</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;ad.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_ATTRS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(STARTD_ATTRS)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;IsSuspendableSlot</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NonSuspendableSlotState</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">MyNonSuspendableSlotIsIdle</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(NonSuspendableSlotState</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=!=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"Claimed"</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NonSuspendableSlotState</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=!=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"Preempting")</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NonSuspendable</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;slots</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;are</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;always</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;willing</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;start</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;jobs.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Suspendable</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;slots</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;are</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;only</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;willing</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;start</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;if</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NonSuspendable</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;slot</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;is</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;idle.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">START</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;IsSuspendableSlot!=True</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;IsSuspendableJob=!=True</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;||</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;IsSuspendableSlot</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;IsSuspendableJob==True</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(MyNonSuspendableSlotIsIdle)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Suspend</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;suspendable</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;slot</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;if</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;other</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;slot</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;is</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;busy.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SUSPEND</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;IsSuspendableSlot</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(MyNonSuspendableSlotIsIdle)!=True</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">WANT_SUSPEND</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(SUSPEND)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">CONTINUE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;($(SUSPEND))</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;!=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
</div>
<!--l. 2076--><p class="nopar" >
<!--l. 2079--><p class="indent" >   Note that in this example, the job ClassAd attribute <span class="texttt">IsSuspendableJob</span> has no special meaning to HTCondor.
It is an invented name chosen for this example. To take advantage of the policy, a job that wishes to be suspended
must submit the job so that this attribute is defined. The following line should be placed in the job&#8217;s submit
description file:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-527">
<tspan font-family="ectt" font-size="1000">+IsSuspendableJob</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
</div>
<!--l. 2087--><p class="nopar" >
<a 
 id="dx35-252025"></a>
     <dl class="description"><dt class="description">
Configuration for Interactive Jobs </dt><dd 
class="description"></dd></dl>
<!--l. 2099--><p class="indent" >   Policy may be set based on whether a job is an interactive one or not. Each interactive job has the job ClassAd
attribute
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-528">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;InteractiveJob</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
</div>
<!--l. 2103--><p class="nopar" > and this may be used to identify interactive jobs, distinguishing them from all other jobs.
<!--l. 2107--><p class="indent" >   As an example, presume that slot 1 prefers interactive jobs. Set the machine&#8217;s <span class="texttt">RANK</span> to show the
preference:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-529">
<tspan font-family="ectt" font-size="0800">RANK</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(MY.SlotID</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;==</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(TARGET.InteractiveJob</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=?=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;True)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;)</tspan>
</div>
<!--l. 2112--><p class="nopar" >
<!--l. 2115--><p class="indent" >   Or, if slot 1 should be reserved for interactive jobs:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-530">
<tspan font-family="ectt" font-size="0800">START</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(MY.SlotID</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;==</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(TARGET.InteractiveJob</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=?=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;True)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;)</tspan>
</div>
<!--l. 2119--><p class="nopar" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2530003.7.1"></a> Multi-Core Machine Terminology</h5>
<a 
 id="dx35-253001"></a>
<a 
 id="dx35-253002"></a>
<!--l. 8--><p class="noindent" >Machines with more than one CPU or core may be configured to run more than one job at a time. As always,
owners of the resources have great flexibility in defining the policy under which multiple jobs may run, suspend,
vacate, etc.
<!--l. 13--><p class="indent" >   Multi-core machines are represented to the HTCondor system as shared resources broken up into individual
<span class="emph">slots</span>. Each slot can be matched and claimed by users for jobs. Each slot is represented by an individual machine
ClassAd. In this way, each multi-core machine will appear to the HTCondor system as a collection of separate slots.
As an example, a multi-core machine named <span class="texttt">vulture.cs.wisc.edu</span> would appear to HTCondor as the multiple
machines, named <span class="texttt">slot1@vulture.cs.wisc.edu</span>, <span class="texttt">slot2@vulture.cs.wisc.edu</span>, <span class="texttt">slot3@vulture.cs.wisc.edu</span>, and
so on.
<a 
 id="dx35-253003"></a>
<!--l. 26--><p class="indent" >   The way that the <span class="textit">condor_startd</span> breaks up the shared system resources into the different slots is
configurable. All shared system resources, such as RAM, disk space, and swap space, can be divided
evenly among all the slots, with each slot assigned one core. Alternatively, <span class="emph">slot types</span> are defined by
configuration, so that resources can be unevenly divided. Regardless of the scheme used, it is important to
remember that the goal is to create a representative slot ClassAd, to be used for matchmaking with
jobs.
<!--l. 39--><p class="indent" >   HTCondor does not directly enforce slot shared resource allocations, and jobs are free to oversubscribe to shared
resources. Consider an example where two slots are each defined with 50%&#x00A0;of available RAM. The resultant ClassAd
for each slot will advertise one half the available RAM. Users may submit jobs with RAM requirements that match
these slots. However, jobs run on either slot are free to consume more than 50%&#x00A0;of available RAM. HTCondor will
not directly enforce a RAM utilization limit on either slot. If a shared resource enforcement capability is needed, it
is possible to write a policy that will evict a job that oversubscribes to shared resources, as described in section
<a 
href="#x35-2550003.7.1">3.7.1<!--tex4ht:ref: sec:Config-SMP-Policy --></a>.
<!--l. 55--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2540003.7.1"></a> Dividing System Resources in Multi-core Machines</h5>
                                                                                         

                                                                                         
<!--l. 58--><p class="noindent" >Within a machine the shared system resources of cores, RAM, swap space and disk space will be divided for use by
the slots. There are two main ways to go about dividing the resources of a multi-core machine:
     <dl class="description"><dt class="description">
Evenly divide all resources. </dt><dd 
class="description">By default, the <span class="textit">condor_startd</span> will automatically divide the machine into
     slots, placing one core in each slot, and evenly dividing all shared resources among the slots. The
     only specification may be how many slots are reported at a time. By default, all slots are reported to
     HTCondor.
     <!--l. 74--><p class="noindent" >How many slots are reported at a time is accomplished by setting the configuration variable <span class="texttt">NUM_SLOTS</span>
     <a 
 id="dx35-254001"></a><a 
 id="dx35-254002"></a> to the integer number of slots desired. If variable <span class="texttt">NUM_SLOTS</span> is not defined, it defaults to the number
     of cores within the machine. Variable <span class="texttt">NUM_SLOTS</span> may not be used to make HTCondor advertise more
     slots than there are cores on the machine. The number of cores is defined by <span class="texttt">NUM_CPUS</span> <a 
 id="dx35-254003"></a><a 
 id="dx35-254004"></a>.
     </dd><dt class="description">
Define slot types. </dt><dd 
class="description">Instead of an even division of resources per slot, the machine may have definitions of
     <span class="emph">slot types</span>, where each type is provided with a fraction of shared system resources. Given the slot type
     definition, control how many of each type are reported at any given time with further configuration.
     <!--l. 90--><p class="noindent" >Configuration variables define the slot types, as well as variables that list how much of each system
     resource goes to each slot type.
     <!--l. 94--><p class="noindent" >Configuration variable <span class="texttt">SLOT_TYPE_&#x003C;N&#x003E;</span> <a 
 id="dx35-254005"></a><a 
 id="dx35-254006"></a>, where <span class="obeylines-h"><span class="verb">&#x003C;N&#x003E;</span></span> is an integer (for example, <span class="texttt">SLOT_TYPE_1</span>) defines
     the slot type. Note that there may be multiple slots of each type. The number of slots created of a
     given type is configured with <span class="texttt">NUM_SLOTS_TYPE_&#x003C;N&#x003E;</span>.
     <!--l. 102--><p class="noindent" >The type can be defined by:
         <ul class="itemize1">
         <li class="itemize">A simple fraction, such as 1/4
         </li>
         <li class="itemize">A simple percentage, such as 25%
         </li>
         <li class="itemize">A comma-separated list of attributes, with a percentage, fraction, numerical value, or <span class="texttt">auto</span> for
         each one.
         </li>
         <li class="itemize">A comma-separated list that includes a blanket value that serves as a default for any resources
         not explicitly specified in the list.</li></ul>
     <!--l. 113--><p class="noindent" >A simple fraction or percentage describes the allocation of the total system resources, including the
     number of CPUS or cores. A comma separated list allows a fine tuning of the amounts for specific
     resources.
     <!--l. 119--><p class="noindent" >The number of CPUs and the total amount of RAM in the machine do not change over time. For these
     attributes, specify either absolute values or percentages of the total available amount (or <span class="texttt">auto</span>). For example,
     in a machine with 128 Mbytes of RAM, all the following definitions result in the same allocation
     amount.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-531">
     <tspan font-family="ectt" font-size="1000">SLOT_TYPE_1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;mem=64</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT_TYPE_1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;mem=1/2</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT_TYPE_1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;mem=50%</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT_TYPE_1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;mem=auto</tspan>
</div>
     <!--l. 134--><p class="nopar" >
     <!--l. 136--><p class="noindent" >Amounts of disk space and swap space are dynamic, as they change over time. For these, specify a percentage
     or fraction of the total value that is allocated to each slot, instead of specifying absolute values. As the total
     values of these resources change on the machine, each slot will take its fraction of the total and report that as
     its available amount.
     <!--l. 143--><p class="noindent" >The disk space allocated to each slot is taken from the disk partition containing the slot&#8217;s <span class="texttt">EXECUTE</span> or
     <span class="texttt">SLOT&#x003C;N&#x003E;_EXECUTE</span> <a 
 id="dx35-254007"></a><a 
 id="dx35-254008"></a> directory. If every slot is in a different partition, then each one may be defined with up to
     100%&#x00A0;for its disk share. If some slots are in the same partition, then their total is not allowed to exceed
     100%.
     <!--l. 150--><p class="noindent" >The four predefined attribute names are case insensitive when defining slot types. The first letter of the
     attribute name distinguishes between these attributes. The four attributes, with several examples of acceptable
     names for each:
         <ul class="itemize1">
         <li class="itemize">Cpus, C, c, cpu
         </li>
         <li class="itemize">ram, RAM, MEMORY, memory, Mem, R, r, M, m
         </li>
         <li class="itemize">disk, Disk, D, d
         </li>
         <li class="itemize">swap, SWAP, S, s, VirtualMemory, V, v</li></ul>
     <!--l. 162--><p class="noindent" >As an example, consider a machine with 4 cores and 256 Mbytes of RAM. Here are valid example slot type
     definitions. Types 1-3 are all equivalent to each other, as are types 4-6. Note that in a real configuration, all of
     these slot types would not be used together, because they add up to more than 100%&#x00A0;of the various system
     resources. This configuration example also omits definitions of <span class="texttt">NUM_SLOTS_TYPE_&#x003C;N&#x003E;</span>, to define the number of
     each slot type.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-532">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cpus=2,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ram=128,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;swap=25%,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;disk=1/2</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cpus=1/2,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;memory=128,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;virt=25%,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;disk=50%</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_3</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;c=1/2,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;m=50%,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;v=1/4,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;disk=1/2</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_4</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;c=25%,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;m=64,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;v=1/4,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;d=25%</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_5</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;25%</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_6</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1/4</tspan>
</div>
     <!--l. 184--><p class="nopar" >
     <!--l. 186--><p class="noindent" >The default value for each resource share is <span class="texttt">auto</span>. The share may also be explicitly set to <span class="texttt">auto</span>. All slots with
     the value <span class="texttt">auto</span> for a given type of resource will evenly divide whatever remains, after subtracting out explicitly
     allocated resources given in other slot definitions. For example, if one slot is defined to use 10%&#x00A0;of the memory
     and the rest define it as <span class="texttt">auto</span> (or leave it undefined), then the rest of the slots will evenly divide 90%&#x00A0;of the
     memory between themselves.
     <!--l. 197--><p class="noindent" >In both of the following examples, the disk share is set to <span class="texttt">auto</span>, number of cores is 1, and everything else is
     50%:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-533">
     <tspan font-family="ectt" font-size="1000">SLOT_TYPE_1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cpus=1,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ram=1/2,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;swap=50%</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT_TYPE_1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cpus=1,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;disk=auto,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;50%</tspan>
</div>
     <!--l. 204--><p class="nopar" >
     <!--l. 206--><p class="noindent" >Note that it is possible to set the configuration variables such that they specify an impossible configuration. If
     this occurs, the <span class="textit">condor_startd</span> daemon fails after writing a message to its log attempting to indicate the
     configuration requirements that it could not implement.
     <!--l. 212--><p class="noindent" >In addition to the standard resources of CPUs, memory, disk, and swap, the administrator may also define
     custom resources on a localized per-machine basis.
     <!--l. 216--><p class="noindent" >The resource names and quantities of available resources are defined using configuration variables of the form
     <span class="texttt">MACHINE_RESOURCE_&#x003C;name&#x003E;</span> <a 
 id="dx35-254009"></a><a 
 id="dx35-254010"></a>, as shown in this example:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-534">
     <tspan font-family="ectt" font-size="1000">MACHINE_RESOURCE_gpu</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;16</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">MACHINE_RESOURCE_actuator</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;8</tspan>
</div>
     <!--l. 222--><p class="nopar" >
     <!--l. 224--><p class="noindent" >If the configuration uses the optional configuration variable <span class="texttt">MACHINE_RESOURCE_NAMES</span> <a 
 id="dx35-254011"></a><a 
 id="dx35-254012"></a> to enable and disable
     local machine resources, also add the resource names to this variable. For example:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-535">
     <tspan font-family="ectt" font-size="1000">if</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;defined</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MACHINE_RESOURCE_NAMES</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MACHINE_RESOURCE_NAMES</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(MACHINE_RESOURCE_NAMES)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;gpu</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;actuator</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">endif</tspan>
</div>
     <!--l. 232--><p class="nopar" >
     <!--l. 234--><p class="noindent" >Local machine resource names defined in this way may now be used in conjunction with <span class="texttt">SLOT_TYPE_&#x003C;N&#x003E;</span> <a 
 id="dx35-254013"></a><a 
 id="dx35-254014"></a>,
     using all the same syntax described earlier in this section. The following example demonstrates the definition
     of static and partitionable slot types with local machine resources:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-536">
     <tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;declare</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;one</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;partitionable</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slot</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;with</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;half</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GPUs,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;6</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;actuators,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;and</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;50%</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;all</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;other</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;resources:</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT_TYPE_1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;gpu=50%,actuator=6,50%</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT_TYPE_1_PARTITIONABLE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;TRUE</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">NUM_SLOTS_TYPE_1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;declare</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;two</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;static</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slots,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;each</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;with</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;25%</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GPUs,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;actuator,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;and</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;25%</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;all</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;other</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;resources:</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT_TYPE_2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;gpu=25%,actuator=1,25%</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT_TYPE_2_PARTITIONABLE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FALSE</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">NUM_SLOTS_TYPE_2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2</tspan>
</div>
     <!--l. 252--><p class="nopar" >
     <!--l. 254--><p class="noindent" >A job may request these local machine resources using the syntax <span class="textbf">request_&#x003C;name&#x003E;</span><a 
 id="dx35-254015"></a>, as described in
     section&#x00A0;<a 
href="#x35-2600003.7.1">3.7.1<!--tex4ht:ref: sec:SMP-dynamicprovisioning --></a>. This example shows a portion of a submit description file that requests GPUs and an
     actuator:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-537">
     <tspan font-family="ectt" font-size="1000">universe</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;vanilla</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;request</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;two</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GPUs</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;and</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;one</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;actuator:</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">request_gpu</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">request_actuator</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">queue</tspan>
</div>
     <!--l. 267--><p class="nopar" >
     <!--l. 269--><p class="noindent" >The slot ClassAd will represent each local machine resource with the following attributes:
         <dl class="description"><dt class="description">
      </dt><dd 
class="description"><span class="texttt">Total&#x003C;name&#x003E;</span>: the total quantity of the resource identified by <span class="texttt">&#x003C;name&#x003E;</span>
         </dd><dt class="description">
      </dt><dd 
class="description"><span class="texttt">Detected&#x003C;name&#x003E;</span>: the quantity detected of the resource identified by <span class="texttt">&#x003C;name&#x003E;</span>; this attribute is currently
         equivalent to <span class="texttt">Total&#x003C;name&#x003E;</span>
         </dd><dt class="description">
      </dt><dd 
class="description"><span class="texttt">TotalSlot&#x003C;name&#x003E;</span>: the quantity of the resource identified by <span class="texttt">&#x003C;name&#x003E;</span> allocated to this slot
         </dd><dt class="description">
      </dt><dd 
class="description"><span class="texttt">&#x003C;name&#x003E;</span>: the amount of the resource identified by <span class="texttt">&#x003C;name&#x003E;</span> available to be used on this slot</dd></dl>
     <!--l. 283--><p class="noindent" >From the example given, the <span class="texttt">gpu</span> resource would be represented by the ClassAd attributes <span class="texttt">TotalGpu</span>,
     <span class="texttt">DetectedGpu</span>, <span class="texttt">TotalSlotGpu</span>, and <span class="texttt">Gpu</span>. In the job ClassAd, the amount of the requested machine resource
     appears in a job ClassAd attribute named <span class="texttt">Request&#x003C;name&#x003E;</span>. For this example, the two attributes will be
     <span class="texttt">RequestGpu</span> and <span class="texttt">RequestActuator</span>.
     <!--l. 292--><p class="noindent" >The number of each type being reported can be changed at run time, by issuing a reconfiguration command to
     the <span class="textit">condor_startd</span> daemon (sending a SIGHUP or using <span class="textit">condor_reconfig</span>). However, the definitions for the
     types themselves cannot be changed with reconfiguration. To change any slot type definitions, use
     <span class="textit">condor_restart</span>
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-538">
     <tspan font-family="ectt" font-size="1000">condor_restart</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-startd</tspan>
</div>
     <!--l. 301--><p class="nopar" > for that change to take effect.
     </dd></dl>
<!--l. 308--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2550003.7.1"></a> Configuration Specific to Multi-core Machines</h5>
<a 
 id="dx35-255001"></a>
<a 
 id="dx35-255002"></a>
<!--l. 313--><p class="noindent" >Each slot within a multi-core machine is treated as an independent machine, each with its own view of its state as
represented by the machine ClassAd attribute <span class="texttt">State</span>. The policy expressions for the multi-core machine as a whole
are propagated from the <span class="textit">condor_startd</span> to the slot&#8217;s machine ClassAd. This policy may consider a slot state(s) in its
expressions. This makes some policies easy to set, but it makes other policies difficult or impossible to
set.
<!--l. 324--><p class="indent" >   An easy policy to set configures how many of the slots notice console or tty activity on the multi-core
machine as a whole. Slots that are not configured to notice any activity will report <span class="texttt">ConsoleIdle</span> and
<span class="texttt">KeyboardIdle</span> times from when the <span class="textit">condor_startd</span> daemon was started, plus a configurable number of
seconds. A multi-core machine with the default policy settings can add the keyboard and console to
be noticed by only one slot. Assuming a reasonable load average, only the one slot will suspend or
vacate its job when the owner starts typing at their machine again. The rest of the slots could be
matched with jobs and continue running them, even while the user was interactively using the machine. If
the default policy is used, all slots notice tty and console activity and currently running jobs would
suspend.
<!--l. 345--><p class="indent" >   This example policy is controlled with the following configuration variables.
     <ul class="itemize1">
     <li class="itemize"><span class="texttt">SLOTS_CONNECTED_TO_CONSOLE</span> <a 
 id="dx35-255003"></a><a 
 id="dx35-255004"></a>, with definition at section&#x00A0;<a 
href="ConfigurationMacros.html#x33-1950003.5.8">3.5.8<!--tex4ht:ref: param:SlotsConnectedToConsole --></a>
     </li>
     <li class="itemize"><span class="texttt">SLOTS_CONNECTED_TO_KEYBOARD</span> <a 
 id="dx35-255005"></a><a 
 id="dx35-255006"></a>, with definition at section&#x00A0;<a 
href="ConfigurationMacros.html#x33-1950003.5.8">3.5.8<!--tex4ht:ref: param:SlotsConnectedToKeyboard --></a>
     </li>
     <li class="itemize"><span class="texttt">DISCONNECTED_KEYBOARD_IDLE_BOOST</span> <a 
 id="dx35-255007"></a><a 
 id="dx35-255008"></a>, with definition at section&#x00A0;<a 
href="ConfigurationMacros.html#x33-1950003.5.8">3.5.8<!--tex4ht:ref: param:DisconnectedKeyboardIdleBoost --></a></li></ul>
<!--l. 356--><p class="indent" >   Each slot has its own machine ClassAd. Yet, the policy expressions for the multi-core machine are propagated
and inherited from configuration of the <span class="textit">condor_startd</span>. Therefore, the policy expressions for each slot are the same.
                                                                                         

                                                                                         
This makes the implementation of certain types of policies impossible, because while evaluating the state of one slot
within the multi-core machine, the state of other slots are not available. Decisions for one slot cannot be based on
what other slots are doing.
<!--l. 365--><p class="indent" >   Specifically, the evaluation of a slot policy expression works in the following way.
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x35-255010x1">The configuration file specifies policy expressions that are shared by all of the slots on the machine.
     </li>
     <li 
  class="enumerate" id="x35-255012x2">Each slot reads the configuration file and sets up its own machine ClassAd.
     </li>
     <li 
  class="enumerate" id="x35-255014x3">Each slot is now separate from the others. It has a different ClassAd attribute <span class="texttt">State</span>, a different
     machine ClassAd, and if there is a job running, a separate job ClassAd. Each slot periodically evaluates
     the policy expressions, changing its own state as necessary. This occurs independently of the other
     slots on the machine. So, if the <span class="textit">condor_startd</span> daemon is evaluating a policy expression on a specific
     slot, and the policy expression refers to <span class="texttt">ProcID</span>, <span class="texttt">Owner</span>, or any attribute from a job ClassAd, it <span class="emph">always</span>
     refers to the ClassAd of the job running on the specific slot.</li></ol>
<!--l. 389--><p class="indent" >   To set a different policy for the slots within a machine, incorporate the slot-specific machine ClassAd attribute
<span class="texttt">SlotID</span>. A <span class="texttt">SUSPEND</span> policy that is different for each of the two slots will be of the form
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-539">
<tspan font-family="ectt" font-size="1000">SUSPEND</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(SlotID</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(PolicyForSlot1)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;||</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(SlotID</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(PolicyForSlot2)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;)</tspan>
</div>
<!--l. 396--><p class="nopar" > where <span class="obeylines-h"><span class="verb">(PolicyForSlot1)</span></span> and <span class="obeylines-h"><span class="verb">(PolicyForSlot2)</span></span> are the desired expressions for each slot.
<!--l. 402--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2560003.7.1"></a> Load Average for Multi-core Machines</h5>
<a 
 id="dx35-256001"></a>
<a 
 id="dx35-256002"></a>
<a 
 id="dx35-256003"></a>
<a 
 id="dx35-256004"></a>
<!--l. 409--><p class="noindent" >Most operating systems define the load average for a multi-core machine as the total load on all cores. For example,
a 4-core machine with 3 CPU-bound processes running at the same time will have a load of 3.0. In
HTCondor, we maintain this view of the total load average and publish it in all resource ClassAds as
<span class="texttt">TotalLoadAvg</span>.
<!--l. 416--><p class="indent" >   HTCondor also provides a per-core load average for multi-core machines. This nicely represents the model
that each node on a multi-core machine is a slot, separate from the other nodes. All of the default,
single-core policy expressions can be used directly on multi-core machines, without modification, since
the <span class="texttt">LoadAvg</span> and <span class="texttt">CondorLoadAvg</span> attributes are the per-slot versions, not the total, multi-core wide
versions.
<!--l. 425--><p class="indent" >   The per-core load average on multi-core machines is an HTCondor invention. No system call exists to ask the
operating system for this value. HTCondor already computes the load average generated by HTCondor on each slot.
It does this by close monitoring of all processes spawned by any of the HTCondor daemons, even ones that are
orphaned and then inherited by <span class="textit">init</span>. This HTCondor load average per slot is reported as the attribute
<span class="texttt">CondorLoadAvg</span> in all resource ClassAds, and the total HTCondor load average for the entire machine is reported
as <span class="texttt">TotalCondorLoadAvg</span>. The total, system-wide load average for the entire machine is reported as
<span class="texttt">TotalLoadAvg</span>. Basically, HTCondor walks through all the slots and assigns out portions of the total load
average to each one. First, HTCondor assigns the known HTCondor load average to each node that is
generating load. If there is any load average left in the total system load, it is considered an owner load.
Any slots HTCondor believes are in the Owner state, such as ones that have keyboard activity, are
the first to get assigned this owner load. HTCondor hands out owner load in increments of at most
1.0, so generally speaking, no slot has a load average above 1.0. If HTCondor runs out of total load
average before it runs out of slots, all the remaining machines believe that they have no load average at
all. If, instead, HTCondor runs out of slots and it still has owner load remaining, HTCondor starts
assigning that load to HTCondor nodes as well, giving individual nodes with a load average higher than
1.0.
                                                                                         

                                                                                         
<!--l. 460--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2570003.7.1"></a> Debug Logging in the Multi-Core <span class="textit">condor_startd</span> Daemon</h5>
<!--l. 463--><p class="noindent" >This section describes how the <span class="textit">condor_startd</span> daemon handles its debugging messages for multi-core machines. In
general, a given log message will either be something that is machine-wide, such as reporting the total system load
average, or it will be specific to a given slot. Any log entries specific to a slot have an extra word printed out in the
entry with the slot number. So, for example, here&#8217;s the output about system resources that are being gathered (with
<span class="texttt">D_FULLDEBUG</span> and <span class="texttt">D_LOAD</span> turned on) on a 2-core machine with no HTCondor activity, and the keyboard connected
to both slots:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-540">
<tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Swap</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;space:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;131064</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;number</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Kbytes</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;available</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;for</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(/home/condor/execute):</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1345063</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Looking</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;up</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RESERVED_DISK</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;parameter</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Reserving</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;5120</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Kbytes</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;for</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;file</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;system</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Disk</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;space:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1339943</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Load</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;avg:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.340000</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.800000</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1.170000</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Idle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Time:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;user=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;console=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;seconds</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SystemLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.340</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;TotalCondorLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.000</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;TotalOwnerLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.340</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slot1:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Idle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;time:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Keyboard:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Console:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slot1:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SystemLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.340</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CondorLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.000</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;OwnerLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.340</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slot2:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Idle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;time:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Keyboard:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Console:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slot2:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SystemLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.000</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CondorLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.000</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;OwnerLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.000</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slot1:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;State:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Activity:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Idle</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:15</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slot2:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;State:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Activity:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Idle</tspan>
</div>
<!--l. 490--><p class="nopar" >
<!--l. 492--><p class="indent" >   If, on the other hand, this machine only had one slot connected to the keyboard and console, and the other slot
was running a job, it might look something like this:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-541">
<tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:19</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Load</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;avg:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1.250000</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.910000</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1.090000</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:19</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Idle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Time:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;user=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;console=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;seconds</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:19</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SystemLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1.250</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;TotalCondorLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.996</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;TotalOwnerLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.254</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:19</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slot1:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Idle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;time:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Keyboard:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Console:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:19</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slot1:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SystemLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.254</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CondorLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.000</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;OwnerLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.254</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:19</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slot2:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Idle</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;time:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Keyboard:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1496</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Console:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1496</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:19</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slot2:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SystemLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.996</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CondorLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.996</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;OwnerLoad:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.000</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:19</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slot1:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;State:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Owner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Activity:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Idle</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">11/25</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;18:19</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;slot2:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;State:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Claimed</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Activity:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Busy</tspan>
</div>
<!--l. 505--><p class="nopar" >
<!--l. 507--><p class="indent" >   Shared system resources are printed without the header, such as total swap space, and slot-specific messages,
such as the load average or state of each slot, get the slot number appended.
<!--l. 515--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2580003.7.1"></a> Configuring GPUs</h5>
<a 
 id="dx35-258001"></a>
<a 
 id="dx35-258002"></a>
<!--l. 519--><p class="noindent" >HTCondor supports incorporating GPU resources and making them available for jobs. First, GPUs must be
detected as available resources. Then, machine ClassAd attributes advertise this availability. Both detection
and advertisement are accomplished by having this configuration for each execute machine that has
GPUs:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-542">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;use</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;feature</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GPUs</tspan>
</div>
<!--l. 527--><p class="nopar" >
<!--l. 529--><p class="indent" >   Use of this configuration templdate invokes the <span class="textit">condor_gpu_discovery</span> tool to create a custom resource, with a
custom resource name of <span class="texttt">GPUs</span>, and it generates the ClassAd attributes needed to advertise the GPUs.
<span class="textit">condor_gpu_discovery</span> is invoked in a mode that discovers and advertises both CUDA and OpenCL
GPUs.
<!--l. 536--><p class="indent" >   This configuration template refers to macro <span class="texttt">GPU_DISCOVERY_EXTRA</span>, which can be used to define additional
command line arguments for the <span class="textit">condor_gpu_discovery</span> tool. For example, setting
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-543">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;use</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;feature</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GPUs</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GPU_DISCOVERY_EXTRA</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-extra</tspan>
</div>
<!--l. 543--><p class="nopar" > causes the <span class="textit">condor_gpu_discovery</span> tool to output more attributes that describe the detected GPUs on the
machine.
<!--l. 549--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2590003.7.1"></a> Configuring STARTD_ATTRS on a per-slot basis</h5>
<!--l. 552--><p class="noindent" >The <span class="texttt">STARTD_ATTRS</span> <a 
 id="dx35-259001"></a><a 
 id="dx35-259002"></a> (and legacy <span class="texttt">STARTD_EXPRS</span>) settings can be configured on a per-slot basis. The <span class="textit">condor_startd</span>
daemon builds the list of items to advertise by combining the lists in this order:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x35-259004x1"><span class="texttt">STARTD_ATTRS</span>
     </li>
     <li 
  class="enumerate" id="x35-259006x2"><span class="texttt">STARTD_EXPRS</span>
     </li>
     <li 
  class="enumerate" id="x35-259008x3"><span class="texttt">SLOT&#x003C;N&#x003E;_STARTD_ATTRS</span>
     </li>
     <li 
  class="enumerate" id="x35-259010x4"><span class="texttt">SLOT&#x003C;N&#x003E;_STARTD_EXPRS</span></li></ol>
<!--l. 563--><p class="indent" >   For example, consider the following configuration:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-544">
<tspan font-family="ectt" font-size="1000">STARTD_ATTRS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;favorite_color,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;favorite_season</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT1_STARTD_ATTRS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;favorite_movie</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT2_STARTD_ATTRS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;favorite_song</tspan>
</div>
<!--l. 568--><p class="nopar" >
<!--l. 570--><p class="indent" >   This will result in the <span class="textit">condor_startd</span> ClassAd for slot1 defining values for <span class="texttt">favorite_color</span>, <span class="texttt">favorite_season</span>,
and <span class="texttt">favorite_movie</span>. Slot2 will have values for <span class="texttt">favorite_color</span>, <span class="texttt">favorite_season</span>, and <span class="texttt">favorite_song</span>.
<!--l. 577--><p class="indent" >   Attributes themselves in the <span class="texttt">STARTD_ATTRS</span> list can also be defined on a per-slot basis. Here is another
example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-545">
<tspan font-family="ectt" font-size="1000">favorite_color</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"blue"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">favorite_season</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"spring"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">STARTD_ATTRS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;favorite_color,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;favorite_season</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT2_favorite_color</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"green"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT3_favorite_season</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"summer"</tspan>
</div>
<!--l. 587--><p class="nopar" >
<!--l. 589--><p class="indent" >   For this example, the <span class="textit">condor_startd</span> ClassAds are
     <dl class="description"><dt class="description">
 </dt><dd 
class="description">slot1:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-546">
     <tspan font-family="ectt" font-size="1000">favorite_color</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"blue"</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">favorite_season</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"spring"</tspan>
</div>
     <!--l. 595--><p class="nopar" >
     </dd><dt class="description">
 </dt><dd 
class="description">slot2:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-547">
     <tspan font-family="ectt" font-size="1000">favorite_color</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"green"</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">favorite_season</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"spring"</tspan>
</div>
     <!--l. 600--><p class="nopar" >
     </dd><dt class="description">
 </dt><dd 
class="description">slot3:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-548">
     <tspan font-family="ectt" font-size="1000">favorite_color</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"blue"</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">favorite_season</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"summer"</tspan>
</div>
     <!--l. 605--><p class="nopar" ></dd></dl>
<!--l. 610--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2600003.7.1"></a> Dynamic Provisioning: Partitionable and Dynamic Slots</h5>
<a 
 id="dx35-260001"></a>
<a 
 id="dx35-260002"></a>
<a 
 id="dx35-260003"></a>
<a 
 id="dx35-260004"></a>
<a 
 id="dx35-260005"></a>
<!--l. 618--><p class="noindent" ><span class="emph">Dynamic provisioning</span>, also referred to as partitionable or dynamic slots, allows HTCondor to use
the resources of a slot in a dynamic way; these slots may be partitioned. This means that more than
one job can occupy a single slot at any one time. Slots have a fixed set of resources which include
the cores, memory and disk space. By partitioning the slot, the use of these resources becomes more
flexible.
<!--l. 628--><p class="indent" >   Here is an example that demonstrates how resources are divided as more than one job is or can be
matched to a single slot. In this example, Slot1 is identified as a partitionable slot and has the following
resources:
     <dl class="description"><dt class="description">
 </dt><dd 
class="description">cpu = 10
     </dd><dt class="description">
 </dt><dd 
class="description">memory = 10240
     </dd><dt class="description">
 </dt><dd 
class="description">disk = BIG</dd></dl>
<!--l. 638--><p class="noindent" >Assume that JobA is allocated to this slot. JobA includes the following requirements:
     <dl class="description"><dt class="description">
 </dt><dd 
class="description">cpu = 3
     </dd><dt class="description">
 </dt><dd 
class="description">memory = 1024
                                                                                         

                                                                                         
     </dd><dt class="description">
 </dt><dd 
class="description">disk = 10240</dd></dl>
<!--l. 645--><p class="noindent" >The portion of the slot that is carved out is now known as a dynamic slot. This dynamic slot has its own machine
ClassAd, and its <span class="texttt">Name</span> attribute distinguishes itself as a dynamic slot with incorporating the substring
<span class="texttt">Slot1_1</span>.
<!--l. 652--><p class="indent" >   After allocation, the partitionable Slot1 advertises that it has the following resources still available:
     <dl class="description"><dt class="description">
 </dt><dd 
class="description">cpu = 7
     </dd><dt class="description">
 </dt><dd 
class="description">memory = 9216
     </dd><dt class="description">
 </dt><dd 
class="description">disk = BIG-10240</dd></dl>
<!--l. 659--><p class="noindent" >As each new job is allocated to Slot1, it breaks into <span class="texttt">Slot1_1</span>, <span class="texttt">Slot1_2</span>, <span class="texttt">Slot1_3</span> etc., until the entire set of Slot1&#8217;s
available resources have been consumed by jobs.
<!--l. 664--><p class="indent" >   To enable dynamic provisioning, define a slot type. and declare at least one slot of that type. Then,
identify that slot type as partitionable by setting configuration variable <span class="texttt">SLOT_TYPE_&#x003C;N&#x003E;_PARTITIONABLE</span> <a 
 id="dx35-260006"></a><a 
 id="dx35-260007"></a>
to <span class="texttt">True</span>. The value of <span class="texttt">&#x003C;N&#x003E;</span> within the configuration variable name is the same value as in slot type
definition configuration variable <span class="texttt">SLOT_TYPE_&#x003C;N&#x003E;</span>. For the most common cases the machine should be
configured for one slot, managing all the resources on the machine. To do so, set the following configuration
variables:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-549">
<tspan font-family="ectt" font-size="1000">NUM_SLOTS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">NUM_SLOTS_TYPE_1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT_TYPE_1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;100%</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SLOT_TYPE_1_PARTITIONABLE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;TRUE</tspan>
</div>
<!--l. 684--><p class="nopar" >
<!--l. 686--><p class="indent" >   In a pool using dynamic provisioning, jobs can have extra, and desired, resources specified in the submit
description file:
     <dl class="description"><dt class="description">
 </dt><dd 
class="description">request_cpus
     </dd><dt class="description">
 </dt><dd 
class="description">request_memory
     </dd><dt class="description">
 </dt><dd 
class="description">request_disk (in kilobytes)</dd></dl>
<!--l. 695--><p class="indent" >   This example shows a portion of the job submit description file for use when submitting a job to a pool with
dynamic provisioning.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-550">
<tspan font-family="ectt" font-size="1000">universe</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;vanilla</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">request_cpus</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;3</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">request_memory</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1024</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">request_disk</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;10240</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">queue</tspan>
</div>
<!--l. 705--><p class="nopar" >
<!--l. 707--><p class="indent" >   Each partitionable slot will have the ClassAd attributes
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-551">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PartitionableSlot</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SlotType</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"Partitionable"</tspan>
</div>
<!--l. 712--><p class="nopar" > Each dynamic slot will have the ClassAd attributes
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-552">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DynamicSlot</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SlotType</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"Dynamic"</tspan>
</div>
<!--l. 717--><p class="nopar" > These attributes may be used in a <span class="texttt">START</span> expression for the purposes of creating detailed policies.
<!--l. 721--><p class="indent" >   A partitionable slot will always appear as though it is not running a job. If matched jobs consume all its
resources, the partitionable slot will eventually show as having no available resources; this will prevent further
matching of new jobs. The dynamic slots will show as running jobs. The dynamic slots can be preempted in the
same way as all other slots.
<!--l. 728--><p class="indent" >   Dynamic provisioning provides powerful configuration possibilities, and so should be used with care. Specifically,
while preemption occurs for each individual dynamic slot, it cannot occur directly for the partitionable slot, or for
groups of dynamic slots. For example, for a large number of jobs requiring 1GB of memory, a pool might be split up
into 1GB dynamic slots. In this instance a job requiring 2GB of memory will be starved and unable to run. A partial
solution to this problem is provided by defragmentation accomplished by the <span class="textit">condor_defrag</span> daemon, as discussed in
section&#x00A0;<a 
href="#x35-2630003.7.1">3.7.1<!--tex4ht:ref: sec:SMP-defrag --></a>.
<a 
 id="dx35-260008"></a>
<a 
 id="dx35-260009"></a>
<!--l. 742--><p class="indent" >   Another partial solution is a new matchmaking algorithm in the negotiator, referred to as <span class="emph">partitionable slot
preemption</span>, or <span class="emph">pslot preemption</span>. Without pslot preemption, when the negotiator searches for a match for a job, it
looks at each slot ClassAd individually. With pslot preemption, the negotiator looks at a partitionable slot and all of
its dynamic slots as a group. If the partitionable slot does not have sufficient resources (memory, cpu, and disk) to
be matched with the candidate job, then the negotiator looks at all of the related dynamic slots that
the candidate job might preempt (following the normal preemption rules described elsewhere). The
resources of each dynamic slot are added to those of the partitionable slot, one dynamic slot at a time.
Once this partial sum of resources is sufficient to enable a match, the negotiator sends the match
information to the <span class="textit">condor_schedd</span>. When the <span class="textit">condor_schedd</span> claims the partitionable slot, the dynamic slots
are preempted, such that their resources are returned to the partitionable slot for use by the new
job.
<!--l. 764--><p class="indent" >   To enable pslot preemption, the following configuration variable must be set for the <span class="textit">condor_negotiator</span>:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-553">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALLOW_PSLOT_PREEMPTION</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
</div>
<!--l. 768--><p class="nopar" >
<!--l. 770--><p class="indent" >   When the negotiator examines the resources of dynamic slots, it sorts the slots by their <span class="texttt">CurrentRank</span> attribute,
such that slots with lower values are considered first. The negotiator only examines the cpu, memory and disk
resources of the dynamic slots; custom resources are ignored.
<!--l. 776--><p class="indent" >   Dynamic slots that have retirement time remaining are not considered eligible for preemption, regardless of how
configuration variable <span class="texttt">NEGOTIATOR_CONSIDER_EARLY_PREEMPTION</span> is set.
<!--l. 780--><p class="indent" >   When pslot preemption is enabled, the negotiator will not preempt dynamic slots directly. It will preempt them
only as part of a match to a partitionable slot.
<!--l. 784--><p class="indent" >   When multiple partitionable slots match a candidate job and the various job rank expressions are evaluated to
sort the matching slots, the ClassAd of the partitionable slot is used for evaluation. This may cause unexpected
results for some expressions, as attributes such as <span class="texttt">RemoteOwner</span> will not be present in a partitionable slot that
matches with preemption of some of its dynamic slots.
<!--l. 794--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2610003.7.1"></a> Defaults for Partitionable Slot Sizes</h5>
<!--l. 797--><p class="noindent" >If a job does not specify the required number of CPUs, amount of memory, or disk space, there are ways for the
administrator to set default values for all of these parameters.
<!--l. 801--><p class="indent" >   First, if any of these attributes are not set in the submit description file, there are three variables in the
configuration file that condor_submit will use to fill in default values. These are
     <dl class="description"><dt class="description">
 </dt><dd 
class="description"><span class="texttt">JOB_DEFAULT_REQUESTMEMORY</span> <a 
 id="dx35-261001"></a><a 
 id="dx35-261002"></a>
     </dd><dt class="description">
 </dt><dd 
class="description"><span class="texttt">JOB_DEFAULT_REQUESTDISK</span> <a 
 id="dx35-261003"></a><a 
 id="dx35-261004"></a>
     </dd><dt class="description">
 </dt><dd 
class="description"><span class="texttt">JOB_DEFAULT_REQUESTCPUS</span> <a 
 id="dx35-261005"></a><a 
 id="dx35-261006"></a></dd></dl>
<!--l. 811--><p class="indent" >   The value of these variables can be ClassAd expressions. The default values for these variables, should they not
be set are
                                                                                         

                                                                                         
     <dl class="description"><dt class="description">
 </dt><dd 
class="description"><span class="texttt">JOB_DEFAULT_REQUESTMEMORY</span> = <span class="texttt">ifThenElse(MemoryUsage =!= UNDEFINED, MemoryUsage, 1)</span>
     </dd><dt class="description">
 </dt><dd 
class="description"><span class="texttt">JOB_DEFAULT_REQUESTCPUS</span> = <span class="texttt">1</span>
     </dd><dt class="description">
 </dt><dd 
class="description"><span class="texttt">JOB_DEFAULT_REQUESTDISK</span> = <span class="texttt">DiskUsage</span></dd></dl>
<!--l. 820--><p class="indent" >   Note that these default values are chosen such that jobs matched to partitionable slots function similar to static
slots.
<!--l. 823--><p class="indent" >   Once the job has been matched, and has made it to the execute machine, the <span class="textit">condor_startd</span> has the ability to
modify these resource requests before using them to size the actual dynamic slots carved out of the partitionable
slot. Clearly, for the job to work, the <span class="textit">condor_startd</span> daemon must create slots with at least as many resources as the
job needs. However, it may be valuable to create dynamic slots somewhat bigger than the job&#8217;s request, as
subsequent jobs may be more likely to reuse the newly created slot when the initial job is done using
it.
<!--l. 837--><p class="indent" >   The <span class="textit">condor_startd</span> configuration variables which control this and their defaults are
     <dl class="description"><dt class="description">
 </dt><dd 
class="description"><span class="texttt">MODIFY_REQUEST_EXPR_REQUESTCPUS</span> <a 
 id="dx35-261007"></a><a 
 id="dx35-261008"></a> = <span class="texttt">quantize(RequestCpus, {1})</span>
     </dd><dt class="description">
 </dt><dd 
class="description"><span class="texttt">MODIFY_REQUEST_EXPR_REQUESTMEMORY</span> <a 
 id="dx35-261009"></a><a 
 id="dx35-261010"></a> = <span class="texttt">quantize(RequestMemory, {128}) </span>
     </dd><dt class="description">
 </dt><dd 
class="description"><span class="texttt">MODIFY_REQUEST_EXPR_REQUESTDISK</span> <a 
 id="dx35-261011"></a><a 
 id="dx35-261012"></a> = <span class="texttt">quantize(RequestDisk, {1024}) </span></dd></dl>
<!--l. 848--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2620003.7.1"></a> condor_negotiator-Side Resource Consumption Policies</h5>
<a 
 id="dx35-262001"></a>
<a 
 id="dx35-262002"></a>
<!--l. 852--><p class="noindent" >For partitionable slots, the specification of a consumption policy permits matchmaking at the negotiator. A dynamic
slot carved from the partitionable slot acquires the required quantities of resources, leaving the partitionable slot
with the remainder. This differs from scheduler matchmaking in that multiple jobs can match with the partitionable
slot during a single negotiation cycle.
<!--l. 862--><p class="indent" >   All specification of the resources available is done by configuration of the partitionable slot. The machine is
identified as having a resource consumption policy enabled with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-554">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CONSUMPTION_POLICY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
</div>
<!--l. 867--><p class="nopar" > A defined slot type that is partitionable may override the machine value with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-555">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_&#x003C;N&#x003E;_CONSUMPTION_POLICY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
</div>
<!--l. 872--><p class="nopar" >
<!--l. 874--><p class="indent" >   A job seeking a match may always request a specific number of cores, amount of memory, and amount of disk
space. Availability of these three resources on a machine and within the partitionable slot is always defined and have
these default values:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-556">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CONSUMPTION_CPUS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;quantize(target.RequestCpus,{1})</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CONSUMPTION_MEMORY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;quantize(target.RequestMemory,{128})</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CONSUMPTION_DISK</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;quantize(target.RequestDisk,{1024})</tspan>
</div>
<!--l. 883--><p class="nopar" >
<!--l. 885--><p class="indent" >   Here is an example-driven definition of a consumption policy. Assume a single partitionable slot
type on a multi-core machine with 8 cores, and that the resource this policy cares about allocating
are the cores. Configuration for the machine includes the definition of the slot type and that it is
partitionable.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-557">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cpus=8</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_1_PARTITIONABLE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NUM_SLOTS_TYPE_1</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
</div>
<!--l. 895--><p class="nopar" >
<!--l. 897--><p class="indent" >   Enable use of the <span class="textit">condor_negotiator</span>-side resource consumption policy, allocating the job-requested
number of cores to the dynamic slot, and use <span class="texttt">SLOT_WEIGHT</span> <a 
 id="dx35-262003"></a><a 
 id="dx35-262004"></a> to assess the user usage that will affect user
priority by the number of cores allocated. Note that the only attributes valid within the <span class="texttt">SLOT_WEIGHT</span> <a 
 id="dx35-262005"></a><a 
 id="dx35-262006"></a>
expression are Cpus, Memory, and disk. This must the set to the same value on all machines in the
pool.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-558">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_1_CONSUMPTION_POLICY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_1_CONSUMPTION_CPUS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;TARGET.RequestCpus</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_WEIGHT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Cpus</tspan>
</div>
<!--l. 909--><p class="nopar" >
<!--l. 911--><p class="indent" >   If custom resources are available within the partitionable slot, they may be used in a consumption policy, by
specifying the resource. Using a machine with 4 GPUs as an example custom resource, define the resource and
include it in the definition of the partitionable slot:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-559">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MACHINE_RESOURCE_NAMES</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;gpus</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MACHINE_RESOURCE_gpus</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;4</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cpus=8,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;gpus=4</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_2_PARTITIONABLE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NUM_SLOTS_TYPE_2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1</tspan>
</div>
<!--l. 923--><p class="nopar" >
<!--l. 925--><p class="indent" >   Add the consumption policy to incorporate availability of the GPUs:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-560">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_2_CONSUMPTION_POLICY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_TYPE_2_CONSUMPTION_gpus</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;TARGET.RequestGpu</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT_WEIGHT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Cpus</tspan>
</div>
<!--l. 930--><p class="nopar" >
<!--l. 935--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2630003.7.1"></a> Defragmenting Dynamic Slots</h5>
<a 
 id="dx35-263001"></a>
<a 
 id="dx35-263002"></a>
<a 
 id="dx35-263003"></a>
<!--l. 941--><p class="noindent" >When partitionable slots are used, some attention must be given to the problem of the starvation of large jobs due
to the fragmentation of resources. The problem is that over time the machine resources may become partitioned into
slots suitable only for running small jobs. If a sufficient number of these slots do not happen to become idle at the
same time on a machine, then a large job will not be able to claim that machine, even if the large job has a better
priority than the small jobs.
<!--l. 949--><p class="indent" >   One way of addressing the partitionable slot fragmentation problem is to periodically drain all jobs from
fragmented machines so that they become defragmented. The <span class="textit">condor_defrag</span> daemon implements a configurable
policy for doing that. Its implementation is targeted at machines configured to run whole-machine jobs and
at machines that only have partitionable slots. The draining of a machine configured to have both
partitionable slots and static slots would have a negative impact on single slot jobs running in static
slots.
<!--l. 959--><p class="indent" >   To use this daemon, <span class="texttt">DEFRAG</span> must be added to <span class="texttt">DAEMON_LIST</span>, and the defragmentation policy must be configured.
Typically, only one instance of the <span class="textit">condor_defrag</span> daemon would be run per pool. It is a lightweight daemon that
should not require a lot of system resources.
<!--l. 966--><p class="indent" >   Here is an example configuration that puts the <span class="textit">condor_defrag</span> daemon to work:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-561">
<tspan font-family="ectt" font-size="1000">DAEMON_LIST</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(DAEMON_LIST)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DEFRAG</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">DEFRAG_INTERVAL</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;3600</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">DEFRAG_DRAINING_MACHINES_PER_HOUR</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1.0</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">DEFRAG_MAX_WHOLE_MACHINES</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;20</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">DEFRAG_MAX_CONCURRENT_DRAINING</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;10</tspan>
</div>
<!--l. 974--><p class="nopar" >
<!--l. 976--><p class="indent" >   This example policy tells <span class="textit">condor_defrag</span> to initiate draining jobs from 1 machine per hour, but to avoid
initiating new draining if there are 20 completely defragmented machines or 10 machines in a draining state. A
full description of each configuration variable used by the <span class="textit">condor_defrag</span> daemon may be found in
section&#x00A0;<a 
href="ConfigurationMacros.html#x33-2290003.5.33">3.5.33<!--tex4ht:ref: sec:Config-defrag --></a>.
<!--l. 984--><p class="indent" >   By default, when a machine is drained, existing jobs are gracefully evicted. This means that each job will be
allowed to use the remaining time promised to it by <span class="texttt">MaxJobRetirementTime</span>. If the job has not finished when the
retirement time runs out, the job will be killed with a soft kill signal, so that it has an opportunity to save a
checkpoint (if the job supports this).
<!--l. 992--><p class="indent" >   By default, no new jobs will be allowed to start while the machine is draining. To reduce unused time
on the machine caused by some jobs having longer retirement time than others, the eviction of jobs
with shorter retirement time is delayed until the job with the longest retirement time needs to be
evicted.
<!--l. 998--><p class="indent" >   There is a trade off between reduced starvation and throughput. Frequent draining of machines reduces the
chance of starvation of large jobs. However, frequent draining reduces total throughput. Some of the machine&#8217;s
resources may go unused during draining, if some jobs finish before others. If jobs that cannot produce checkpoints
are killed because they run past the end of their retirement time during draining, this also adds to the cost of
draining.
<!--l. 1007--><p class="indent" >   To reduce these costs, you may set the configuration macro <span class="texttt">DEFRAG_DRAINING_START_EXPR</span> <a 
 id="dx35-263004"></a><a 
 id="dx35-263005"></a>. If draining
gracefully, the defrag daemon will set the <span class="texttt">START</span> <a 
 id="dx35-263006"></a><a 
 id="dx35-263007"></a> expression for the machine to this value expression. Do <span class="emph">not</span> set this
to your usual <span class="texttt">START</span> expression; jobs accepted while draining will <span class="emph">not</span> be given their <span class="texttt">MaxRetirementTime</span>. Instead,
when the last retiring job finishes (either terminates or runs out of retirement time), all other jobs on machine will
be evicted with a retirement time of 0. (Those jobs will be given their <span class="texttt">MaxVacateTime</span>, as usual.) The machine&#8217;s
<span class="texttt">START</span> expression will become <span class="texttt">FALSE</span> and stay that way until &#8211; as usual &#8211; the machine exits the draining
state.
<!--l. 1019--><p class="indent" >   We recommend that you allow only interruptible jobs to start on draining machines. Different pools may have
different ways of denoting interruptible, but a <span class="texttt">MaxJobRetirementTime</span> of 0 is probably a good sign. You may also
want to restrict the interruptible jobs&#8217; <span class="texttt">MaxVacateTime</span> to ensure that the machine will complete draining
quickly.
<!--l. 1025--><p class="indent" >   To help gauge the costs of draining, the <span class="textit">condor_startd</span> advertises the accumulated time that was unused due to
draining and the time spent by jobs that were killed due to draining. These are advertised respectively in the
                                                                                         

                                                                                         
attributes <span class="texttt">TotalMachineDrainingUnclaimedTime</span> and <span class="texttt">TotalMachineDrainingBadput</span>. The <span class="textit">condor_defrag</span> daemon
averages these values across the pool and advertises the result in its daemon ClassAd in the attributes
<span class="texttt">AvgDrainingBadput</span> and <span class="texttt">AvgDrainingUnclaimed</span>. Details of all attributes published by the <span class="textit">condor_defrag</span> daemon
are described in section&#x00A0;<a 
href="DefragClassAdAttributes.html#x176-1240000A.8">A.8<!--tex4ht:ref: sec:Defrag-ClassAd-Attributes --></a>.
<!--l. 1039--><p class="indent" >   The following command may be used to view the <span class="textit">condor_defrag</span> daemon ClassAd:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-562">
<tspan font-family="ectt" font-size="1000">condor_status</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-l</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-any</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-constraint</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="tctt" font-size="1000">'</tspan><tspan font-family="ectt" font-size="1000">MyType</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"Defrag"</tspan><tspan font-family="tctt" font-size="1000">'</tspan>
</div>
<!--l. 1044--><p class="nopar" >
<a 
 id="dx35-263008"></a>
<a 
 id="dx35-263009"></a>
<!--l. 2127--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.7.2   </span> <a 
 id="x35-2640003.7.2"></a><span class="textit">condor_schedd</span> Policy Configuration</h4>
<a 
 id="dx35-264001"></a>
<a 
 id="dx35-264002"></a>
<!--l. 2132--><p class="noindent" >There are two types of schedd policy: job transforms (which change the ClassAd of a job at submission) and
submit requirements (which prevent some jobs from entering the queue). These policies are explained
below.
<!--l. 2138--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2650003.7.2"></a>Job Transforms</h5>
<a 
 id="dx35-265001"></a>
<!--l. 2142--><p class="noindent" >The <span class="textit">condor_schedd</span> can transform jobs as they are submitted. Transformations can be used to guarantee
the presence of required job attributes, to set defaults for job attributes the user does not supply,
or to modify job attributes so that they conform to schedd policy; an example of this might be to
automatically set accounting attributes based on the owner of the job while letting the job owner indicate a
preference.
<!--l. 2150--><p class="indent" >   There can be multiple job transforms. Each transform can have a Requirements expression to indicate which jobs
it should transform and which it should ignore. Transforms without a Requirements expression apply to all jobs. Job
transforms are applied in order. The set of transforms and their order are configured using the Configuration
variable <span class="texttt">JOB_TRANSFORM_NAMES</span> <a 
 id="dx35-265002"></a><a 
 id="dx35-265003"></a>.
<!--l. 2158--><p class="indent" >   For each entry in this list there must be a corresponding <span class="texttt">JOB_TRANSFORM_&#x003C;name&#x003E;</span> <a 
 id="dx35-265004"></a><a 
 id="dx35-265005"></a> configuration variable that
specifies the transform rules. Transforms use the same syntax as <span class="textit">condor_job_router</span> transforms; although unlike the
<span class="textit">condor_job_router</span> there is no default transform, and all matching transforms are applied - not just the first one.
(See&#x00A0;<a 
href="TheHTCondorJobRouter.html#x57-4910005.4">5.4<!--tex4ht:ref: sec:JobRouter --></a> for information on the <span class="textit">condor_job_router</span>.)
<!--l. 2166--><p class="indent" >   The following example shows a set of two transforms: one that automatically assigns an accounting group to jobs
based on the submitting user, and one that shows one possible way to transform Vanilla jobs to Docker
                                                                                         

                                                                                         
jobs.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-563">
<tspan font-family="ectt" font-size="0800">JOB_TRANSFORM_NAMES</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;AssignGroup,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SL6ToDocker</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">JOB_TRANSFORM_AssignGroup</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;[</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;eval_set_AccountingGroup</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;userMap("Groups",Owner,AccountingGroup);</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;]</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">JOB_TRANSFORM_SL6ToDocker</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;@=end</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">[</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Requirements</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JobUniverse==5</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;WantSL6</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;DockerImage</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=?=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;undefined;</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;set_WantDocker</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;true;</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;set_DockerImage</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"SL6";</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;copy_Requirements</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"VanillaRequrements";</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;set_Requirements</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;TARGET.HasDocker</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;VanillaRequirements</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">]</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">@end</tspan>
</div>
<!--l. 2186--><p class="nopar" >
<!--l. 2189--><p class="indent" >   The <span class="obeylines-h"><span class="verb">AssignGroup</span></span> transform above assumes that a mapfile that can map an owner to one or more
accounting groups has been configured via <span class="texttt">SCHEDD_CLASSAD_USER_MAP_NAMES</span>, and given the name
"Groups".
<!--l. 2194--><p class="indent" >   The <span class="obeylines-h"><span class="verb">SL6ToDocker</span></span> transform above is most likely incomplete, as it assumes some custom attributes (<span class="texttt">WantSL6</span> and
<span class="texttt">WantDocker</span> and <span class="texttt">HasDocker</span>) that your pool may or may not use.
<!--l. 2199--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2660003.7.2"></a>Submit Requirements</h5>
<a 
 id="dx35-266001"></a>
<!--l. 2203--><p class="noindent" >The <span class="textit">condor_schedd</span> may reject job submissions, such that rejected jobs never enter the queue. Rejection may be
best for the case in which there are jobs that will never be able to run; an example of this might be all jobs that
specify the standard universe in a queue with restricted networking. Another appropriate example might be to reject
all jobs that do not request a minimum amount of memory. Or, it may be appropriate to prevent certain users from
using a specific submit host.
<!--l. 2214--><p class="indent" >   Rejection criteria are configured. Configuration variable <span class="texttt">SUBMIT_REQUIREMENT_NAMES</span> <a 
 id="dx35-266002"></a><a 
 id="dx35-266003"></a> lists criteria, where each
criterion is given a name. The chosen name is a major component of the default error message output if a user
attempts to submit a job which fails to meet the requirements. Therefore, choose a descriptive name. For the three
example submit requirements described:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-564">
<tspan font-family="ectt" font-size="0800">SUBMIT_REQUIREMENT_NAMES</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NotStandardUniverse,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;MinimalRequestMemory,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;NotChris</tspan>
</div>
<!--l. 2225--><p class="nopar" >
<!--l. 2228--><p class="indent" >   The criterion for each submit requirement is then specified in configuration variable <span class="texttt">SUBMIT_REQUIREMENT_&#x003C;Name&#x003E;</span> <a 
 id="dx35-266004"></a><a 
 id="dx35-266005"></a>,
where <span class="texttt">&#x003C;Name&#x003E;</span> matches the chosen name listed in <span class="texttt">SUBMIT_REQUIREMENT_NAMES</span>. The value is a boolean ClassAd
expression. The three example criterion result in these configuration variable definitions:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-565">
<tspan font-family="ectt" font-size="0800">SUBMIT_REQUIREMENT_NotStandardUniverse</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;JobUniverse</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;!=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SUBMIT_REQUIREMENT_MinimalRequestMemory</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;RequestMemory</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;512</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SUBMIT_REQUIREMENT_NotChris</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Owner</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;!=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"chris"</tspan>
</div>
<!--l. 2241--><p class="nopar" >
<!--l. 2244--><p class="indent" >   Submit requirements are evaluated in the listed order; the first requirement that evaluates to <span class="texttt">False</span> causes
rejection of the job, terminates further evaluation of other submit requirements, and is the only requirement
reported. Each submit requirement is evaluated in the context of the <span class="textit">condor_schedd</span> ClassAd, which is the <span class="texttt">MY.</span>
name space and the job ClassAd, which is the <span class="texttt">TARGET.</span> name space. Note that <span class="texttt">JobUniverse</span> and <span class="texttt">RequestMemory</span> are
both job ClassAd attributes.
<!--l. 2255--><p class="indent" >   Further configuration may associate a rejection reason with a submit requirement with the
<span class="texttt">SUBMIT_REQUIREMENT_&#x003C;Name&#x003E;_REASON</span> <a 
 id="dx35-266006"></a><a 
 id="dx35-266007"></a>.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-566">
<tspan font-family="ectt" font-size="0800">SUBMIT_REQUIREMENT_NotStandardUniverse_REASON</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"This</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;pool</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;does</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;not</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;accept</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;standard</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;universe</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;jobs."</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SUBMIT_REQUIREMENT_MinimalRequestMemory_REASON</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;strcat(</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"The</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;job</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;only</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;requested</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;",</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;RequestMemory,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Megabytes.</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;If</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;that</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;small</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;amount</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;is</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;really</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;enough,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;please</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;contact</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;..."</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SUBMIT_REQUIREMENT_NotChris_REASON</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"Chris,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;you</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;may</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;only</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;submit</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;jobs</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;instructional</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;pool."</tspan>
</div>
<!--l. 2265--><p class="nopar" >
<!--l. 2268--><p class="indent" >   The value must be a ClassAd expression which evaluates to a string. Thus, double quotes
were required to make strings for both <span class="texttt">SUBMIT_REQUIREMENT_NotStandardUniverse_REASON</span> and
<span class="texttt">SUBMIT_REQUIREMENT_NotChris_REASON</span>. The ClassAd function strcat() produces a string in the definition of
<span class="texttt">SUBMIT_REQUIREMENT_MinimalRequestMemory_REASON</span>.
<!--l. 2275--><p class="indent" >   Rejection reasons are sent back to the submitting program and will typically be immediately presented to the
user. If an optional <span class="texttt">SUBMIT_REQUIREMENT_&#x003C;Name&#x003E;_REASON</span> is not defined, a default reason will include the <span class="texttt">&#x003C;Name&#x003E;</span>
chosen for the submit requirement. Completing the presentation of the example submit requirements, upon an
attempt to submit a standard universe job, <span class="textit">condor_submit</span> would print
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-567">
<tspan font-family="ectt" font-size="0800">Submitting</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;job(s).</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ERROR:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Failed</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;commit</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;job</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;submission</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;into</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;queue.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ERROR:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;This</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;pool</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;does</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;not</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;accept</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;standard</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;universe</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;jobs.</tspan>
</div>
<!--l. 2289--><p class="nopar" >
<!--l. 2292--><p class="indent" >   Where there are multiple jobs in a cluster, if any job within the cluster is rejected due to a submit requirement,
the entire cluster of jobs will be rejected.
<!--l. 2297--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x35-2670003.7.2"></a>Submit Warnings</h5>
<a 
 id="dx35-267001"></a>
<!--l. 2300--><p class="noindent" >Starting in HTCondor 8.7.4, you may instead configure submit warnings. A submit warning is a submit requirement
for which <span class="texttt">SUBMIT_REQUIREMENT_&#x003C;Name&#x003E;_IS_WARNING</span> <a 
 id="dx35-267002"></a><a 
 id="dx35-267003"></a> is true. A submit warning does <span class="emph">not</span> cause the submission to
fail; instead, it returns a warning to the user&#8217;s console (when triggered via <span class="textit">condor_submit</span>) or writes a message to
the user log (always). Submit warnings are intended to allow HTCondor administrators to provide their users with
advance warning of new submit requirements. For example, if you want to increase the minimum request memory,
you could use the following configuration.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-568">
<tspan font-family="ectt" font-size="0800">SUBMIT_REQUIREMENT_NAMES</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;OneGig</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(SUBMIT_REQUIREMENT_NAMES)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SUBMIT_REQUIREMENT_OneGig</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;RequestMemory</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1024</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SUBMIT_REQUIREMENT_OneGig_REASON</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"As</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;of</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&#x003C;date&#x003E;,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;minimum</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;requested</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;memory</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;will</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;be</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1024."</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SUBMIT_REQUIREMENT_OneGig_IS_WARNING</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;TRUE</tspan>
</div>
<!--l. 2317--><p class="nopar" >
<!--l. 2320--><p class="indent" >   When a user runs <span class="textit">condor_submit</span> to submit a job with <span class="texttt">RequestMemory</span> between 512 and 1024, they will see
(something like) the following, assuming that the job meets all the other requirements.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-569">
<tspan font-family="ectt" font-size="0800">Submitting</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;job(s).</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">WARNING:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Committed</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;job</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;submission</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;into</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;queue</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;with</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;following</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;warning:</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">WARNING:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;As</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;of</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&#x003C;date&#x003E;,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;minimum</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;requested</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;memory</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;will</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;be</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1024.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">1</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;job(s)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;submitted</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;cluster</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;452.</tspan>
</div>
<!--l. 2331--><p class="nopar" >
<!--l. 2334--><p class="indent" >   The job will contain (something like) the following:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-570">
<tspan font-family="ectt" font-size="0800">000</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(452.000.000)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;10/06</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;13:40:45</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Job</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;submitted</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;from</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;host:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&#x003C;128.105.136.53:37317?addrs=128.105.136.53-37317+[fc00--1]-37317&amp;noUDP&amp;sock=19966_e869_5&#x003E;</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;WARNING:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Committed</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;job</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;submission</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;into</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;queue</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;with</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;following</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;warning:</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;As</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;of</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&#x003C;date&#x003E;,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;minimum</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;requested</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;memory</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;will</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;be</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1024.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">...</tspan>
</div>
<!--l. 2341--><p class="nopar" >
<!--l. 2344--><p class="indent" >   Marking a submit requirement as a warning does <span class="emph">not</span> change when or how it is evaluated, only the result of
doing so. In particular, failing a submit warning does <span class="emph">not</span> terminate further evaluation of the submit requirements
list. Currently, only one (the most recent) problem is reported for each submit attempt. This means users will see
(as they previously did) only the first failed requirement; if all requirements passed, they will see the last failed
warning, if any.
                                                                                         

                                                                                         
<!--l. 2--><p class="indent" >   <span style="font-size: 200%;"><a 
href="UserPrioritiesandNegotiation.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="UserPrioritiesandNegotiation.html#tailUserPrioritiesandNegotiation.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="PolicyConfigurationforExecuteHostsandforSubmitHosts.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="AdministratorsManual.html#PolicyConfigurationforExecuteHostsandforSubmitHosts.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Security.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailPolicyConfigurationforExecuteHostsandforSubmitHosts.html"></a>  
</body></html> 
