<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Submitting a Job</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
   <span style="font-size: 200%;"><a 
href="RunningaJobtheStepsToTake.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="RunningaJobtheStepsToTake.html#tailRunningaJobtheStepsToTake.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailSubmittingaJob.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="UsersManual.html#SubmittingaJob.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="ManagingaJob.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><span class="titlemark">2.5   </span> <a 
 id="x17-280002.5"></a>Submitting a Job</h3>
   <div class="sectionTOCS">
   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5.1 <a 
href="#x17-290002.5.1">Sample submit description files</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5.2 <a 
href="#x17-300002.5.2">Using the Power and Flexibility of the Queue Command</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5.3 <a 
href="#x17-310002.5.3">Variables in the Submit Description File</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5.4 <a 
href="#x17-320002.5.4">Including Submit Commands Defined Elsewhere</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5.5 <a 
href="#x17-330002.5.5">Using Conditionals in the Submit Description File</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5.6 <a 
href="#x17-340002.5.6">Function Macros in the Submit Description File</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5.7 <a 
href="#x17-350002.5.7">About Requirements and Rank</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x17-360002.5.7" id="QQ2-17-38">Rank Expression Examples</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5.8 <a 
href="#x17-370002.5.8"> Submitting Jobs Using a Shared File System</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5.9 <a 
href="#x17-380002.5.9"> Submitting Jobs Without a Shared File System: HTCondor&#8217;s File
Transfer Mechanism</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x17-390002.5.9" id="QQ2-17-41">Specifying If and When to Transfer Files </a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x17-400002.5.9" id="QQ2-17-42">Specifying What Files to Transfer</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x17-410002.5.9" id="QQ2-17-43">File Paths for File Transfer</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x17-420002.5.9" id="QQ2-17-44">Public Input Files</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x17-430002.5.9" id="QQ2-17-45">Behavior for Error Cases</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x17-440002.5.9" id="QQ2-17-46">File Transfer Using a URL </a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x17-450002.5.9" id="QQ2-17-47">Requirements and Rank for File Transfer</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5.10 <a 
href="#x17-460002.5.10">Environment Variables</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5.11 <a 
href="#x17-470002.5.11">Heterogeneous Submit: Execution on Differing Architectures</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x17-480002.5.11" id="QQ2-17-50">Vanilla Universe Example for Execution on Differing Architectures</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x17-490002.5.11" id="QQ2-17-51">Standard Universe Example for Execution on Differing Architectures</a></span>
                                                                                         

                                                                                         
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x17-500002.5.11" id="QQ2-17-52">Vanilla Universe Example for Execution on Differing Operating Systems</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5.12 <a 
href="#x17-510002.5.12">Jobs That Require GPUs</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5.13 <a 
href="#x17-520002.5.13">Interactive Jobs</a></span>
   </div>
<a 
 id="dx17-28001"></a>
<!--l. 605--><p class="indent" >   A job is submitted for execution to HTCondor using the <span class="textit">condor_submit</span> command. <a 
 id="dx17-28002"></a><span class="textit">condor_submit</span> takes as an
argument the name of a file called a submit description file. <a 
 id="dx17-28003"></a><a 
 id="dx17-28004"></a> This file contains commands and keywords to direct the
queuing of jobs. In the submit description file, HTCondor finds everything it needs to know about the job. Items
such as the name of the executable to run, the initial working directory, and command-line arguments to the
program all go into the submit description file. <span class="textit">condor_submit</span> creates a job ClassAd based upon the information,
and HTCondor works toward running the job.
<a 
 id="dx17-28005"></a>
<!--l. 624--><p class="indent" >   The contents of a submit description file have been designed to save time for HTCondor users. It is easy to
submit multiple runs of a program to HTCondor with a single submit description file. To run the same program
many times on different input data sets, arrange the data files accordingly so that each run reads its
own input, and each run writes its own output. Each individual run may have its own initial working
directory, files mapped for <span class="texttt">stdin</span>, <span class="texttt">stdout</span>, <span class="texttt">stderr</span>, command-line arguments, and shell environment; these
are all specified in the submit description file. A program that directly opens its own files will read
the file names to use either from <span class="texttt">stdin</span> or from the command line. A program that opens a static
file, given by file name, every time will need to use a separate subdirectory for the output of each
run.
<!--l. 642--><p class="indent" >   The <span class="textit">condor_submit</span> manual page is on page&#x00A0;<a 
href="Condorsubmit.html#x149-108000012">2135<!--tex4ht:ref: man-condor-submit --></a> and contains a complete and full description of how to use
<span class="textit">condor_submit</span>. It also includes descriptions&#x00A0;<a 
href="Condorsubmit.html#x149-108400012">2139<!--tex4ht:ref: condor-submit-commands --></a> of all of the many commands that may be placed into a submit
description file. In addition, the index lists entries for each command under the heading of Submit
Commands.
<!--l. 651--><p class="indent" >   Note that job ClassAd attributes can be set directly in a submit file using the <span class="textbf">+&#x003C;attribute&#x003E; = &#x003C;value&#x003E;</span>
syntax (see &#x00A0;<a 
href="Condorsubmit.html#x149-108400012">2206<!--tex4ht:ref: man-condor-submit-submit-set-attribute --></a> for details.)
<!--l. 656--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5.1   </span> <a 
 id="x17-290002.5.1"></a>Sample submit description files</h4>
<!--l. 659--><p class="noindent" >In addition to the examples of submit description files given here, there are more in the <span class="textit">condor_submit</span> manual page
(see &#x00A0;<a 
href="Condorsubmit.html#x149-108000012">2135<!--tex4ht:ref: man-condor-submit --></a>). <a 
 id="dx17-29001"></a>
     <dl class="description"><dt class="description">
                                                                                         

                                                                                         
Example 1 </dt><dd 
class="description"></dd></dl>
<!--l. 667--><p class="noindent" >Example 1 is one of the simplest submit description files possible. It queues up the program <span class="textit">myexe</span> for execution
somewhere in the pool. Use of the vanilla universe is implied, as that is the default when not specified in the submit
description file.
<!--l. 672--><p class="indent" >   An executable is compiled to run on a specific platform. Since this submit description file does not
specify a platform, HTCondor will use its default, which is to run the job on a machine which has the
same architecture and operating system as the machine where <span class="textit">condor_submit</span> is run to submit the
job.
<!--l. 679--><p class="indent" >   Standard input for this job will come from the file <span class="texttt">inputfile</span>, as specified by the <span class="textbf">input</span><a 
 id="dx17-29002"></a> command, and standard
output for this job will go to the file <span class="texttt">outputfile</span>, as specified by the <span class="textbf">output</span><a 
 id="dx17-29003"></a> command. HTCondor expects to find
<span class="texttt">inputfile</span> in the current working directory when this job is submitted, and the system will take care of getting the
input file to where it needs to be when the job is executed, as well as bringing back the output results (to the
current working directory) after job execution.
<!--l. 690--><p class="indent" >   A log file, <span class="texttt">myexe.log</span>, will also be produced that contains events the job had during its lifetime inside of
HTCondor. When the job finishes, its exit conditions will be noted in the log file. This file&#8217;s contents are an excellent
way to figure out what happened to submitted jobs.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-6">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;Example</span><span 
class="ectt-1000">&#x00A0;1</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;Simple</span><span 
class="ectt-1000">&#x00A0;HTCondor</span><span 
class="ectt-1000">&#x00A0;submit</span><span 
class="ectt-1000">&#x00A0;description</span><span 
class="ectt-1000">&#x00A0;file</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Executable</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;myexe</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Log</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;myexe.log</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Input</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;inputfile</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Output</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;outputfile</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Queue</span>
</div>
<!--l. 708--><p class="nopar" >
     <dl class="description"><dt class="description">
Example 2 </dt><dd 
class="description"></dd></dl>
<!--l. 713--><p class="noindent" >Example 2 queues up one copy of the program <span class="textit">foo</span> (which had been created by <span class="textit">condor_compile</span>) for execution by
HTCondor. No <span class="textbf">input</span><a 
 id="dx17-29004"></a>, <span class="textbf">output</span><a 
 id="dx17-29005"></a>, or <span class="textbf">error</span><a 
 id="dx17-29006"></a> commands are given in the submit description file, so <span class="texttt">stdin</span>, <span class="texttt">stdout</span>, and
<span class="texttt">stderr</span> will all refer to <span class="texttt">/dev/null</span>. The program may produce output by explicitly opening a file and writing to
it.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-7">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;Example</span><span 
class="ectt-1000">&#x00A0;2</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;Standard</span><span 
class="ectt-1000">&#x00A0;universe</span><span 
class="ectt-1000">&#x00A0;submit</span><span 
class="ectt-1000">&#x00A0;description</span><span 
class="ectt-1000">&#x00A0;file</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Executable</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;foo</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Universe</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;standard</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Log</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;foo.log</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Queue</span>
</div>
<!--l. 734--><p class="nopar" >
     <dl class="description"><dt class="description">
Example 3 </dt><dd 
class="description"></dd></dl>
<!--l. 740--><p class="indent" >   Example 3 queues two copies of the program <span class="textit">mathematica</span>. The first copy will run in directory <span class="texttt">run_1</span>, and the
second will run in directory <span class="texttt">run_2</span> due to the <span class="textbf">initialdir</span><a 
 id="dx17-29007"></a> command. For each copy, <span class="texttt">stdin</span> will be <span class="texttt">test.data</span>, <span class="texttt">stdout</span>
will be <span class="texttt">loop.out</span>, and <span class="texttt">stderr</span> will be <span class="texttt">loop.error</span>. Each run will read input and write output files within its own
directory. Placing data files in separate directories is a convenient way to organize data when a large group of
HTCondor jobs is to run. The example file shows program submission of <span class="textit">mathematica</span> as a vanilla universe job. The
vanilla universe is most often the right choice of universe when the source and/or object code is not
available.
<!--l. 756--><p class="indent" >   The <span class="textbf">request_memory</span><a 
 id="dx17-29008"></a> command is included to ensure that the <span class="textit">mathematica</span> jobs match with and then execute
on pool machines that provide at least 1 GByte of memory.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-8">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;Example</span><span 
class="ectt-1000">&#x00A0;3:</span><span 
class="ectt-1000">&#x00A0;demonstrate</span><span 
class="ectt-1000">&#x00A0;use</span><span 
class="ectt-1000">&#x00A0;of</span><span 
class="ectt-1000">&#x00A0;multiple</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;directories</span><span 
class="ectt-1000">&#x00A0;for</span><span 
class="ectt-1000">&#x00A0;data</span><span 
class="ectt-1000">&#x00A0;organization.</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;executable</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;mathematica</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;universe</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;vanilla</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;input</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;test.data</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;output</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;loop.out</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;error</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;loop.error</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;log</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;loop.log</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;request_memory</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;1</span><span 
class="ectt-1000">&#x00A0;GB</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;initialdir</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;run_1</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;initialdir</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;run_2</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span>
</div>
<!--l. 781--><p class="nopar" >
     <dl class="description"><dt class="description">
Example 4 </dt><dd 
class="description"></dd></dl>
<!--l. 787--><p class="indent" >   The submit description file for Example 4 queues 150 <a 
 id="dx17-29009"></a>runs of program <span class="textit">foo</span> which has been compiled and linked
for Linux running on a 32-bit Intel processor. This job requires HTCondor to run the program on machines which
have greater than 32 MiB of physical memory, and the <span class="textbf">rank</span><a 
 id="dx17-29010"></a> command expresses a preference to run each instance
of the program on machines with more than 64 MiB. It also advises HTCondor that this standard universe job will
use up to 28000 KiB of memory when running. Each of the 150 runs of the program is given its own
process number, starting with process number 0. So, files <span class="texttt">stdin</span>, <span class="texttt">stdout</span>, and <span class="texttt">stderr</span> will refer to
<span class="texttt">in.0</span>, <span class="texttt">out.0</span>, and <span class="texttt">err.0</span> for the first run of the program, <span class="texttt">in.1</span>, <span class="texttt">out.1</span>, and <span class="texttt">err.1</span> for the second run
of the program, and so forth. A log file containing entries about when and where HTCondor runs,
checkpoints, and migrates processes for all the 150 queued programs will be written into the single file
<span class="texttt">foo.log</span>.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-9">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;Example</span><span 
class="ectt-1000">&#x00A0;4:</span><span 
class="ectt-1000">&#x00A0;Show</span><span 
class="ectt-1000">&#x00A0;off</span><span 
class="ectt-1000">&#x00A0;some</span><span 
class="ectt-1000">&#x00A0;fancy</span><span 
class="ectt-1000">&#x00A0;features</span><span 
class="ectt-1000">&#x00A0;including</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;the</span><span 
class="ectt-1000">&#x00A0;use</span><span 
class="ectt-1000">&#x00A0;of</span><span 
class="ectt-1000">&#x00A0;pre-defined</span><span 
class="ectt-1000">&#x00A0;macros.</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Executable</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;foo</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Universe</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;standard</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;requirements</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;OpSys</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"LINUX"</span><span 
class="ectt-1000">&#x00A0;&amp;&amp;</span><span 
class="ectt-1000">&#x00A0;Arch</span><span 
class="ectt-1000">&#x00A0;=="INTEL"</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;rank</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;Memory</span><span 
class="ectt-1000">&#x00A0;&#x003E;=</span><span 
class="ectt-1000">&#x00A0;64</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;image_size</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;28000</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;request_memory</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;32</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;error</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;err.$(Process)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;input</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;in.$(Process)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;output</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;out.$(Process)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;log</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;foo.log</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span><span 
class="ectt-1000">&#x00A0;150</span>
</div>
<!--l. 831--><p class="nopar" >
<a 
 id="dx17-29011"></a>
<!--l. 836--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5.2   </span> <a 
 id="x17-300002.5.2"></a>Using the Power and Flexibility of the Queue Command</h4>
<!--l. 839--><p class="noindent" >A wide variety of job submissions can be specified with extra information to the <span class="textbf">queue</span><a 
 id="dx17-30001"></a> submit command. This
flexibility eliminates the need for a job wrapper or Perl script for many submissions.
<!--l. 844--><p class="indent" >   The form of the <span class="textbf">queue</span> command defines variables and expands values, identifying a set of jobs. Square brackets
identify an optional item.
<!--l. 849--><p class="indent" >   <span class="textbf">queue</span> [<span class="textbf">&#x003C;int expr&#x003E;</span>]
<!--l. 851--><p class="indent" >   <span class="textbf">queue</span> [<span class="textbf">&#x003C;int expr&#x003E;</span>] [<span class="textbf">&#x003C;varname&#x003E;</span>] <span class="textbf">in</span> [<span class="textbf">slice</span>] <span class="textbf">&#x003C;list of items&#x003E;</span>
<!--l. 853--><p class="indent" >   <span class="textbf">queue</span> [<span class="textbf">&#x003C;int expr&#x003E;</span>] [<span class="textbf">&#x003C;varname&#x003E;</span>] <span class="textbf">matching</span> [<span class="textbf">files | dirs</span>] [<span class="textbf">slice</span>] <span class="textbf">&#x003C;list of items with file globbing&#x003E;</span>
<!--l. 855--><p class="indent" >   <span class="textbf">queue</span> [<span class="textbf">&#x003C;int expr&#x003E;</span>] [<span class="textbf">&#x003C;list of varnames&#x003E;</span>] <span class="textbf">from</span> [<span class="textbf">slice</span>] <span class="textbf">&#x003C;file name&#x003E; | &#x003C;list of items&#x003E;</span>
                                                                                         

                                                                                         
<!--l. 857--><p class="indent" >   All optional items have defaults:
     <ul class="itemize1">
     <li class="itemize">If <span class="texttt">&#x003C;int expr&#x003E;</span> is not specified, it defaults to the value 1.
     </li>
     <li class="itemize">If <span class="texttt">&#x003C;varname&#x003E;</span> or <span class="texttt">&#x003C;list of varnames&#x003E;</span> is not specified, it defaults to the single variable called <span class="texttt">ITEM</span>.
     </li>
     <li class="itemize">If <span class="texttt">slice</span> is not specified, it defaults to all elements within the list. This is the Python slice <span class="texttt">[::]</span>, with
     a step value of 1.
     </li>
     <li class="itemize">If neither <span class="texttt">files</span> nor <span class="texttt">dirs</span> is specified in a specification using the <span class="textbf">from</span> key word, then both files and
     directories are considered when globbing.</li></ul>
<!--l. 870--><p class="indent" >   The list of items uses syntax in one of two forms. One form is a comma and/or space separated list; the items are
placed on the same line as the <span class="textbf">queue</span> command. The second form separates items by placing each list item on its
own line, and delimits the list with parentheses. The opening parenthesis goes on the same line as the <span class="textbf">queue</span>
command. The closing parenthesis goes on its own line. The <span class="textbf">queue</span> command specified with the key
word <span class="textbf">from</span> will always use the second form of this syntax. Example 3 below uses this second form of
syntax.
<!--l. 884--><p class="indent" >   The optional <span class="texttt">slice</span> specifies a subset of the list of items using the Python syntax for a slice. Negative step values
are not permitted.
<!--l. 888--><p class="indent" >   Here are a set of examples.
     <dl class="description"><dt class="description">
Example 1 </dt><dd 
class="description"></dd></dl>
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-10">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;transfer_input_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;$(filename)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;arguments</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;-infile</span><span 
class="ectt-1000">&#x00A0;$(filename)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span><span 
class="ectt-1000">&#x00A0;filename</span><span 
class="ectt-1000">&#x00A0;matching</span><span 
class="ectt-1000">&#x00A0;files</span><span 
class="ectt-1000">&#x00A0;*.dat</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
</div>
<!--l. 899--><p class="nopar" > The use of file globbing expands the list of items to be all files in the current directory that end in <span class="texttt">.dat</span>. Only files,
and not directories are considered due to the specification of <span class="texttt">files</span>. One job is queued for each file in the list of
items. For this example, assume that the three files <span class="texttt">initial.dat</span>, <span class="texttt">middle.dat</span>, and <span class="texttt">ending.dat</span> form the list of
items after expansion; macro <span class="texttt">filename</span> is assigned the value of one of these file names for each job queued. That
macro value is then substituted into the <span class="textbf">arguments</span> and <span class="textbf">transfer_input_files</span> commands. The <span class="textbf">queue</span> command
expands to
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-11">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;transfer_input_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;initial.dat</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;arguments</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;-infile</span><span 
class="ectt-1000">&#x00A0;initial.dat</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;transfer_input_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;middle.dat</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;arguments</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;-infile</span><span 
class="ectt-1000">&#x00A0;middle.dat</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;transfer_input_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;ending.dat</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;arguments</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;-infile</span><span 
class="ectt-1000">&#x00A0;ending.dat</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span>
</div>
<!--l. 925--><p class="nopar" >
     <dl class="description"><dt class="description">
Example 2 </dt><dd 
class="description"></dd></dl>
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-12">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span><span 
class="ectt-1000">&#x00A0;1</span><span 
class="ectt-1000">&#x00A0;input</span><span 
class="ectt-1000">&#x00A0;in</span><span 
class="ectt-1000">&#x00A0;A,</span><span 
class="ectt-1000">&#x00A0;B,</span><span 
class="ectt-1000">&#x00A0;C</span>
</div>
<!--l. 933--><p class="nopar" > Variable <span class="texttt">input</span> is set to each of the 3 items in the list, and one job is queued for each. For this example the <span class="textbf">queue</span>
command expands to
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-13">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;input</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;A</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;input</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;B</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;input</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;C</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span>
</div>
<!--l. 944--><p class="nopar" >
     <dl class="description"><dt class="description">
Example 3 </dt><dd 
class="description"></dd></dl>
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-14">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span><span 
class="ectt-1000">&#x00A0;input,arguments</span><span 
class="ectt-1000">&#x00A0;from</span><span 
class="ectt-1000">&#x00A0;(</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;file1,</span><span 
class="ectt-1000">&#x00A0;-a</span><span 
class="ectt-1000">&#x00A0;-b</span><span 
class="ectt-1000">&#x00A0;26</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;file2,</span><span 
class="ectt-1000">&#x00A0;-c</span><span 
class="ectt-1000">&#x00A0;-d</span><span 
class="ectt-1000">&#x00A0;92</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;)</span>
</div>
<!--l. 955--><p class="nopar" > Using the <span class="texttt">from</span> form of the options, each of the two variables specified is given a value from the list of items. For
this example the <span class="textbf">queue</span> command expands to
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-15">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;input</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;file1</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;arguments</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;-a</span><span 
class="ectt-1000">&#x00A0;-b</span><span 
class="ectt-1000">&#x00A0;26</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;input</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;file2</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;arguments</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;-c</span><span 
class="ectt-1000">&#x00A0;-d</span><span 
class="ectt-1000">&#x00A0;92</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span>
</div>
<!--l. 966--><p class="nopar" >
<!--l. 970--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5.3   </span> <a 
 id="x17-310002.5.3"></a>Variables in the Submit Description File</h4>
<a 
 id="dx17-31001"></a>
<a 
 id="dx17-31002"></a>
<!--l. 974--><p class="noindent" >There are automatic variables for use within the submit description file.
     <dl class="description"><dt class="description">
<span class="texttt">$(Cluster)</span> or <span class="texttt">$(ClusterId)</span> </dt><dd 
class="description">Each set of queued jobs from a specific user, submitted from a single submit
     host, sharing an executable have the same value of <span class="texttt">$(Cluster)</span> or <span class="texttt">$(ClusterId)</span>. The first cluster
     of jobs are assigned to cluster 0, and the value is incremented by one for each new cluster of jobs.
     <span class="texttt">$(Cluster)</span> or <span class="texttt">$(ClusterId)</span> will have the same value as the job ClassAd attribute <span class="texttt">ClusterId</span>.
     </dd><dt class="description">
<span class="texttt">$(Process)</span> or <span class="texttt">$(ProcId)</span> </dt><dd 
class="description">Within a cluster of jobs, each takes on its own unique <span class="texttt">$(Process)</span> or <span class="texttt">$(ProcId)</span>
     value. The first job has value 0. <span class="texttt">$(Process)</span> or <span class="texttt">$(ProcId)</span> will have the same value as the job ClassAd
     attribute <span class="texttt">ProcId</span>.
     </dd><dt class="description">
<span class="texttt">$(Item)</span> </dt><dd 
class="description">The default name of the variable when no <span class="texttt">&#x003C;varname&#x003E;</span> is provided in a <span class="textbf">queue</span> command.
     </dd><dt class="description">
<span class="texttt">$(ItemIndex)</span> </dt><dd 
class="description">Represents an index within a list of items. When no slice is specified, the first <span class="texttt">$(ItemIndex)</span>
     is 0. When a slice is specified, <span class="texttt">$(ItemIndex)</span> is the index of the item within the original list.
     </dd><dt class="description">
<span class="texttt">$(Step)</span> </dt><dd 
class="description">For the <span class="texttt">&#x003C;int expr&#x003E;</span> specified, <span class="texttt">$(Step)</span> counts, starting at 0.
                                                                                         

                                                                                         
     </dd><dt class="description">
<span class="texttt">$(Row)</span> </dt><dd 
class="description">When a list of items is specified by placing each item on its own line in the submit description file,
     <span class="texttt">$(Row)</span> identifies which line the item is on. The first item (first line of the list) is <span class="texttt">$(Row)</span> 0. The second
     item (second line of the list) is <span class="texttt">$(Row)</span> 1. When a list of items are specified with all items on the same
     line, <span class="texttt">$(Row)</span> is the same as <span class="texttt">$(ItemIndex)</span>.
     </dd></dl>
<!--l. 1014--><p class="indent" >   Here is an example of a <span class="textbf">queue</span> command for which the values of these automatic variables are
identified.
     <dl class="description"><dt class="description">
Example 1 </dt><dd 
class="description"></dd></dl>
<!--l. 1020--><p class="noindent" >This example queues six jobs.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-16">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span><span 
class="ectt-1000">&#x00A0;3</span><span 
class="ectt-1000">&#x00A0;in</span><span 
class="ectt-1000">&#x00A0;(A,</span><span 
class="ectt-1000">&#x00A0;B)</span>
</div>
<!--l. 1023--><p class="nopar" >
     <ul class="itemize1">
     <li class="itemize"><span class="texttt">$(Process)</span> takes on the six values 0, 1, 2, 3, 4, and 5.
     </li>
     <li class="itemize">Because there is no specification for the <span class="texttt">&#x003C;varname&#x003E;</span> within this <span class="textbf">queue</span> command, variable <span class="texttt">$(Item)</span> is
     defined. It has the value <span class="texttt">A</span> for the first three jobs queued, and it has the value <span class="texttt">B</span> for the second three
     jobs queued.
     </li>
     <li class="itemize"><span class="texttt">$(Step)</span> takes on the three values 0, 1, and 2 for the three jobs with <span class="texttt">$(Item)=A</span>, and it takes on the
     same three values 0, 1, and 2 for the three jobs with <span class="texttt">$(Item)=B</span>.
     </li>
     <li class="itemize"><span class="texttt">$(ItemIndex)</span> is 0 for all three jobs with <span class="texttt">$(Item)=A</span>, and it is 1 for all three jobs with <span class="texttt">$(Item)=B</span>.
     </li>
     <li class="itemize"><span class="texttt">$(Row)</span> has the same value as <span class="texttt">$(ItemIndex)</span> for this example.
     </li></ul>
<!--l. 1043--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5.4   </span> <a 
 id="x17-320002.5.4"></a>Including Submit Commands Defined Elsewhere</h4>
<a 
 id="dx17-32001"></a>
<!--l. 1047--><p class="noindent" >Externally defined submit commands can be incorporated into the submit description file using the
syntax
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-17">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;include</span><span 
class="ectt-1000">&#x00A0;:</span><span 
class="ectt-1000">&#x00A0;&#x003C;what-to-include&#x003E;</span>
</div>
<!--l. 1051--><p class="nopar" >
<!--l. 1053--><p class="indent" >   The <span class="obeylines-h"><span class="verb">&#x003C;what-to-include&#x003E;</span></span> specification may specify a single file, where the contents of the file will be incorporated
into the submit description file at the point within the file where the <span class="textbf">include</span> is. Or, <span class="obeylines-h"><span class="verb">&#x003C;what-to-include&#x003E;</span></span> may cause
a program to be executed, where the output of the program is incorporated into the submit description file. The
specification of <span class="obeylines-h"><span class="verb">&#x003C;what-to-include&#x003E;</span></span> has the bar character (<span class="texttt">|</span>) following the name of the program to be
executed.
<!--l. 1063--><p class="indent" >   The <span class="textbf">include</span> key word is case insensitive. There are <span class="emph">no</span> requirements for white space characters surrounding the
colon character.
<!--l. 1067--><p class="indent" >   Included submit commands may contain further nested <span class="textbf">include</span> specifications, which are also parsed, evaluated,
and incorporated. Levels of nesting on included files are limited, such that infinite nesting is discovered and
thwarted, while still permitting nesting.
<!--l. 1074--><p class="indent" >   Consider the example
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-18">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;include</span><span 
class="ectt-1000">&#x00A0;:</span><span 
class="ectt-1000">&#x00A0;list-infiles.sh</span><span 
class="ectt-1000">&#x00A0;|</span>
</div>
<!--l. 1077--><p class="nopar" > In this example, the bar character at the end of the line causes the script <span class="texttt">list-infiles.sh</span> to be invoked, and the
output of the script is parsed and incorporated into the submit description file. If this bash script
contains
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-19">
<span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;echo</span><span 
class="ectt-0800">&#x00A0;"transfer_input_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="tctt-0800">`</span><span 
class="ectt-0800">ls</span><span 
class="ectt-0800">&#x00A0;-m</span><span 
class="ectt-0800">&#x00A0;infiles/*.dat</span><span 
class="tctt-0800">`</span><span 
class="ectt-0800">"</span>
</div>
<!--l. 1086--><p class="nopar" > then the output of this script has specified the set of input files to transfer to the execute host. For example, if
directory <span class="texttt">infiles</span> contains the three files <span class="texttt">A.dat</span>, <span class="texttt">B.dat</span>, and <span class="texttt">C.dat</span>, then the submit command
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-20">
<span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;transfer_input_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;infiles/A.dat,</span><span 
class="ectt-0800">&#x00A0;infiles/B.dat,</span><span 
class="ectt-0800">&#x00A0;infiles/C.dat</span>
</div>
<!--l. 1099--><p class="nopar" > is incorporated into the submit description file.
<!--l. 1104--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5.5   </span> <a 
 id="x17-330002.5.5"></a>Using Conditionals in the Submit Description File</h4>
<a 
 id="dx17-33001"></a>
<a 
 id="dx17-33002"></a>
<!--l. 11--><p class="noindent" >Conditional <span class="obeylines-h"><span class="verb">if</span></span>/<span class="obeylines-h"><span class="verb">else</span></span> semantics are available in a limited form. The syntax:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-21">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;if</span><span 
class="ectt-1000">&#x00A0;&#x003C;simple</span><span 
class="ectt-1000">&#x00A0;condition&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&#x003C;statement&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;.</span><span 
class="ectt-1000">&#x00A0;.</span><span 
class="ectt-1000">&#x00A0;.</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&#x003C;statement&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;else</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&#x003C;statement&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;.</span><span 
class="ectt-1000">&#x00A0;.</span><span 
class="ectt-1000">&#x00A0;.</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&#x003C;statement&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;endif</span>
</div>
<!--l. 24--><p class="nopar" >
<!--l. 26--><p class="indent" >   An <span class="obeylines-h"><span class="verb">else</span></span> key word and statements are not required, such that simple <span class="obeylines-h"><span class="verb">if</span></span> semantics are implemented. The
<span class="obeylines-h"><span class="verb">&#x003C;simple&#x00A0;condition&#x003E;</span></span> does not permit compound conditions. It optionally contains the exclamation point character
(<span class="obeylines-h"><span class="verb">!</span></span>) to represent the not operation, followed by
     <ul class="itemize1">
     <li class="itemize">the <span class="obeylines-h"><span class="verb">defined</span></span> keyword followed by the name of a variable. If the variable is defined, the statement(s) are
     incorporated into the expanded input. If the variable is <span class="emph">not</span> defined, the statement(s) are not incorporated into
     the expanded input. As an example,
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-22">
     <span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;if</span><span 
class="ectt-1000">&#x00A0;defined</span><span 
class="ectt-1000">&#x00A0;MY_UNDEFINED_VARIABLE</span>
     <span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;X</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;12</span>
     <span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;else</span>
     <span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;X</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;-1</span>
     <span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;endif</span>
</div>
     <!--l. 46--><p class="nopar" > results in <span class="texttt">X = -1</span>, when <span class="texttt">MY_UNDEFINED_VARIABLE</span> is <span class="emph">not</span> yet defined.
     </li>
     <li class="itemize">the <span class="obeylines-h"><span class="verb">version</span></span> keyword, representing the version number of of the daemon or tool currently reading this
     conditional. This keyword is followed by an HTCondor version number. That version number can be of the
     form <span class="obeylines-h"><span class="verb">x.y.z</span></span> or <span class="obeylines-h"><span class="verb">x.y</span></span>. The version of the daemon or tool is compared to the specified version number. The
     comparison operators are
         <ul class="itemize2">
         <li class="itemize"><span class="obeylines-h"><span class="verb">==</span></span> for equality. Current version 8.2.3 is equal to 8.2.
         </li>
         <li class="itemize"><span class="obeylines-h"><span class="verb">&#x003E;=</span></span> to see if the current version number is greater than or equal to. Current version 8.2.3 is greater
         than 8.2.2, and current version 8.2.3 is greater than or equal to 8.2.
         </li>
         <li class="itemize"><span class="obeylines-h"><span class="verb">&#x003C;=</span></span> to see if the current version number is less than or equal to. Current version 8.2.0 is less than
         8.2.2, and current version 8.2.3 is less than or equal to 8.2.</li></ul>
     <!--l. 65--><p class="noindent" >As an example,
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-23">
     <span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;if</span><span 
class="ectt-1000">&#x00A0;version</span><span 
class="ectt-1000">&#x00A0;&#x003E;=</span><span 
class="ectt-1000">&#x00A0;8.1.6</span>
     <span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;DO_X</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;True</span>
     <span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;else</span>
     <span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;DO_Y</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;True</span>
     <span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;endif</span>
</div>
     <!--l. 72--><p class="nopar" > results in defining <span class="texttt">DO_X</span> as <span class="texttt">True</span> if the current version of the daemon or tool reading this if statement is 8.1.6
     or a more recent version.
     </li>
     <li class="itemize"><span class="obeylines-h"><span class="verb">True</span></span> or <span class="obeylines-h"><span class="verb">yes</span></span> or the value 1. The statement(s) are incorporated.
     </li>
     <li class="itemize"><span class="obeylines-h"><span class="verb">False</span></span> or <span class="obeylines-h"><span class="verb">no</span></span> or the value 0 The statement(s) are <span class="emph">not</span> incorporated.
     </li>
     <li class="itemize"><span class="obeylines-h"><span class="verb">$(&#x003C;variable&#x003E;)</span></span> may be used where the immediately evaluated value is a simple boolean value. A value that
     evaluates to the empty string is considered <span class="obeylines-h"><span class="verb">False</span></span>, otherwise a value that does not evaluate to a simple boolean
     value is a syntax error.</li></ul>
<!--l. 87--><p class="indent" >   The syntax
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-24">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;if</span><span 
class="ectt-1000">&#x00A0;&#x003C;simple</span><span 
class="ectt-1000">&#x00A0;condition&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&#x003C;statement&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;.</span><span 
class="ectt-1000">&#x00A0;.</span><span 
class="ectt-1000">&#x00A0;.</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&#x003C;statement&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;elif</span><span 
class="ectt-1000">&#x00A0;&#x003C;simple</span><span 
class="ectt-1000">&#x00A0;condition&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&#x003C;statement&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;.</span><span 
class="ectt-1000">&#x00A0;.</span><span 
class="ectt-1000">&#x00A0;.</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&#x003C;statement&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;endif</span>
</div>
<!--l. 98--><p class="nopar" > is the same as syntax
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-25">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;if</span><span 
class="ectt-1000">&#x00A0;&#x003C;simple</span><span 
class="ectt-1000">&#x00A0;condition&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&#x003C;statement&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;.</span><span 
class="ectt-1000">&#x00A0;.</span><span 
class="ectt-1000">&#x00A0;.</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&#x003C;statement&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;else</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;if</span><span 
class="ectt-1000">&#x00A0;&#x003C;simple</span><span 
class="ectt-1000">&#x00A0;condition&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&#x003C;statement&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;.</span><span 
class="ectt-1000">&#x00A0;.</span><span 
class="ectt-1000">&#x00A0;.</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&#x003C;statement&#x003E;</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;endif</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;endif</span>
</div>
<!--l. 112--><p class="nopar" >
<!--l. 1110--><p class="indent" >   Here is an example use of a conditional in the submit description file. A portion of the <span class="texttt">sample.sub</span> submit
description file uses the if/else syntax to define command line arguments in one of two ways:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-26">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;if</span><span 
class="ectt-1000">&#x00A0;defined</span><span 
class="ectt-1000">&#x00A0;X</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;arguments</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;-n</span><span 
class="ectt-1000">&#x00A0;$(X)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;else</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;arguments</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;-n</span><span 
class="ectt-1000">&#x00A0;1</span><span 
class="ectt-1000">&#x00A0;-debug</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;endif</span>
</div>
<!--l. 1119--><p class="nopar" >
<!--l. 1121--><p class="indent" >   Submit variable <span class="texttt">X</span> is defined on the <span class="textit">condor_submit</span> command line with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-27">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;condor_submit</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;X=3</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;sample.sub</span>
</div>
<!--l. 1124--><p class="nopar" > This command line incorporates the submit command <span class="texttt">X = 3</span> into the submission before parsing the submit
description file. For this submission, the command line arguments of the submitted job become
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-28">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;-n</span><span 
class="ectt-1000">&#x00A0;3</span>
</div>
<!--l. 1131--><p class="nopar" >
<!--l. 1133--><p class="indent" >   If the job were instead submitted with the command line
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-29">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;condor_submit</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;sample.sub</span>
</div>
<!--l. 1136--><p class="nopar" > then the command line arguments of the submitted job become
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-30">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;-n</span><span 
class="ectt-1000">&#x00A0;1</span><span 
class="ectt-1000">&#x00A0;-debug</span>
</div>
<!--l. 1140--><p class="nopar" >
<!--l. 1144--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5.6   </span> <a 
 id="x17-340002.5.6"></a>Function Macros in the Submit Description File</h4>
<a 
 id="dx17-34001"></a>
<!--l. 11--><p class="noindent" >A set of predefined functions increase flexibility. Both submit description files and configuration files are read using
the same parser, so these functions may be used in both submit description files and configuration
files.
<!--l. 17--><p class="indent" >   Case is significant in the function&#8217;s name, so use the same letter case as given in these definitions.
     <dl class="description"><dt class="description">
<span class="texttt">$CHOICE(index, listname)</span> or <span class="texttt">$CHOICE(index, item1, item2, &#x2026;)</span> </dt><dd 
class="description">An item within the list is returned.
     The list is represented by a parameter name, or the list items are the parameters. The <span class="texttt">index</span> parameter
     determines which item. The first item in the list is at index 0. If the index is out of bounds for the list
     contents, an error occurs.
     </dd><dt class="description">
<span class="texttt">$ENV(environment-variable-name[:default-value])</span> </dt><dd 
class="description">Evaluates to the value of environment variable
     <span class="texttt">environment-variable-name</span>. If there is no environment variable with that name, Evaluates to UNDEFINED
     unless the optional <span class="obeylines-h"><span class="verb">:default-value</span></span> is used; in which case it evaluates to default-value. For
     example,
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-31">
     <span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;A</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;$ENV(HOME)</span>
</div>
     <!--l. 40--><p class="nopar" > binds <span class="texttt">A</span> to the value of the <span class="texttt">HOME</span> environment variable.
     </dd><dt class="description">
<span class="texttt">$F[fpduwnxbqa](filename)</span> </dt><dd 
class="description">One or more of the lower case letters may be combined to form the function name and
     thus, its functionality. Each letter operates on the <span class="texttt">filename</span> in its own way.
         <ul class="itemize1">
         <li class="itemize"><span class="texttt">f</span> convert relative path to full path by prefixing the current working directory to it. This option
         works only in <span class="textit">condor_submit</span> files.
         </li>
         <li class="itemize"><span class="texttt">p</span> refers to the entire directory portion of <span class="texttt">filename</span>, with a trailing slash or backslash character.
         Whether a slash or backslash is used depends on the platform of the machine. The slash will
         be recognized on Linux platforms; either a slash or backslash will be recognized on Windows
         platforms, and the parser will use the same character specified.
         </li>
         <li class="itemize"><span class="texttt">d</span> refers to the last portion of the directory within the path, if specified. It will have a trailing
         slash or backslash, as appropriate to the platform of the machine. The slash will be recognized
         on Linux platforms; either a slash or backslash will be recognized on Windows platforms, and the
         parser will use the same character specified unless u or w is used. if b is used the trailing slash or
         backslash will be omitted.
         </li>
         <li class="itemize"><span class="texttt">u</span> convert path separators to Unix style slash characters
         </li>
         <li class="itemize"><span class="texttt">w</span> convert path separators to Windows style backslash characters
         </li>
         <li class="itemize"><span class="texttt">n</span> refers to the file name at the end of any path, but without any file name extension. As an
         example, the return value from <span class="texttt">$Fn(/tmp/simulate.exe)</span> will be <span class="texttt">simulate</span> (without the <span class="texttt">.exe</span>
         extension).
         </li>
         <li class="itemize"><span class="texttt">x</span> refers to a file name extension, with the associated period (<span class="texttt">.</span>). As an example, the return value
         from <span class="texttt">$Fn(/tmp/simulate.exe)</span> will be <span class="texttt">.exe</span>.
         </li>
         <li class="itemize"><span class="texttt">b</span> when combined with the d option, causes the trailing slash or backslash to be omitted. When
         combined with the x option, causes the leading period (<span class="texttt">.</span>) to be omitted.
         </li>
         <li class="itemize"><span class="texttt">q</span> causes the return value to be enclosed within quotes. Double quote marks are used unless a is
         also specified.
         </li>
         <li class="itemize"><span class="texttt">a</span> When combined with the q option, causes the return value to be enclosed within single quotes.</li></ul>
                                                                                         

                                                                                         
     </dd><dt class="description">
<span class="texttt">$DIRNAME(filename)</span> is the same as <span class="texttt">$Fp(filename)</span> </dt><dd 
class="description">
     </dd><dt class="description">
<span class="texttt">$BASENAME(filename)</span> is the same as <span class="texttt">$Fnx(filename)</span> </dt><dd 
class="description">
     </dd><dt class="description">
<span class="texttt">$INT(item-to-convert)</span> or <span class="texttt">$INT(item-to-convert, format-specifier)</span> </dt><dd 
class="description">Expands, evaluates, and
     returns a string version of <span class="texttt">item-to-convert</span>. The <span class="texttt">format-specifier</span> has the same syntax as a C
     language or Perl format specifier. If no <span class="texttt">format-specifier</span> is specified, <span class="obeylines-h"><span class="verb">"%d"</span></span> is used as the format
     specifier.
     </dd><dt class="description">
<span class="texttt">$RANDOM_CHOICE(choice1, choice2, choice3, &#x2026;)</span> </dt><dd 
class="description"><a 
 id="dx17-34002"></a> A random choice of one of the parameters in the list
     of parameters is made. For example, if one of the integers 0-8 (inclusive) should be randomly
     chosen:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-32">
     <span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;$RANDOM_CHOICE(0,1,2,3,4,5,6,7,8)</span>
</div>
     <!--l. 103--><p class="nopar" >
     </dd><dt class="description">
<span class="texttt">$RANDOM_INTEGER(min, max [, step])</span> </dt><dd 
class="description"><a 
 id="dx17-34003"></a> A random integer within the range <span class="obeylines-h"><span class="verb">min</span></span> and <span class="obeylines-h"><span class="verb">max</span></span>, inclusive, is selected.
     The optional <span class="obeylines-h"><span class="verb">step</span></span> parameter controls the stride within the range, and it defaults to the value 1. For example,
     to randomly chose an even integer in the range 0-8 (inclusive):
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-33">
     <span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;$RANDOM_INTEGER(0,</span><span 
class="ectt-1000">&#x00A0;8,</span><span 
class="ectt-1000">&#x00A0;2)</span>
</div>
     <!--l. 114--><p class="nopar" >
     </dd><dt class="description">
<span class="texttt">$REAL(item-to-convert)</span> or <span class="texttt">$REAL(item-to-convert, format-specifier)</span> </dt><dd 
class="description">Expands, evaluates, and returns
     a string version of <span class="texttt">item-to-convert</span> for a floating point type. The <span class="texttt">format-specifier</span> is a C
     language or Perl format specifier. If no <span class="texttt">format-specifier</span> is specified, <span class="obeylines-h"><span class="verb">"%16G"</span></span> is used as a format
     specifier.
     </dd><dt class="description">
<span class="texttt">$SUBSTR(name, start-index)</span> or <span class="texttt">$SUBSTR(name, start-index, length)</span> </dt><dd 
class="description">Expands <span class="obeylines-h"><span class="verb">name</span></span> and returns a substring
     of it. The first character of the string is at index 0. The first character of the substring is at index
     <span class="obeylines-h"><span class="verb">start-index</span></span>. If the optional <span class="obeylines-h"><span class="verb">length</span></span> is not specified, then the substring includes characters up to the end of
     the string. A negative value of <span class="obeylines-h"><span class="verb">start-index</span></span> works back from the end of the string. A negative value of
     <span class="obeylines-h"><span class="verb">length</span></span> eliminates use of characters from the end of the string. Here are some examples that all
     assume
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-34">
     <span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Name</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;abcdef</span>
</div>
     <!--l. 138--><p class="nopar" >
         <ul class="itemize1">
         <li class="itemize"><span class="texttt">$SUBSTR(Name, 2)</span> is <span class="texttt">cdef</span>.
         </li>
         <li class="itemize"><span class="texttt">$SUBSTR(Name, 0, -2)</span> is <span class="texttt">abcd</span>.
         </li>
         <li class="itemize"><span class="texttt">$SUBSTR(Name, 1, 3)</span> is <span class="texttt">bcd</span>.
         </li>
         <li class="itemize"><span class="texttt">$SUBSTR(Name, -1)</span> is <span class="texttt">f</span>.
         </li>
         <li class="itemize"><span class="texttt">$SUBSTR(Name, 4, -3)</span> is the empty string, as there are no characters in the substring for this
         request.</li></ul>
     </dd></dl>
<!--l. 1149--><p class="indent" >   Here are example uses of the function macros in a submit description file. Note that these are not complete
submit description files, but only the portions that promote understanding of use cases of the function
macros.
     <dl class="description"><dt class="description">
Example 1 </dt><dd 
class="description"></dd></dl>
<!--l. 1158--><p class="noindent" >Generate a range of numerical values for a set of jobs, where values other than those given by <span class="obeylines-h"><span class="verb">$(Process)</span></span> are
desired.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-35">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;MyIndex</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;$(Process)</span><span 
class="ectt-1000">&#x00A0;+</span><span 
class="ectt-1000">&#x00A0;1</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;initial_dir</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;run-$INT(MyIndex,</span><span 
class="ectt-1000">&#x00A0;%04d)</span>
</div>
<!--l. 1163--><p class="nopar" > Assuming that there are three jobs queued, such that <span class="obeylines-h"><span class="verb">$(Process)</span></span> becomes 0, 1, and 2, <span class="texttt">initial_dir</span> will evaluate
to the directories <span class="texttt">run-0001</span>, <span class="texttt">run-0002</span>, and <span class="texttt">run-0003</span>.
     <dl class="description"><dt class="description">
Example 2 </dt><dd 
class="description"></dd></dl>
<!--l. 1173--><p class="noindent" >This variation on Example 1 generates a file name extension which is a 3-digit integer value.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-36">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Values</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;$(Process)</span><span 
class="ectt-1000">&#x00A0;*</span><span 
class="ectt-1000">&#x00A0;10</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Extension</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;$INT(Values,</span><span 
class="ectt-1000">&#x00A0;%03d)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;input</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;X.$(Extension)</span>
</div>
<!--l. 1179--><p class="nopar" > Assuming that there are four jobs queued, such that <span class="obeylines-h"><span class="verb">$(Process)</span></span> becomes 0, 1, 2, and 3, <span class="texttt">Extension</span> will
evaluate to 000, 010, 020, and 030, leading to files defined for <span class="textbf">input</span> of <span class="texttt">X.000</span>, <span class="texttt">X.010</span>, <span class="texttt">X.020</span>, and
<span class="texttt">X.030</span>.
     <dl class="description"><dt class="description">
Example 3 </dt><dd 
class="description"></dd></dl>
<!--l. 1190--><p class="noindent" >This example uses both the file globbing of the <span class="textbf">queue</span><a 
 id="dx17-34004"></a> command and a macro function to specify a job input file that is
within a subdirectory on the submit host, but will be placed into a single, flat directory on the execute
host.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-37">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;arguments</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;$Fnx(FILE)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;transfer_input_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;$(FILE)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;queue</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;FILE</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;MATCHING</span><span 
class="ectt-1000">&#x00A0;(</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;samplerun/*.dat</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;)</span>
</div>
<!--l. 1200--><p class="nopar" > Assume that two files that end in <span class="texttt">.dat</span>, <span class="texttt">A.dat</span> and <span class="texttt">B.dat</span>, are within the directory <span class="texttt">samplerun</span>. Macro <span class="texttt">FILE</span> expands
to <span class="texttt">samplerun/A.dat</span> and <span class="texttt">samplerun/B.dat</span> for the two jobs queued. The input files transferred are
<span class="texttt">samplerun/A.dat</span> and <span class="texttt">samplerun/B.dat</span> on the submit host. The <span class="texttt">$Fnx()</span> function macro expands to
the complete file name with any leading directory specification stripped, such that the command line
argument for one of the jobs will be <span class="texttt">A.dat</span> and the command line argument for the other job will be
<span class="texttt">B.dat</span>.
<!--l. 1215--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5.7   </span> <a 
 id="x17-350002.5.7"></a>About Requirements and Rank</h4>
<!--l. 1218--><p class="noindent" >The <span class="texttt">requirements</span> and <span class="texttt">rank</span> commands in the submit description file are powerful and flexible. <a 
 id="dx17-35001"></a><a 
 id="dx17-35002"></a> <a 
 id="dx17-35003"></a><a 
 id="dx17-35004"></a> <a 
 id="dx17-35005"></a>Using them
effectively requires care, and this section presents those details.
<!--l. 1229--><p class="indent" >   Both <span class="texttt">requirements</span> and <span class="texttt">rank</span> need to be specified as valid HTCondor ClassAd expressions, however, default
values are set by the <span class="textit">condor_submit</span> program if these are not defined in the submit description file. From the
<span class="textit">condor_submit</span> manual page and the above examples, you see that writing ClassAd expressions is intuitive,
especially if you are familiar with the programming language C. There are some pretty nifty expressions you can
write with ClassAds. A complete description of ClassAds and their expressions can be found in section&#x00A0;<a 
href="HTCondorsClassAdMechanism.html#x48-3980004.1">4.1<!--tex4ht:ref: sec:classad-reference --></a> on
page&#x00A0;<a 
href="HTCondorsClassAdMechanism.html#x48-3980004.1">1277<!--tex4ht:ref: sec:classad-reference --></a>.
<!--l. 1240--><p class="indent" >   All of the commands in the submit description file are case insensitive, <span class="emph">except</span> for the ClassAd
attribute string values. ClassAd attribute names are case insensitive, but ClassAd string values are <span class="emph">case
preserving</span>.
<!--l. 1246--><p class="indent" >   Note that the comparison operators (<span class="obeylines-h"><span class="verb">&#x003C;</span></span>, <span class="obeylines-h"><span class="verb">&#x003E;</span></span>, <span class="obeylines-h"><span class="verb">&#x003C;=</span></span>, <span class="obeylines-h"><span class="verb">&#x003E;=</span></span>, and <span class="obeylines-h"><span class="verb">==</span></span>) compare strings case insensitively. The special
comparison operators <span class="obeylines-h"><span class="verb">=?=</span></span> and <span class="obeylines-h"><span class="verb">=!=</span></span> compare strings case sensitively.
<!--l. 1253--><p class="indent" >   A <span class="textbf">requirements</span><a 
 id="dx17-35006"></a> or <span class="textbf">rank</span><a 
 id="dx17-35007"></a> command in the submit description file may utilize attributes that appear in a
machine or a job ClassAd. Within the submit description file (for a job) the prefix <span class="obeylines-h"><span class="verb">MY.</span></span> (on a ClassAd attribute
name) causes a reference to the job ClassAd attribute, and the prefix <span class="obeylines-h"><span class="verb">TARGET.</span></span> causes a reference to a potential
machine or matched machine ClassAd attribute.
<!--l. 1262--><p class="indent" >   The <span class="textit">condor_status</span> command displays <a 
 id="dx17-35008"></a>statistics about machines within the pool. The <span class="textbf">-l</span> option displays the
machine ClassAd attributes for all machines in the HTCondor pool. The job ClassAds, if there are jobs in the queue,
                                                                                         

                                                                                         
can be seen with the <span class="textit">condor_q -l</span> command. This shows all the defined attributes for current jobs in the
queue.
<!--l. 1271--><p class="indent" >   A list of defined ClassAd attributes for job ClassAds is given in the unnumbered Appendix on page&#x00A0;<a 
href="JobClassAdAttributes.html#x170-1234000A.2">2351<!--tex4ht:ref: sec:Job-ClassAd-Attributes --></a>.
A list of defined ClassAd attributes for machine ClassAds is given in the unnumbered Appendix on
page&#x00A0;<a 
href="MachineClassAdAttributes.html#x171-1235000A.3">2397<!--tex4ht:ref: sec:Machine-ClassAd-Attributes --></a>.
<!--l. 1279--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x17-360002.5.7"></a>Rank Expression Examples</h5>
<a 
 id="dx17-36001"></a>
<a 
 id="dx17-36002"></a>
<a 
 id="dx17-36003"></a>
<!--l. 1284--><p class="noindent" >When considering the match between a job and a machine, rank is used to choose a match from among all machines
that satisfy the job&#8217;s requirements and are available to the user, after accounting for the user&#8217;s priority and the
machine&#8217;s rank of the job. The rank expressions, simple or complex, define a numerical value that expresses
preferences.
<!--l. 1291--><p class="indent" >   The job&#8217;s <span class="texttt">Rank</span> expression evaluates to one of three values. It can be UNDEFINED, ERROR, or a floating point
value. If <span class="texttt">Rank</span> evaluates to a floating point value, the best match will be the one with the largest, positive value. If
no <span class="texttt">Rank</span> is given in the submit description file, then HTCondor substitutes a default value of 0.0 when considering
machines to match. If the job&#8217;s <span class="texttt">Rank</span> of a given machine evaluates to UNDEFINED or ERROR, this same value
of 0.0 is used. Therefore, the machine is still considered for a match, but has no ranking above any
other.
<!--l. 1305--><p class="indent" >   A boolean expression evaluates to the numerical value of 1.0 if true, and 0.0 if false.
<!--l. 1308--><p class="indent" >   The following <span class="texttt">Rank</span> expressions provide examples to follow.
<!--l. 1311--><p class="indent" >   For a job that desires the machine with the most available memory:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-38">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Rank</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;memory</span>
</div>
<!--l. 1314--><p class="nopar" >
<!--l. 1316--><p class="indent" >   For a job that prefers to run on a friend&#8217;s machine on Saturdays and Sundays:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-39">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Rank</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;(</span><span 
class="ectt-1000">&#x00A0;(clockday</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;0)</span><span 
class="ectt-1000">&#x00A0;||</span><span 
class="ectt-1000">&#x00A0;(clockday</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;6)</span><span 
class="ectt-1000">&#x00A0;)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&amp;&amp;</span><span 
class="ectt-1000">&#x00A0;(machine</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"friend.cs.wisc.edu")</span>
</div>
<!--l. 1321--><p class="nopar" >
<!--l. 1323--><p class="indent" >   For a job that prefers to run on one of three specific machines:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-40">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Rank</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;(machine</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"friend1.cs.wisc.edu")</span><span 
class="ectt-1000">&#x00A0;||</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;(machine</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"friend2.cs.wisc.edu")</span><span 
class="ectt-1000">&#x00A0;||</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;(machine</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"friend3.cs.wisc.edu")</span>
</div>
<!--l. 1328--><p class="nopar" >
<!--l. 1330--><p class="indent" >   For a job that wants the machine with the best floating point performance (on Linpack benchmarks):
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-41">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Rank</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;kflops</span>
</div>
<!--l. 1334--><p class="nopar" > This particular example highlights a difficulty with <span class="texttt">Rank</span> expression evaluation as currently defined. While all
machines have floating point processing ability, not all machines will have the <span class="texttt">kflops</span> attribute defined. For
machines where this attribute is not defined, <span class="texttt">Rank</span> will evaluate to the value UNDEFINED, and HTCondor will use
a default rank of the machine of 0.0. The <span class="texttt">Rank</span> attribute will only rank machines where the attribute is defined.
Therefore, the machine with the highest floating point performance may not be the one given the highest
rank.
<!--l. 1347--><p class="indent" >   So, it is wise when writing a <span class="texttt">Rank</span> expression to check if the expression&#8217;s evaluation will lead to the expected
resulting ranking of machines. This can be accomplished using the <span class="textit">condor_status</span> command with the <span class="textit">-constraint</span>
argument. This allows the user to see a list of machines that fit a constraint. To see which machines in the pool have
<span class="texttt">kflops</span> defined, use
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-42">
<span 
class="ectt-1000">condor_status</span><span 
class="ectt-1000">&#x00A0;-constraint</span><span 
class="ectt-1000">&#x00A0;kflops</span>
</div>
<!--l. 1357--><p class="nopar" > Alternatively, to see a list of machines where <span class="texttt">kflops</span> is not defined, use
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-43">
<span 
class="ectt-1000">condor_status</span><span 
class="ectt-1000">&#x00A0;-constraint</span><span 
class="ectt-1000">&#x00A0;"kflops=?=undefined"</span>
</div>
<!--l. 1362--><p class="nopar" >
<!--l. 1364--><p class="indent" >   For a job that prefers specific machines in a specific order:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-44">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Rank</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;((machine</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"friend1.cs.wisc.edu")*3)</span><span 
class="ectt-1000">&#x00A0;+</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;((machine</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"friend2.cs.wisc.edu")*2)</span><span 
class="ectt-1000">&#x00A0;+</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;(machine</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"friend3.cs.wisc.edu")</span>
</div>
<!--l. 1369--><p class="nopar" > If the machine being ranked is <span class="texttt">friend1.cs.wisc.edu</span>, then the expression
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-45">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;(machine</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"friend1.cs.wisc.edu")</span>
</div>
<!--l. 1374--><p class="nopar" > is true, and gives the value 1.0. The expressions
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-46">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;(machine</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"friend2.cs.wisc.edu")</span>
</div>
<!--l. 1379--><p class="nopar" > and
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-47">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;(machine</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"friend3.cs.wisc.edu")</span>
</div>
<!--l. 1383--><p class="nopar" > are false, and give the value 0.0. Therefore, <span class="texttt">Rank</span> evaluates to the value 3.0. In this way, machine
<span class="texttt">friend1.cs.wisc.edu</span> is ranked higher than machine <span class="texttt">friend2.cs.wisc.edu</span>, machine <span class="texttt">friend2.cs.wisc.edu</span> is
ranked higher than machine <span class="texttt">friend3.cs.wisc.edu</span>, and all three of these machines are ranked higher than
others.
<!--l. 4--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5.8   </span> <a 
 id="x17-370002.5.8"></a> Submitting Jobs Using a Shared File System</h4>
<a 
 id="dx17-37001"></a>
<a 
 id="dx17-37002"></a>
<!--l. 9--><p class="noindent" >If vanilla, java, or parallel universe jobs are submitted without using the File Transfer mechanism, HTCondor must
use a shared file system to access input and output files. In this case, the job <span class="emph">must</span> be able to access the data files
from any machine on which it could potentially run.
<!--l. 16--><p class="indent" >   As an example, suppose a job is submitted from blackbird.cs.wisc.edu, and the job requires a particular
data file called <span class="texttt">/u/p/s/psilord/data.txt</span>. If the job were to run on cardinal.cs.wisc.edu, the file
<span class="texttt">/u/p/s/psilord/data.txt</span> must be available through either NFS or AFS for the job to run correctly.
<!--l. 22--><p class="indent" >   HTCondor allows users to ensure their jobs have access to the right shared files by using the <span class="texttt">FileSystemDomain</span>
and <span class="texttt">UidDomain</span> machine ClassAd attributes. These attributes specify which machines have access to the same shared
file systems. All machines that mount the same shared directories in the same locations are considered to belong to
the same file system domain. Similarly, all machines that share the same user information (in particular,
the same UID, which is important for file systems like NFS) are considered part of the same UID
domain.
<!--l. 33--><p class="indent" >   The default configuration for HTCondor places each machine in its own UID domain and file system
domain, using the full host name of the machine as the name of the domains. So, if a pool <span class="emph">does</span> have
access to a shared file system, the pool administrator <span class="emph">must</span> correctly configure HTCondor such that
all the machines mounting the same files have the same <span class="texttt">FileSystemDomain</span> configuration. Similarly,
all machines that share common user information must be configured to have the same <span class="texttt">UidDomain</span>
configuration.
<!--l. 44--><p class="indent" >   When a job relies on a shared file system, HTCondor uses the <span class="texttt">requirements</span> expression to ensure that the job
runs on a machine in the correct <span class="texttt">UidDomain</span> and <span class="texttt">FileSystemDomain</span>. In this case, the default <span class="texttt">requirements</span>
expression specifies that the job must run on a machine with the same <span class="texttt">UidDomain</span> and <span class="texttt">FileSystemDomain</span> as the
machine from which the job is submitted. This default is almost always correct. However, in a pool spanning
multiple <span class="texttt">UidDomain</span>s and/or <span class="texttt">FileSystemDomain</span>s, the user may need to specify a different <span class="texttt">requirements</span> expression
to have the job run on the correct machines.
                                                                                         

                                                                                         
<!--l. 59--><p class="indent" >   For example, imagine a pool made up of both desktop workstations and a dedicated compute cluster. Most of the
pool, including the compute cluster, has access to a shared file system, but some of the desktop machines do not. In
this case, the administrators would probably define the <span class="texttt">FileSystemDomain</span> to be <span class="texttt">cs.wisc.edu</span> for all the machines
that mounted the shared files, and to the full host name for each machine that did not. An example is
<span class="texttt">jimi.cs.wisc.edu</span>.
<!--l. 68--><p class="indent" >   In this example, a user wants to submit vanilla universe jobs from her own desktop machine (jimi.cs.wisc.edu)
which does not mount the shared file system (and is therefore in its own file system domain, in its own world). But,
she wants the jobs to be able to run on more than just her own machine (in particular, the compute cluster), so she
puts the program and input files onto the shared file system. When she submits the jobs, she needs to tell
HTCondor to send them to machines that have access to that shared data, so she specifies a different <span class="texttt">requirements</span>
expression than the default:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-48">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Requirements</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;TARGET.UidDomain</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"cs.wisc.edu"</span><span 
class="ectt-1000">&#x00A0;&amp;&amp;</span><span 
class="ectt-1000">&#x00A0;\</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;TARGET.FileSystemDomain</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"cs.wisc.edu"</span>
</div>
<!--l. 81--><p class="nopar" >
<!--l. 83--><p class="indent" >   <span class="underline">WARNING</span>: If there is <span class="emph">no</span> shared file system, or the HTCondor pool administrator does not configure the
<span class="texttt">FileSystemDomain</span> setting correctly (the default is that each machine in a pool is in its own file system and UID
domain), a user submits a job that cannot use remote system calls (for example, a vanilla universe job), and the user
does not enable HTCondor&#8217;s File Transfer mechanism, the job will <span class="emph">only</span> run on the machine from which it was
submitted.
<!--l. 95--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5.9   </span> <a 
 id="x17-380002.5.9"></a> Submitting Jobs Without a Shared File System: HTCondor&#8217;s File Transfer Mechanism</h4>
<a 
 id="dx17-38001"></a>
<a 
 id="dx17-38002"></a>
<a 
 id="dx17-38003"></a>
<a 
 id="dx17-38004"></a>
<!--l. 103--><p class="noindent" >HTCondor works well without a shared file system. The HTCondor file transfer mechanism permits the user to
select which files are transferred and under which circumstances. HTCondor can transfer any files needed by a job
from the machine where the job was submitted into a remote scratch directory on the machine where the job is
to be executed. HTCondor executes the job and transfers output back to the submitting machine.
The user specifies which files and directories to transfer, and at what point the output files should be
copied back to the submitting machine. This specification is done within the job&#8217;s submit description
file.
<!--l. 120--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x17-390002.5.9"></a>Specifying If and When to Transfer Files </h5>
<!--l. 123--><p class="noindent" >To enable the file transfer mechanism, place two commands in the job&#8217;s submit description file: <span class="textbf">should_transfer_files</span><a 
 id="dx17-39001"></a>
and <span class="textbf">when_to_transfer_output</span><a 
 id="dx17-39002"></a>. By default, they will be:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-49">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;should_transfer_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;IF_NEEDED</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;when_to_transfer_output</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;ON_EXIT</span>
</div>
<!--l. 131--><p class="nopar" >
<!--l. 133--><p class="indent" >   Setting the <span class="textbf">should_transfer_files</span><a 
 id="dx17-39003"></a> command explicitly enables or disables the file transfer mechanism. The
command takes on one of three possible values:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x17-39005x1"><span class="obeylines-h"><span class="verb">YES</span></span>: HTCondor transfers both the executable and the file defined by the <span class="textbf">input</span><a 
 id="dx17-39006"></a> command from the
     machine where the job is submitted to the remote machine where the job is to be executed. The file
     defined by the <span class="textbf">output</span><a 
 id="dx17-39007"></a> command as well as any files created by the execution of the job are transferred
     back to the machine where the job was submitted. When they are transferred and the directory location
     of the files is determined by the command <span class="textbf">when_to_transfer_output</span><a 
 id="dx17-39008"></a>.
     </li>
     <li 
  class="enumerate" id="x17-39010x2"><span class="obeylines-h"><span class="verb">IF_NEEDED</span></span>: HTCondor transfers files if the job is matched with and to be executed on a machine
     in  a  different  <span class="texttt">FileSystemDomain</span> than  the  one  the  submit  machine  belongs  to,  the  same  as  if
     <span class="obeylines-h"><span class="verb">should_transfer_files&#x00A0;=&#x00A0;YES</span></span>. If the job is matched with a machine in the local <span class="texttt">FileSystemDomain</span>,
     HTCondor will not transfer files and relies on the shared file system.
     </li>
     <li 
  class="enumerate" id="x17-39012x3"><span class="obeylines-h"><span class="verb">NO</span></span>: HTCondor&#8217;s file transfer mechanism is disabled.
     </li></ol>
<!--l. 160--><p class="indent" >   The <span class="textbf">when_to_transfer_output</span> command tells HTCondor when output files are to be transferred back to
the submit machine. The command takes on one of two possible values:
<!--l. 164--><p class="indent" >
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x17-39014x1"><span class="obeylines-h"><span class="verb">ON_EXIT</span></span>: HTCondor transfers the file defined by the <span class="textbf">output</span><a 
 id="dx17-39015"></a> command, as well as any other files in
     the remote scratch directory created by the job, back to the submit machine only when the job exits
     on its own.
     </li>
     <li 
  class="enumerate" id="x17-39017x2"><span class="obeylines-h"><span class="verb">ON_EXIT_OR_EVICT</span></span>: HTCondor behaves the same as described for the value <span class="obeylines-h"><span class="verb">ON_EXIT</span></span> when the job
     exits on its own. However, if, and each time the job is evicted from a machine, <span class="emph">files are transferred back
     at eviction time</span>. The files that are transferred back at eviction time may include intermediate files that
     are not part of the final output of the job. When <span class="textbf">transfer_output_files</span><a 
 id="dx17-39018"></a> is specified, its list governs
     which are transferred back at eviction time. Before the job starts running again, all of the files that
     were stored when the job was last evicted are copied to the job&#8217;s new remote scratch directory.
                                                                                         

                                                                                         
     <!--l. 183--><p class="noindent" >The purpose of saving files at eviction time is to allow the job to resume from where it left off. This is
     similar to using the checkpoint feature of the standard universe, but just specifying <span class="obeylines-h"><span class="verb">ON_EXIT_OR_EVICT</span></span>
     is not enough to make a job capable of producing or utilizing checkpoints. The job must be designed
     to save and restore its state using the files that are saved at eviction time.
     <!--l. 191--><p class="noindent" >The files that are transferred back at eviction time are not stored in the location where the job&#8217;s final output
     will be written when the job exits. HTCondor manages these files automatically, so usually the only reason for
     a user to worry about them is to make sure that there is enough space to store them. The files are stored on
     the submit machine in a temporary directory within the directory defined by the configuration variable <span class="texttt">SPOOL</span>.
     The directory is named using the <span class="texttt">ClusterId</span> and <span class="texttt">ProcId</span> job ClassAd attributes. The directory name takes the
     form:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-50">
     <span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&#x003C;X</span><span 
class="ectt-1000">&#x00A0;mod</span><span 
class="ectt-1000">&#x00A0;10000&#x003E;/&#x003C;Y</span><span 
class="ectt-1000">&#x00A0;mod</span><span 
class="ectt-1000">&#x00A0;10000&#x003E;/cluster&#x003C;X&#x003E;.proc&#x003C;Y&#x003E;.subproc0</span>
</div>
     <!--l. 202--><p class="nopar" > where <span class="obeylines-h"><span class="verb">&#x003C;X&#x003E;</span></span> is the value of <span class="texttt">ClusterId</span>, and <span class="obeylines-h"><span class="verb">&#x003C;Y&#x003E;</span></span> is the value of <span class="texttt">ProcId</span>. As an example, if job 735.0 is evicted, it
     will produce the directory
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-51">
     <span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;$(SPOOL)/735/0/cluster735.proc0.subproc0</span>
</div>
     <!--l. 208--><p class="nopar" >
     </li></ol>
<!--l. 212--><p class="indent" >   The default values for these two submit commands make sense as used together. If only <span class="textbf">should_transfer_files</span>
is set, and set to the value <span class="texttt">NO</span>, then no output files will be transferred, and the value of <span class="textbf">when_to_transfer_output</span> is
irrelevant. If only <span class="textbf">when_to_transfer_output</span> is set, and set to the value <span class="texttt">ON_EXIT_OR_EVICT</span>, then the default
value for an unspecified <span class="textbf">should_transfer_files</span> will be <span class="texttt">YES</span>.
<!--l. 223--><p class="indent" >   Note that the combination of
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-52">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;should_transfer_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;IF_NEEDED</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;when_to_transfer_output</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;ON_EXIT_OR_EVICT</span>
</div>
<!--l. 227--><p class="nopar" > would produce undefined file access semantics. Therefore, this combination is prohibited by <span class="textit">condor_submit</span>.
<!--l. 232--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x17-400002.5.9"></a>Specifying What Files to Transfer</h5>
<!--l. 236--><p class="noindent" >If the file transfer mechanism is enabled, HTCondor will transfer the following files before the job is run on a remote
machine.
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x17-40002x1">the executable, as defined with the <span class="textbf">executable</span><a 
 id="dx17-40003"></a> command
     </li>
     <li 
  class="enumerate" id="x17-40005x2">the input, as defined with the <span class="textbf">input</span><a 
 id="dx17-40006"></a> command
     </li>
     <li 
  class="enumerate" id="x17-40008x3">any jar files, for the <span class="textbf">java</span> universe, as defined with the <span class="textbf">jar_files</span><a 
 id="dx17-40009"></a> command</li></ol>
<!--l. 245--><p class="noindent" >If the job requires other input files, the submit description file should utilize the <span class="textbf">transfer_input_files</span><a 
 id="dx17-40010"></a> command.
This comma-separated list specifies any other files or directories that HTCondor is to transfer to the remote scratch
directory, to set up the execution environment for the job before it is run. These files are placed in the same
directory as the job&#8217;s executable. For example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-53">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;should_transfer_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;YES</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;when_to_transfer_output</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;ON_EXIT</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;transfer_input_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;file1,file2</span>
</div>
<!--l. 258--><p class="nopar" > This example explicitly enables the file transfer mechanism, and it transfers the executable, the file
specified by the <span class="textbf">input</span> command, any jar files specified by the <span class="textbf">jar_files</span> command, and files <span class="texttt">file1</span> and
<span class="texttt">file2</span>.
<!--l. 265--><p class="indent" >   If the file transfer mechanism is enabled, HTCondor will transfer the following files from the execute machine
back to the submit machine after the job exits.
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x17-40012x1">the output file, as defined with the <span class="textbf">output</span> command
     </li>
     <li 
  class="enumerate" id="x17-40014x2">the error file, as defined with the <span class="textbf">error</span> command
     </li>
     <li 
  class="enumerate" id="x17-40016x3">any files created by the job in the remote scratch directory; this only occurs for jobs other than <span class="textbf">grid</span>
     universe, and for HTCondor-C <span class="textbf">grid</span> universe jobs; directories created by the job within the remote
     scratch directory are ignored for this automatic detection of files to be transferred.</li></ol>
<!--l. 278--><p class="indent" >   A path given for <span class="textbf">output</span> and <span class="textbf">error</span> commands represents a path on the submit machine. If no path is specified,
the directory specified with <span class="textbf">initialdir</span><a 
 id="dx17-40017"></a> is used, and if that is not specified, the directory from which the job was
submitted is used. At the time the job is submitted, zero-length files are created on the submit machine, at the given
path for the files defined by the <span class="textbf">output</span> and <span class="textbf">error</span> commands. This permits job submission failure, if these files
cannot be written by HTCondor.
<!--l. 288--><p class="indent" >   To <span class="emph">restrict</span> the output files or permit entire directory contents to be transferred, specify the exact list with
<span class="textbf">transfer_output_files</span><a 
 id="dx17-40018"></a>. Delimit the list of file names, directory names, or paths with commas. When this list is
defined, and any of the files or directories do not exist as the job exits, HTCondor considers this an error, and
places the job on hold. Setting <span class="textbf">transfer_output_files</span><a 
 id="dx17-40019"></a> to the empty string (<span class="obeylines-h"><span class="verb">""</span></span>) means no files are
to be transferred. When this list is defined, automatic detection of output files created by the job
is disabled. Paths specified in this list refer to locations on the execute machine. The naming and
placement of files and directories relies on the term <span class="emph">base name</span>. By example, the path <span class="texttt">a/b/c</span> has the base
name <span class="texttt">c</span>. It is the file name or directory name with all directories leading up to that name stripped
off. On the submit machine, the transferred files or directories are named using only the base name.
Therefore, each output file or directory must have a different name, even if they originate from different
paths.
<!--l. 311--><p class="indent" >   For <span class="textbf">grid</span> universe jobs other than than HTCondor-C grid jobs, files to be transferred (other than standard
output and standard error) must be specified using <span class="textbf">transfer_output_files</span> in the submit description file, because
automatic detection of new files created by the job does not take place.
                                                                                         

                                                                                         
<!--l. 318--><p class="indent" >   Here are examples to promote understanding of what files and directories are transferred, and how they are
named after transfer. Assume that the job produces the following structure within the remote scratch
directory:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-54">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;o1</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;o2</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;d1</span><span 
class="ectt-1000">&#x00A0;(directory)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;o3</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;o4</span>
</div>
<!--l. 328--><p class="nopar" >
<!--l. 330--><p class="indent" >   If the submit description file sets
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-55">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;transfer_output_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;o1,o2,d1</span>
</div>
<!--l. 333--><p class="nopar" > then transferred back to the submit machine will be
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-56">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;o1</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;o2</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;d1</span><span 
class="ectt-1000">&#x00A0;(directory)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;o3</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;o4</span>
</div>
<!--l. 341--><p class="nopar" > Note that the directory <span class="texttt">d1</span> and all its contents are specified, and therefore transferred. If the directory <span class="texttt">d1</span> is not
created by the job before exit, then the job is placed on hold. If the directory <span class="texttt">d1</span> is created by the job before exit,
but is empty, this is not an error.
<!--l. 349--><p class="indent" >   If, instead, the submit description file sets
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-57">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;transfer_output_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;o1,o2,d1/o3</span>
</div>
<!--l. 352--><p class="nopar" > then transferred back to the submit machine will be
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-58">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;o1</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;o2</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;o3</span>
</div>
<!--l. 358--><p class="nopar" > Note that only the base name is used in the naming and placement of the file specified with <span class="texttt">d1/o3</span>.
<!--l. 364--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x17-410002.5.9"></a>File Paths for File Transfer</h5>
<!--l. 372--><p class="noindent" >The file transfer mechanism specifies file names and/or paths on both the file system of the submit machine and on
the file system of the execute machine. Care must be taken to know which machine, submit or execute, is utilizing
the file name and/or path.
<!--l. 378--><p class="indent" >   Files in the <span class="textbf">transfer_input_files</span><a 
 id="dx17-41001"></a> command are specified as they are accessed on the submit machine. The job,
as it executes, accesses files as they are found on the execute machine.
<!--l. 383--><p class="indent" >   There are three ways to specify files and paths for <span class="textbf">transfer_input_files</span><a 
 id="dx17-41002"></a>:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x17-41004x1">Relative to the current working directory as the job is submitted, if the submit command <span class="textbf">initialdir</span><a 
 id="dx17-41005"></a> is
     not specified.
     </li>
     <li 
  class="enumerate" id="x17-41007x2">Relative to the initial directory, if the submit command <span class="textbf">initialdir</span><a 
 id="dx17-41008"></a> is specified.
     </li>
     <li 
  class="enumerate" id="x17-41010x3">Absolute.</li></ol>
<!--l. 393--><p class="indent" >   Before executing the program, HTCondor copies the executable, an input file as specified by the submit
command <span class="textbf">input</span><a 
 id="dx17-41011"></a>, along with any input files specified by <span class="textbf">transfer_input_files</span><a 
 id="dx17-41012"></a>. All these files are
placed into a remote scratch directory on the execute machine, in which the program runs. Therefore,
the executing program must access input files relative to its working directory. Because all files and
directories listed for transfer are placed into a single, flat directory, inputs must be uniquely named
to avoid collision when transferred. A collision causes the last file in the list to overwrite the earlier
one.
<!--l. 411--><p class="indent" >   Both relative and absolute paths may be used in <span class="textbf">transfer_output_files</span><a 
 id="dx17-41013"></a>. Relative paths are relative to the
job&#8217;s remote scratch directory on the execute machine. When the files and directories are copied back to the submit
machine, they are placed in the job&#8217;s initial working directory as the base name of the original path. An alternate
name or path may be specified by using <span class="textbf">transfer_output_remaps</span><a 
 id="dx17-41014"></a>.
                                                                                         

                                                                                         
<!--l. 419--><p class="indent" >   A job may create files outside the remote scratch directory but within the file system of the execute machine, in
a directory such as <span class="texttt">/tmp</span>, if this directory is guaranteed to exist and be accessible on all possible execute machines.
However, HTCondor will not automatically transfer such files back after execution completes, nor will it clean up
these files.
<!--l. 429--><p class="indent" >   Here are several examples to illustrate the use of file transfer. The program executable is called <span class="textit">my_program</span>,
and it uses three command-line arguments as it executes: two input file names and an output file
name. The program executable and the submit description file for this job are located in directory
<span class="texttt">/scratch/test</span>.
<!--l. 437--><p class="indent" >   Here is the directory tree as it exists on the submit machine, for all the examples:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-59">
<span 
class="ectt-1000">/scratch/test</span><span 
class="ectt-1000">&#x00A0;(directory)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;my_program.condor</span><span 
class="ectt-1000">&#x00A0;(the</span><span 
class="ectt-1000">&#x00A0;submit</span><span 
class="ectt-1000">&#x00A0;description</span><span 
class="ectt-1000">&#x00A0;file)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;my_program</span><span 
class="ectt-1000">&#x00A0;(the</span><span 
class="ectt-1000">&#x00A0;executable)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;files</span><span 
class="ectt-1000">&#x00A0;(directory)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;logs2</span><span 
class="ectt-1000">&#x00A0;(directory)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;in1</span><span 
class="ectt-1000">&#x00A0;(file)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;in2</span><span 
class="ectt-1000">&#x00A0;(file)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;logs</span><span 
class="ectt-1000">&#x00A0;(directory)</span>
</div>
<!--l. 448--><p class="nopar" >
     <dl class="description"><dt class="description">
Example 1 </dt><dd 
class="description">
     <!--l. 454--><p class="noindent" >This first example explicitly transfers input files. These input files to be transferred are specified relative
     to the directory where the job is submitted. An output file specified in the <span class="textbf">arguments</span><a 
 id="dx17-41015"></a> command,
     <span class="texttt">out1</span>, is created when the job is executed. It will be transferred back into the directory <span class="texttt">/scratch/test</span>.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-60">
     <span 
class="ectt-0800">#</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;name:</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;my_program.condor</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">#</span><span 
class="ectt-0800">&#x00A0;HTCondor</span><span 
class="ectt-0800">&#x00A0;submit</span><span 
class="ectt-0800">&#x00A0;description</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;for</span><span 
class="ectt-0800">&#x00A0;my_program</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Executable</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;my_program</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Universe</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;vanilla</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Error</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/err.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Output</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/out.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Log</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/log.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br />
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">should_transfer_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;YES</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">when_to_transfer_output</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;ON_EXIT</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">transfer_input_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;files/in1,files/in2</span>
     <span 
class="ectt-0800">&#x00A0;</span><br />
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Arguments</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;in1</span><span 
class="ectt-0800">&#x00A0;in2</span><span 
class="ectt-0800">&#x00A0;out1</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Queue</span>
</div>
     <!--l. 477--><p class="nopar" >
     <!--l. 480--><p class="noindent" >The log file is written on the submit machine, and is not involved with the file transfer mechanism.
     </dd><dt class="description">
Example 2 </dt><dd 
class="description">
     <!--l. 485--><p class="noindent" >This second example is identical to Example 1, except that absolute paths to the input files are specified,
     instead of relative paths to the input files.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-61">
     <span 
class="ectt-0800">#</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;name:</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;my_program.condor</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">#</span><span 
class="ectt-0800">&#x00A0;HTCondor</span><span 
class="ectt-0800">&#x00A0;submit</span><span 
class="ectt-0800">&#x00A0;description</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;for</span><span 
class="ectt-0800">&#x00A0;my_program</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Executable</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;my_program</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Universe</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;vanilla</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Error</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/err.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Output</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/out.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Log</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/log.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br />
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">should_transfer_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;YES</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">when_to_transfer_output</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;ON_EXIT</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">transfer_input_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;/scratch/test/files/in1,/scratch/test/files/in2</span>
     <span 
class="ectt-0800">&#x00A0;</span><br />
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Arguments</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;in1</span><span 
class="ectt-0800">&#x00A0;in2</span><span 
class="ectt-0800">&#x00A0;out1</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Queue</span>
</div>
     <!--l. 505--><p class="nopar" >
     </dd><dt class="description">
Example 3 </dt><dd 
class="description">
     <!--l. 511--><p class="noindent" >This third example illustrates the use of the submit command <span class="textbf">initialdir</span><a 
 id="dx17-41016"></a>, and its effect on the paths used for
     the various files. The expected location of the executable is not affected by the <span class="textbf">initialdir</span><a 
 id="dx17-41017"></a> command. All other
     files (specified by <span class="textbf">input</span><a 
 id="dx17-41018"></a>, <span class="textbf">output</span><a 
 id="dx17-41019"></a>, <span class="textbf">error</span><a 
 id="dx17-41020"></a>, <span class="textbf">transfer_input_files</span><a 
 id="dx17-41021"></a>, as well as files modified or created by the
     job and automatically transferred back) are located relative to the specified <span class="textbf">initialdir</span><a 
 id="dx17-41022"></a>. Therefore, the output
     file, <span class="texttt">out1</span>, will be placed in the <span class="obeylines-h"><span class="verb">files</span></span> directory. Note that the <span class="texttt">logs2</span> directory exists to make this example
     work correctly.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-62">
     <span 
class="ectt-0800">#</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;name:</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;my_program.condor</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">#</span><span 
class="ectt-0800">&#x00A0;HTCondor</span><span 
class="ectt-0800">&#x00A0;submit</span><span 
class="ectt-0800">&#x00A0;description</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;for</span><span 
class="ectt-0800">&#x00A0;my_program</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Executable</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;my_program</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Universe</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;vanilla</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Error</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs2/err.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Output</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs2/out.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Log</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs2/log.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br />
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">initialdir</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;files</span>
     <span 
class="ectt-0800">&#x00A0;</span><br />
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">should_transfer_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;YES</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">when_to_transfer_output</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;ON_EXIT</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">transfer_input_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;in1,in2</span>
     <span 
class="ectt-0800">&#x00A0;</span><br />
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Arguments</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;in1</span><span 
class="ectt-0800">&#x00A0;in2</span><span 
class="ectt-0800">&#x00A0;out1</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Queue</span>
</div>
     <!--l. 546--><p class="nopar" >
     </dd><dt class="description">
Example 4 &#8211; Illustrates an Error </dt><dd 
class="description">
     <!--l. 552--><p class="noindent" >This example illustrates a job that will fail. The files specified using the <span class="textbf">transfer_input_files</span><a 
 id="dx17-41023"></a> command
     work correctly (see Example 1). However, relative paths to files in the <span class="textbf">arguments</span><a 
 id="dx17-41024"></a> command cause the
     executing program to fail. The file system on the submission side may utilize relative paths to
     files, however those files are placed into the single, flat, remote scratch directory on the execute
     machine.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-63">
     <span 
class="ectt-0800">#</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;name:</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;my_program.condor</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">#</span><span 
class="ectt-0800">&#x00A0;HTCondor</span><span 
class="ectt-0800">&#x00A0;submit</span><span 
class="ectt-0800">&#x00A0;description</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;for</span><span 
class="ectt-0800">&#x00A0;my_program</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Executable</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;my_program</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Universe</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;vanilla</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Error</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/err.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Output</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/out.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Log</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/log.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br />
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">should_transfer_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;YES</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">when_to_transfer_output</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;ON_EXIT</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">transfer_input_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;files/in1,files/in2</span>
     <span 
class="ectt-0800">&#x00A0;</span><br />
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Arguments</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;files/in1</span><span 
class="ectt-0800">&#x00A0;files/in2</span><span 
class="ectt-0800">&#x00A0;files/out1</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Queue</span>
</div>
     <!--l. 581--><p class="nopar" >
     <!--l. 584--><p class="noindent" >This example fails with the following error:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-64">
     <span 
class="ectt-0800">err:</span><span 
class="ectt-0800">&#x00A0;files/out1:</span><span 
class="ectt-0800">&#x00A0;No</span><span 
class="ectt-0800">&#x00A0;such</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;or</span><span 
class="ectt-0800">&#x00A0;directory.</span>
</div>
     <!--l. 588--><p class="nopar" >
     </dd><dt class="description">
Example 5 &#8211; Illustrates an Error </dt><dd 
class="description">
     <!--l. 594--><p class="noindent" >As with Example 4, this example illustrates a job that will fail. The executing program&#8217;s use of absolute paths
     cannot work.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-65">
     <span 
class="ectt-0800">#</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;name:</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;my_program.condor</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">#</span><span 
class="ectt-0800">&#x00A0;HTCondor</span><span 
class="ectt-0800">&#x00A0;submit</span><span 
class="ectt-0800">&#x00A0;description</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;for</span><span 
class="ectt-0800">&#x00A0;my_program</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Executable</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;my_program</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Universe</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;vanilla</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Error</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/err.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Output</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/out.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Log</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/log.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br />
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">should_transfer_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;YES</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">when_to_transfer_output</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;ON_EXIT</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">transfer_input_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;/scratch/test/files/in1,</span><span 
class="ectt-0800">&#x00A0;/scratch/test/files/in2</span>
     <span 
class="ectt-0800">&#x00A0;</span><br />
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Arguments</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;/scratch/test/files/in1</span><span 
class="ectt-0800">&#x00A0;/scratch/test/files/in2</span><span 
class="ectt-0800">&#x00A0;/scratch/test/files/out1</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Queue</span>
</div>
     <!--l. 615--><p class="nopar" >
     <!--l. 618--><p class="noindent" >The job fails with the following error:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-66">
     <span 
class="ectt-0800">err:</span><span 
class="ectt-0800">&#x00A0;/scratch/test/files/out1:</span><span 
class="ectt-0800">&#x00A0;No</span><span 
class="ectt-0800">&#x00A0;such</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;or</span><span 
class="ectt-0800">&#x00A0;directory.</span>
</div>
     <!--l. 622--><p class="nopar" >
     </dd><dt class="description">
Example 6 </dt><dd 
class="description">
     <!--l. 628--><p class="noindent" >This example illustrates a case where the executing program creates an output file in a directory other than
     within the remote scratch directory that the program executes within. The file creation may or may not
     cause an error, depending on the existence and permissions of the directories on the remote file
     system.
     <!--l. 636--><p class="noindent" >The output file <span class="texttt">/tmp/out1</span> is transferred back to the job&#8217;s initial working directory as <span class="texttt">/scratch/test/out1</span>.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-67">
     <span 
class="ectt-0800">#</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;name:</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;my_program.condor</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">#</span><span 
class="ectt-0800">&#x00A0;HTCondor</span><span 
class="ectt-0800">&#x00A0;submit</span><span 
class="ectt-0800">&#x00A0;description</span><span 
class="ectt-0800">&#x00A0;file</span><span 
class="ectt-0800">&#x00A0;for</span><span 
class="ectt-0800">&#x00A0;my_program</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Executable</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;my_program</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Universe</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;vanilla</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Error</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/err.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Output</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/out.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Log</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;logs/log.$(cluster)</span>
     <span 
class="ectt-0800">&#x00A0;</span><br />
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">should_transfer_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;YES</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">when_to_transfer_output</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;ON_EXIT</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">transfer_input_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;files/in1,files/in2</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">transfer_output_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;/tmp/out1</span>
     <span 
class="ectt-0800">&#x00A0;</span><br />
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Arguments</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;in1</span><span 
class="ectt-0800">&#x00A0;in2</span><span 
class="ectt-0800">&#x00A0;/tmp/out1</span>
     <span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">Queue</span>
</div>
     <!--l. 656--><p class="nopar" >
     </dd></dl>
<!--l. 662--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x17-420002.5.9"></a>Public Input Files</h5>
<!--l. 664--><p class="noindent" >There are some cases where HTCondor&#8217;s file transfer mechanism is inefficient. For jobs that need to run a large
number of times, the input files need to get transferred for every job, even if those files are identical.
This wastes resources on both the submit machine and the network, slowing overall job execution
time.
<!--l. 670--><p class="indent" >   Public input files allow a user to specify files to be transferred over a publicly-available HTTP web service. A
system administrator can then configure caching proxies, load balancers, and other tools to dramatically improve
performance. <span class="emph">Public input files are not available by default</span>, and need to be explicitly enabled by a system
administrator.
<!--l. 676--><p class="indent" >   To specify files that use this feature, the submit file should include a <span class="textbf">public_input_files</span><a 
 id="dx17-42001"></a> command. This
comma-separated list specifies files which HTCondor will transfer using the HTTP mechanism. For
example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-68">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;should_transfer_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;YES</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;when_to_transfer_output</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;ON_EXIT</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;transfer_input_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;file1,file2</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;public_input_files</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;public_data1,public_data2</span>
</div>
<!--l. 685--><p class="nopar" >
<!--l. 687--><p class="indent" >   Similar to the regular <span class="textbf">transfer_input_files</span><a 
 id="dx17-42002"></a>, the files specified in <span class="textbf">public_input_files</span><a 
 id="dx17-42003"></a> can be relative to the
submit directory, or absolute paths. You can also specify an <span class="textbf">initialDir</span><a 
 id="dx17-42004"></a>, and <span class="textit">condor_submit</span> will look for files
relative to that directory. The files must be world-readable on the file system (files with permissions set to <span class="emph">0644</span>,
directories with permissions set to <span class="emph">0755</span>).
<!--l. 694--><p class="indent" >   Lastly, all files transferred using this method will be publicly available and world-readable, so this feature should
not be used for any sensitive data.
<!--l. 698--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x17-430002.5.9"></a>Behavior for Error Cases</h5>
<!--l. 700--><p class="noindent" >This section describes HTCondor&#8217;s behavior for some error cases in dealing with the transfer of files.
     <dl class="description"><dt class="description">
Disk Full on Execute Machine </dt><dd 
class="description">When  transferring  any  files  from  the  submit  machine  to  the  remote
     scratch directory, if the disk is full on the execute machine, then the job is place on hold.
     </dd><dt class="description">
Error Creating Zero-Length Files on Submit Machine </dt><dd 
class="description">As  a  job  is  submitted,  HTCondor  creates
     zero-length files as placeholders on the submit machine for the files defined by <span class="textbf">output</span><a 
 id="dx17-43001"></a> and <span class="textbf">error</span><a 
 id="dx17-43002"></a>. If
     these files cannot be created, then job submission fails.
     <!--l. 714--><p class="noindent" >This job submission failure avoids having the job run to completion, only to be unable to transfer the
     job&#8217;s output due to permission errors.
     </dd><dt class="description">
Error When Transferring Files from Execute Machine to Submit Machine </dt><dd 
class="description">When a job exits, or
     potentially when a job is evicted from an execute machine, one or more files may be transferred from
     the execute machine back to the machine on which the job was submitted.
     <!--l. 721--><p class="noindent" >During transfer, if any of the following three similar types of errors occur, the job is put on hold as the error
     occurs.
         <ol  class="enumerate1" >
         <li 
  class="enumerate" id="x17-43004x1">If the file cannot be opened on the submit machine, for example because the system is out of
         inodes.
                                                                                         

                                                                                         
         </li>
         <li 
  class="enumerate" id="x17-43006x2">If the file cannot be written on the submit machine, for example because the permissions do not
         permit it.
         </li>
         <li 
  class="enumerate" id="x17-43008x3">If the write of the file on the submit machine fails, for example because the system is out of disk
         space.</li></ol>
     </dd></dl>
<!--l. 734--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x17-440002.5.9"></a>File Transfer Using a URL </h5>
<a 
 id="dx17-44001"></a>
<a 
 id="dx17-44002"></a>
<a 
 id="dx17-44003"></a>
<!--l. 740--><p class="noindent" >Instead of file transfer that goes only between the submit machine and the execute machine, HTCondor has the
ability to transfer files from a location specified by a URL for a job&#8217;s input file, or from the execute machine to a
location specified by a URL for a job&#8217;s output file(s). This capability requires administrative set up, as described in
section&#x00A0;<a 
href="SettingUpforSpecialEnvironments.html#x42-3480003.14.2">3.14.2<!--tex4ht:ref: sec:URL-transfer --></a>.
<!--l. 749--><p class="indent" >   The transfer of an input file is restricted to vanilla and vm universe jobs only. HTCondor&#8217;s file
transfer mechanism must be enabled. Therefore, the submit description file for the job will define both
<span class="textbf">should_transfer_files</span><a 
 id="dx17-44004"></a> and <span class="textbf">when_to_transfer_output</span><a 
 id="dx17-44005"></a>. In addition, the URL for any files specified with a
URL are given in the <span class="textbf">transfer_input_files</span><a 
 id="dx17-44006"></a> command. An example portion of the submit description file for a job
that has a single file specified with a URL:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-69">
<span 
class="ectt-0800">should_transfer_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;YES</span>
<span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">when_to_transfer_output</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;ON_EXIT</span>
<span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">transfer_input_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;http://www.full.url/path/to/filename</span>
</div>
<!--l. 764--><p class="nopar" >
<!--l. 767--><p class="indent" >   The destination file is given by the file name within the URL.
<!--l. 769--><p class="indent" >   For the transfer of the entire contents of the output sandbox, which are all files that the job creates or modifies,
HTCondor&#8217;s file transfer mechanism must be enabled. In this sample portion of the submit description file, the first
two commands explicitly enable file transfer, and the added <span class="textbf">output_destination</span><a 
 id="dx17-44007"></a> command provides both the
protocol to be used and the destination of the transfer.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-70">
<span 
class="ectt-0800">should_transfer_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;YES</span>
<span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">when_to_transfer_output</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;ON_EXIT</span>
<span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">output_destination</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;urltype://path/to/destination/directory</span>
</div>
<!--l. 781--><p class="nopar" > Note that with this feature, no files are transferred back to the submit machine. This does not interfere with the
streaming of output.
<!--l. 787--><p class="indent" >   If only a subset of the output sandbox should be transferred, the subset is specified by further adding a submit
command of the form:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-71">
<span 
class="ectt-0800">transfer_output_files</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;file1,</span><span 
class="ectt-0800">&#x00A0;file2</span>
</div>
<!--l. 792--><p class="nopar" >
<!--l. 796--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x17-450002.5.9"></a>Requirements and Rank for File Transfer</h5>
<a 
 id="dx17-45001"></a>
<!--l. 800--><p class="noindent" >The <span class="texttt">requirements</span> expression for a job must depend on the <span class="obeylines-h"><span class="verb">should_transfer_files</span></span> command. The job must
specify the correct logic to ensure that the job is matched with a resource that meets the file transfer needs. If
no <span class="texttt">requirements</span> expression is in the submit description file, or if the expression specified does not
refer to the attributes listed below, <span class="textit">condor_submit</span> adds an appropriate clause to the <span class="texttt">requirements</span>
expression for the job. <span class="textit">condor_submit</span> appends these clauses with a logical AND, <span class="obeylines-h"><span class="verb">&amp;&amp;</span></span>, to ensure that
the proper conditions are met. Here are the default clauses corresponding to the different values of
<span class="obeylines-h"><span class="verb">should_transfer_files</span></span>:
<!--l. 813--><p class="indent" >
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x17-45003x1"><span class="obeylines-h"><span class="verb">should_transfer_files&#x00A0;=&#x00A0;YES</span></span>
     <!--l. 818--><p class="noindent" >results in the addition of the clause <span class="obeylines-h"><span class="verb">(HasFileTransfer)</span></span>. If the job is always going to transfer files, it
     is required to match with a machine that has the capability to transfer files.
     </li>
     <li 
  class="enumerate" id="x17-45005x2"><span class="obeylines-h"><span class="verb">should_transfer_files&#x00A0;=&#x00A0;NO</span></span>
     <!--l. 825--><p class="noindent" >results  in  the  addition  of  <span class="obeylines-h"><span class="verb">(TARGET.FileSystemDomain&#x00A0;==&#x00A0;MY.FileSystemDomain)</span></span>.  In  addition,
     HTCondor automatically adds the <span class="texttt">FileSystemDomain</span> attribute to the job ClassAd, with whatever
     string is defined for the <span class="textit">condor_schedd</span> to which the job is submitted. If the job is not using the file
     transfer mechanism, HTCondor assumes it will need a shared file system, and therefore, a machine in
     the same <span class="texttt">FileSystemDomain</span> as the submit machine.
     </li>
     <li 
  class="enumerate" id="x17-45007x3"><span class="obeylines-h"><span class="verb">should_transfer_files&#x00A0;=&#x00A0;IF_NEEDED</span></span> results in the addition of
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-72">
     <span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;(HasFileTransfer</span><span 
class="ectt-0800">&#x00A0;||</span><span 
class="ectt-0800">&#x00A0;(TARGET.FileSystemDomain</span><span 
class="ectt-0800">&#x00A0;==</span><span 
class="ectt-0800">&#x00A0;MY.FileSystemDomain))</span>
</div>
     <!--l. 840--><p class="nopar" > If HTCondor will optionally transfer files, it must require that the machine is <span class="emph">either</span> capable of transferring
     files <span class="emph">or</span> in the same file system domain.
     </li></ol>
<!--l. 848--><p class="indent" >   To ensure that the job is matched to a machine with enough local disk space to hold all the transferred files,
HTCondor automatically adds the <span class="texttt">DiskUsage</span> job attribute. This attribute includes the total size of the job&#8217;s
executable and all input files to be transferred. HTCondor then adds an additional clause to the <span class="texttt">Requirements</span>
expression that states that the remote machine must have at least enough available disk space to hold all these
files:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-73">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;&amp;&amp;</span><span 
class="ectt-1000">&#x00A0;(Disk</span><span 
class="ectt-1000">&#x00A0;&#x003E;=</span><span 
class="ectt-1000">&#x00A0;DiskUsage)</span>
</div>
<!--l. 858--><p class="nopar" >
<a 
 id="dx17-45008"></a>
<!--l. 861--><p class="indent" >   If <span class="obeylines-h"><span class="verb">should_transfer_files&#x00A0;=&#x00A0;IF_NEEDED</span></span> and the job prefers to run on a machine in the local file system
domain over transferring files, but is still willing to allow the job to run remotely and transfer files, the <span class="texttt">Rank</span>
expression works well. Use:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-74">
<span 
class="ectt-0800">rank</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;(TARGET.FileSystemDomain</span><span 
class="ectt-0800">&#x00A0;==</span><span 
class="ectt-0800">&#x00A0;MY.FileSystemDomain)</span>
</div>
<!--l. 870--><p class="nopar" >
<!--l. 873--><p class="indent" >   The <span class="texttt">Rank</span> expression is a floating point value, so if other items are considered in ranking the possible machines
this job may run on, add the items:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-75">
<span 
class="ectt-0800">Rank</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;kflops</span><span 
class="ectt-0800">&#x00A0;+</span><span 
class="ectt-0800">&#x00A0;(TARGET.FileSystemDomain</span><span 
class="ectt-0800">&#x00A0;==</span><span 
class="ectt-0800">&#x00A0;MY.FileSystemDomain)</span>
</div>
<!--l. 880--><p class="nopar" >
<!--l. 883--><p class="indent" >   The value of <span class="texttt">kflops</span> can vary widely among machines, so this <span class="texttt">Rank</span> expression will likely not do as it intends. To
place emphasis on the job running in the same file system domain, but still consider floating point speed among the
machines in the file system domain, weight the part of the expression that is matching the file system domains. For
example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-76">
<span 
class="ectt-0800">Rank</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;kflops</span><span 
class="ectt-0800">&#x00A0;+</span><span 
class="ectt-0800">&#x00A0;(10000</span><span 
class="ectt-0800">&#x00A0;*</span><span 
class="ectt-0800">&#x00A0;(TARGET.FileSystemDomain</span><span 
class="ectt-0800">&#x00A0;==</span><span 
class="ectt-0800">&#x00A0;MY.FileSystemDomain))</span>
</div>
<!--l. 894--><p class="nopar" >
<!--l. 1398--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5.10   </span> <a 
 id="x17-460002.5.10"></a>Environment Variables</h4>
<a 
 id="dx17-46001"></a>
<a 
 id="dx17-46002"></a>
<!--l. 1403--><p class="noindent" >The environment under which a job executes often contains information that is potentially useful to
the job. HTCondor allows a user to both set and reference environment variables for a job or job
cluster.
<!--l. 1408--><p class="indent" >   Within a submit description file, the user may define environment variables for the job&#8217;s environment by using
the <span class="textbf">environment</span> command. See within the <span class="textit">condor_submit</span> manual page at section&#x00A0;<a 
href="Condorsubmit.html#x149-108400012">12<!--tex4ht:ref: man-condor-submit-environment --></a> for more details about this
command.
<!--l. 1414--><p class="indent" >   The submitter&#8217;s entire environment can be copied into the job ClassAd for the job at job submission. The
<span class="textbf">getenv</span><a 
 id="dx17-46003"></a> command within the submit description file does this, as described at section&#x00A0;<a 
href="Condorsubmit.html#x149-108400012">12<!--tex4ht:ref: man-condor-submit-getenv --></a>.
<!--l. 1420--><p class="indent" >   If the environment is set with the <span class="textbf">environment</span><a 
 id="dx17-46004"></a> command <span class="emph">and</span> <span class="textbf">getenv</span> is also set to true, values specified with
<span class="textbf">environment</span> override values in the submitter&#8217;s environment, regardless of the order of the <span class="textbf">environment</span> and
<span class="textbf">getenv</span> commands.
<!--l. 1426--><p class="indent" >   Commands within the submit description file may reference the environment variables of the submitter as a job
is submitted. Submit description file commands use <span class="obeylines-h"><span class="verb">$ENV(EnvironmentVariableName)</span></span> to reference the value of an
environment variable.
<!--l. 1431--><p class="indent" >   HTCondor sets several additional environment variables for each executing job that may be useful for the job to
reference.
     <ul class="itemize1">
     <li class="itemize"><span class="texttt">_CONDOR_SCRATCH_DIR</span><a 
 id="dx17-46005"></a><a 
 id="dx17-46006"></a> gives the directory where the job may place temporary data files. This directory
     is unique for every job that is run, and its contents are deleted by HTCondor when the job stops
     running on a machine, no matter how the job completes.
     </li>
     <li class="itemize"><span class="texttt">_CONDOR_SLOT</span> <a 
 id="dx17-46007"></a><a 
 id="dx17-46008"></a> gives the name of the slot (for SMP machines), on which the job is run. On machines
     with only a single slot, the value of this variable will be <span class="obeylines-h"><span class="verb">1</span></span>, just like the <span class="texttt">SlotID</span> attribute in the
                                                                                         

                                                                                         
     machine&#8217;s ClassAd. This setting is available in all universes. See section&#x00A0;<a 
href="PolicyConfigurationforExecuteHostsandforSubmitHosts.html#x35-2530003.7.1">3.7.1<!--tex4ht:ref: sec:Configuring-SMP --></a> for more details about
     SMP machines and their configuration.
     </li>
     <li class="itemize"><span class="texttt">X509_USER_PROXY</span> <a 
 id="dx17-46009"></a><a 
 id="dx17-46010"></a> gives the full path to the X.509 user proxy file if one is associated with the job.
     Typically, a user will specify <span class="textbf">x509userproxy</span><a 
 id="dx17-46011"></a> in the submit description file. This setting is currently
     available in the local, java, and vanilla universes.
     </li>
     <li class="itemize"><span class="texttt">_CONDOR_JOB_AD</span> <a 
 id="dx17-46012"></a><a 
 id="dx17-46013"></a> is the path to a file in the job&#8217;s scratch directory which contains the job ad for
     the  currently  running  job.  The  job  ad  is  current  as  of  the  start  of  the  job,  but  is  not  updated
     during the running of the job. The job may read attributes and their values out of this file as it
     runs, but any changes will not be acted on in any way by HTCondor. The format is the same as
     the output of the <span class="textit">condor_q</span> <span class="textbf">-l</span> command. This environment variable may be particularly useful in a
     USER_JOB_WRAPPER.
     </li>
     <li class="itemize"><span class="texttt">_CONDOR_MACHINE_AD</span> <a 
 id="dx17-46014"></a><a 
 id="dx17-46015"></a> is the path to a file in the job&#8217;s scratch directory which contains the machine
     ad for the slot the currently running job is using. The machine ad is current as of the start of the
     job, but is not updated during the running of the job. The format is the same as the output of the
     <span class="textit">condor_status</span> <span class="textbf">-l</span> command.
     </li>
     <li class="itemize"><span class="texttt">_CONDOR_JOB_IWD</span> <a 
 id="dx17-46016"></a><a 
 id="dx17-46017"></a> is the path to the initial working directory the job was born with.
     </li>
     <li class="itemize"><span class="texttt">_CONDOR_WRAPPER_ERROR_FILE</span>  <a 
 id="dx17-46018"></a><a 
 id="dx17-46019"></a>  is    only    set    when    the    administrator    has    installed    a
     USER_JOB_WRAPPER. If this file exists, HTCondor assumes that the job wrapper has failed and
     copies the contents of the file to the StarterLog for the administrator to debug the problem.
     </li>
     <li class="itemize"><span class="texttt">CONDOR_IDS</span> <a 
 id="dx17-46020"></a><a 
 id="dx17-46021"></a> overrides the value of configuration variable <span class="texttt">CONDOR_IDS</span>, when set in the environment.
     </li>
     <li class="itemize"><span class="texttt">CONDOR_ID</span> <a 
 id="dx17-46022"></a><a 
 id="dx17-46023"></a> is set for scheduler universe jobs to be the same as the <span class="texttt">ClusterId</span> attribute.
     </li></ul>
<!--l. 1515--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5.11   </span> <a 
 id="x17-470002.5.11"></a>Heterogeneous Submit: Execution on Differing Architectures</h4>
<a 
 id="dx17-47001"></a>
<a 
 id="dx17-47002"></a>
<a 
 id="dx17-47003"></a>
                                                                                         

                                                                                         
<!--l. 1521--><p class="noindent" >If executables are available for the different platforms of machines in the HTCondor pool, HTCondor can be allowed
the choice of a larger number of machines when allocating a machine for a job. Modifications to the submit
description file allow this choice of platforms.
<!--l. 1528--><p class="indent" >   A simplified example is a cross submission. An executable is available for one platform, but the submission is
done from a different platform. Given the correct executable, the <span class="texttt">requirements</span> command in the submit
description file specifies the target architecture. For example, an executable compiled for a 32-bit Intel
processor running Windows Vista, submitted from an Intel architecture running Linux would add the
<span class="texttt">requirement</span>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-77">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;requirements</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;Arch</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"INTEL"</span><span 
class="ectt-1000">&#x00A0;&amp;&amp;</span><span 
class="ectt-1000">&#x00A0;OpSys</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"WINDOWS"</span>
</div>
<!--l. 1539--><p class="nopar" > Without this <span class="texttt">requirement</span>, <span class="textit">condor_submit</span> will assume that the program is to be executed on a machine with the
same platform as the machine where the job is submitted.
<!--l. 1545--><p class="indent" >   Cross submission works for all universes except <span class="texttt">scheduler</span> and <span class="texttt">local</span>. See section&#x00A0;<a 
href="TheGridUniverse.html#x56-4870005.3.11">5.3.11<!--tex4ht:ref: sec:Grid-Matchmaking --></a> for how matchmaking
works in the <span class="texttt">grid</span> universe. The burden is on the user to both obtain and specify the correct executable for
the target architecture. To list the architecture and operating systems of the machines in a pool, run
<span class="textit">condor_status</span>.
<!--l. 1555--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x17-480002.5.11"></a>Vanilla Universe Example for Execution on Differing Architectures</h5>
<!--l. 1558--><p class="noindent" >A more complex example of a heterogeneous submission occurs when a job may be executed on many different
architectures to gain full use of a diverse architecture and operating system pool. If the executables are available for
the different architectures, then a modification to the submit description file will allow HTCondor to choose an
executable after an available machine is chosen.
<!--l. 1567--><p class="indent" >   A special-purpose Machine Ad substitution macro can be used in string attributes in the submit description file.
The macro has the form
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-78">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;$$(MachineAdAttribute)</span>
</div>
<!--l. 1573--><p class="nopar" > The $$() informs HTCondor to substitute the requested <span class="texttt">MachineAdAttribute</span> from the machine where the job will
be executed.
<!--l. 1578--><p class="indent" >   An example of the heterogeneous job submission has executables available for two platforms: RHEL 3 on both
32-bit and 64-bit Intel processors. This example uses <span class="textit">povray</span> to render images using a popular free rendering
engine.
<!--l. 1584--><p class="indent" >   The substitution macro chooses a specific executable after a platform for running the job is chosen. These
executables must therefore be named based on the machine attributes that describe a platform. The executables
named
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-79">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;povray.LINUX.INTEL</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;povray.LINUX.X86_64</span>
</div>
<!--l. 1591--><p class="nopar" > will work correctly for the macro
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-80">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;povray.$$(OpSys).$$(Arch)</span>
</div>
<!--l. 1595--><p class="nopar" >
<!--l. 1597--><p class="indent" >   The executables or links to executables with this name are placed into the initial working directory
so that they may be found by HTCondor. A submit description file that queues three jobs for this
example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-81">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;Example</span><span 
class="ectt-1000">&#x00A0;of</span><span 
class="ectt-1000">&#x00A0;heterogeneous</span><span 
class="ectt-1000">&#x00A0;submission</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;universe</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;vanilla</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Executable</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;povray.$$(OpSys).$$(Arch)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Log</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;povray.log</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Output</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;povray.out.$(Process)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Error</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;povray.err.$(Process)</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Requirements</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;(Arch</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"INTEL"</span><span 
class="ectt-1000">&#x00A0;&amp;&amp;</span><span 
class="ectt-1000">&#x00A0;OpSys</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"LINUX")</span><span 
class="ectt-1000">&#x00A0;||</span><span 
class="ectt-1000">&#x00A0;\</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;(Arch</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"X86_64"</span><span 
class="ectt-1000">&#x00A0;&amp;&amp;</span><span 
class="ectt-1000">&#x00A0;OpSys</span><span 
class="ectt-1000">&#x00A0;=="LINUX")</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Arguments</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;+W1024</span><span 
class="ectt-1000">&#x00A0;+H768</span><span 
class="ectt-1000">&#x00A0;+Iimage1.pov</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Queue</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Arguments</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;+W1024</span><span 
class="ectt-1000">&#x00A0;+H768</span><span 
class="ectt-1000">&#x00A0;+Iimage2.pov</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Queue</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Arguments</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;+W1024</span><span 
class="ectt-1000">&#x00A0;+H768</span><span 
class="ectt-1000">&#x00A0;+Iimage3.pov</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Queue</span>
</div>
<!--l. 1626--><p class="nopar" >
<!--l. 1628--><p class="indent" >   These jobs are submitted to the vanilla universe to assure that once a job is started on a specific platform, it
will finish running on that platform. Switching platforms in the middle of job execution cannot work
correctly.
<!--l. 1634--><p class="indent" >   There are two common errors made with the substitution macro. The first is the use of a non-existent
<span class="texttt">MachineAdAttribute</span>. If the specified <span class="texttt">MachineAdAttribute</span> does not exist in the machine&#8217;s ClassAd, then
HTCondor will place the job in the held state until the problem is resolved.
<!--l. 1640--><p class="indent" >   The second common error occurs due to an incomplete job set up. For example, the submit description file
given above specifies three available executables. If one is missing, HTCondor reports back that an
executable is missing when it happens to match the job with a resource that requires the missing
binary.
<!--l. 1648--><p class="noindent" >
                                                                                         

                                                                                         
   <h5 class="subsubsectionHead"><a 
 id="x17-490002.5.11"></a>Standard Universe Example for Execution on Differing Architectures</h5>
<!--l. 1651--><p class="noindent" >Jobs submitted to the standard universe may produce checkpoints. A checkpoint can then be used to start up and
continue execution of a partially completed job. For a partially completed job, the checkpoint and the job are
specific to a platform. If migrated to a different machine, correct execution requires that the platform must remain
the same.
<!--l. 1659--><p class="indent" >   In previous versions of HTCondor, the author of the heterogeneous submission file would need to write extra
policy expressions in the <span class="texttt">requirements</span> expression to force HTCondor to choose the same type of platform when
continuing a checkpointed job. However, since it is needed in the common case, this additional policy is now
automatically added to the <span class="texttt">requirements</span> expression. The additional expression is added provided the user does not
use <span class="texttt">CkptArch</span> in the <span class="texttt">requirements</span> expression. HTCondor will remain backward compatible for those users
who have explicitly specified <span class="texttt">CkptRequirements</span>&#8211;implying use of <span class="texttt">CkptArch</span>, in their <span class="texttt">requirements</span>
expression.
<!--l. 1673--><p class="indent" >   The expression added when the attribute <span class="texttt">CkptArch</span> is not specified will default to
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-82">
<span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;#</span><span 
class="ectt-0800">&#x00A0;Added</span><span 
class="ectt-0800">&#x00A0;by</span><span 
class="ectt-0800">&#x00A0;HTCondor</span>
<span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;CkptRequirements</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;((CkptArch</span><span 
class="ectt-0800">&#x00A0;==</span><span 
class="ectt-0800">&#x00A0;Arch)</span><span 
class="ectt-0800">&#x00A0;||</span><span 
class="ectt-0800">&#x00A0;(CkptArch</span><span 
class="ectt-0800">&#x00A0;=?=</span><span 
class="ectt-0800">&#x00A0;UNDEFINED))</span><span 
class="ectt-0800">&#x00A0;&amp;&amp;</span><span 
class="ectt-0800">&#x00A0;\</span>
<span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;((CkptOpSys</span><span 
class="ectt-0800">&#x00A0;==</span><span 
class="ectt-0800">&#x00A0;OpSys)</span><span 
class="ectt-0800">&#x00A0;||</span><span 
class="ectt-0800">&#x00A0;(CkptOpSys</span><span 
class="ectt-0800">&#x00A0;=?=</span><span 
class="ectt-0800">&#x00A0;UNDEFINED))</span>
<span 
class="ectt-0800">&#x00A0;</span><br />
<span 
class="ectt-0800">&#x00A0;</span><br /><span 
class="ectt-0800">&#x00A0;</span><span 
class="ectt-0800">&#x00A0;Requirements</span><span 
class="ectt-0800">&#x00A0;=</span><span 
class="ectt-0800">&#x00A0;(&#x003C;user</span><span 
class="ectt-0800">&#x00A0;specified</span><span 
class="ectt-0800">&#x00A0;policy&#x003E;)</span><span 
class="ectt-0800">&#x00A0;&amp;&amp;</span><span 
class="ectt-0800">&#x00A0;$(CkptRequirements)</span>
</div>
<!--l. 1683--><p class="nopar" >
<!--l. 1686--><p class="indent" >   The behavior of the <span class="texttt">CkptRequirements</span> expressions and its addition to <span class="texttt">requirements</span> is as follows. The
<span class="texttt">CkptRequirements</span> expression guarantees correct operation in the two possible cases for a job. In the first case, the
job has not produced a checkpoint. The ClassAd attributes <span class="texttt">CkptArch</span> and <span class="texttt">CkptOpSys</span> will be undefined, and
therefore the meta operator (<span class="obeylines-h"><span class="verb">=?=</span></span>) evaluates to true. In the second case, the job has produced a checkpoint. The
Machine ClassAd is restricted to require further execution only on a machine of the same platform. The attributes
<span class="texttt">CkptArch</span> and <span class="texttt">CkptOpSys</span> will be defined, ensuring that the platform chosen for further execution will be the same
as the one used just before the checkpoint.
<!--l. 1702--><p class="indent" >   Note that this restriction of platforms also applies to platforms where the executables are binary
compatible.
<!--l. 1705--><p class="indent" >   The complete submit description file for this example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-83">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;Example</span><span 
class="ectt-1000">&#x00A0;of</span><span 
class="ectt-1000">&#x00A0;heterogeneous</span><span 
class="ectt-1000">&#x00A0;submission</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;universe</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;standard</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Executable</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;povray.$$(OpSys).$$(Arch)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Log</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;povray.log</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Output</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;povray.out.$(Process)</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Error</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;povray.err.$(Process)</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;HTCondor</span><span 
class="ectt-1000">&#x00A0;automatically</span><span 
class="ectt-1000">&#x00A0;adds</span><span 
class="ectt-1000">&#x00A0;the</span><span 
class="ectt-1000">&#x00A0;correct</span><span 
class="ectt-1000">&#x00A0;expressions</span><span 
class="ectt-1000">&#x00A0;to</span><span 
class="ectt-1000">&#x00A0;insure</span><span 
class="ectt-1000">&#x00A0;that</span><span 
class="ectt-1000">&#x00A0;the</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;checkpointed</span><span 
class="ectt-1000">&#x00A0;jobs</span><span 
class="ectt-1000">&#x00A0;will</span><span 
class="ectt-1000">&#x00A0;restart</span><span 
class="ectt-1000">&#x00A0;on</span><span 
class="ectt-1000">&#x00A0;the</span><span 
class="ectt-1000">&#x00A0;correct</span><span 
class="ectt-1000">&#x00A0;platform</span><span 
class="ectt-1000">&#x00A0;types.</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Requirements</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;(</span><span 
class="ectt-1000">&#x00A0;(Arch</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"INTEL"</span><span 
class="ectt-1000">&#x00A0;&amp;&amp;</span><span 
class="ectt-1000">&#x00A0;OpSys</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"LINUX")</span><span 
class="ectt-1000">&#x00A0;||</span><span 
class="ectt-1000">&#x00A0;\</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;(Arch</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"X86_64"</span><span 
class="ectt-1000">&#x00A0;&amp;&amp;</span><span 
class="ectt-1000">&#x00A0;OpSys</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"LINUX")</span><span 
class="ectt-1000">&#x00A0;)</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Arguments</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;+W1024</span><span 
class="ectt-1000">&#x00A0;+H768</span><span 
class="ectt-1000">&#x00A0;+Iimage1.pov</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Queue</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Arguments</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;+W1024</span><span 
class="ectt-1000">&#x00A0;+H768</span><span 
class="ectt-1000">&#x00A0;+Iimage2.pov</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Queue</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Arguments</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;+W1024</span><span 
class="ectt-1000">&#x00A0;+H768</span><span 
class="ectt-1000">&#x00A0;+Iimage3.pov</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Queue</span>
</div>
<!--l. 1733--><p class="nopar" >
<!--l. 1737--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x17-500002.5.11"></a>Vanilla Universe Example for Execution on Differing Operating Systems</h5>
<!--l. 1740--><p class="noindent" >The addition of several related OpSys attributes assists in selection of specific operating systems and versions in
heterogeneous pools.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-84">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;Example</span><span 
class="ectt-1000">&#x00A0;targeting</span><span 
class="ectt-1000">&#x00A0;only</span><span 
class="ectt-1000">&#x00A0;RedHat</span><span 
class="ectt-1000">&#x00A0;platforms</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;universe</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;vanilla</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Executable</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;/bin/date</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Log</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;distro.log</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Output</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;distro.out</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Error</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;distro.err</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Requirements</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;(OpSysName</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"RedHat")</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Queue</span>
</div>
<!--l. 1759--><p class="nopar" >
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-85">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;Example</span><span 
class="ectt-1000">&#x00A0;targeting</span><span 
class="ectt-1000">&#x00A0;RedHat</span><span 
class="ectt-1000">&#x00A0;6</span><span 
class="ectt-1000">&#x00A0;platforms</span><span 
class="ectt-1000">&#x00A0;in</span><span 
class="ectt-1000">&#x00A0;a</span><span 
class="ectt-1000">&#x00A0;heterogeneous</span><span 
class="ectt-1000">&#x00A0;Linux</span><span 
class="ectt-1000">&#x00A0;pool</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;universe</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;vanilla</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Executable</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;/bin/date</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Log</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;distro.log</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Output</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;distro.out</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Error</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;distro.err</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Requirements</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;(</span><span 
class="ectt-1000">&#x00A0;OpSysName</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"RedHat"</span><span 
class="ectt-1000">&#x00A0;&amp;&amp;</span><span 
class="ectt-1000">&#x00A0;OpSysMajorVer</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;6)</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Queue</span>
</div>
<!--l. 1778--><p class="nopar" >
<!--l. 1781--><p class="indent" >   Here is a more compact way to specify a RedHat 6 platform.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-86">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span><span 
class="ectt-1000">&#x00A0;Example</span><span 
class="ectt-1000">&#x00A0;targeting</span><span 
class="ectt-1000">&#x00A0;RedHat</span><span 
class="ectt-1000">&#x00A0;6</span><span 
class="ectt-1000">&#x00A0;platforms</span><span 
class="ectt-1000">&#x00A0;in</span><span 
class="ectt-1000">&#x00A0;a</span><span 
class="ectt-1000">&#x00A0;heterogeneous</span><span 
class="ectt-1000">&#x00A0;Linux</span><span 
class="ectt-1000">&#x00A0;pool</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;#</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;####################</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;universe</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;vanilla</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Executable</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;/bin/date</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Log</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;distro.log</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Output</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;distro.out</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Error</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;distro.err</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Requirements</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;(</span><span 
class="ectt-1000">&#x00A0;OpSysAndVer</span><span 
class="ectt-1000">&#x00A0;==</span><span 
class="ectt-1000">&#x00A0;"RedHat6")</span>
<span 
class="ectt-1000">&#x00A0;</span><br />
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;Queue</span>
</div>
<!--l. 1799--><p class="nopar" >
<!--l. 1802--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5.12   </span> <a 
 id="x17-510002.5.12"></a>Jobs That Require GPUs</h4>
<a 
 id="dx17-51001"></a>
<!--l. 1805--><p class="noindent" >A job that needs GPUs to run identifies the number of GPUs needed in the submit description file by adding the
submit command
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-87">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;request_GPUs</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;&#x003C;n&#x003E;</span>
</div>
<!--l. 1809--><p class="nopar" > where <span class="texttt">&#x003C;n&#x003E;</span> is replaced by the integer quantity of GPUs required for the job. For example, a job that needs 1 GPU
uses
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-88">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;request_GPUs</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;1</span>
</div>
<!--l. 1815--><p class="nopar" >
<!--l. 1817--><p class="indent" >   Because there are different capabilities among GPUs, the job might need to further qualify which GPU of
available ones is required. Do this by specifying or adding a clause to an existing <span class="textbf">Requirements</span><a 
 id="dx17-51002"></a> submit command.
As an example, assume that the job needs a speed and capacity of a CUDA GPU that meets or exceeds the value
1.2. In the submit description file, place
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-89">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;request_GPUs</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;1</span>
<span 
class="ectt-1000">&#x00A0;</span><br /><span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;requirements</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;(CUDACapability</span><span 
class="ectt-1000">&#x00A0;&#x003E;=</span><span 
class="ectt-1000">&#x00A0;1.2)</span><span 
class="ectt-1000">&#x00A0;&amp;&amp;</span><span 
class="ectt-1000">&#x00A0;$(requirements:True)</span>
</div>
<!--l. 1829--><p class="nopar" >
<!--l. 1831--><p class="indent" >   Access to GPU resources by an HTCondor job needs special configuration of the machines that offer GPUs.
Details of how to set up the configuration are in section&#x00A0;<a 
href="PolicyConfigurationforExecuteHostsandforSubmitHosts.html#x35-2580003.7.1">3.7.1<!--tex4ht:ref: sec:GPU-resources --></a>.
<!--l. 2--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5.13   </span> <a 
 id="x17-520002.5.13"></a>Interactive Jobs</h4>
<a 
 id="dx17-52001"></a>
<a 
 id="dx17-52002"></a>
<!--l. 7--><p class="noindent" >An <span class="emph">interactive job</span> is a Condor job that is provisioned and scheduled like any other vanilla universe
Condor job onto an execute machine within the pool. The result of a running interactive job is a shell
prompt issued on the execute machine where the job runs. The user that submitted the interactive job
may then use the shell as desired, perhaps to interactively run an instance of what is to become a
Condor job. This might aid in checking that the set up and execution environment are correct, or it
might provide information on the RAM or disk space needed. This job (shell) continues until the user
logs out or any other policy implementation causes the job to stop running. A useful feature of the
interactive job is that the users and jobs are accounted for within Condor&#8217;s scheduling and priority
system.
<!--l. 24--><p class="indent" >   Neither the submit nor the execute host for interactive jobs may be on Windows platforms.
<!--l. 27--><p class="indent" >   The current working directory of the shell will be the initial working directory of the running job. The shell
type will be the default for the user that submits the job. At the shell prompt, X11 forwarding is
enabled.
<!--l. 33--><p class="indent" >   Each interactive job will have a job ClassAd attribute of
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-90">
<span 
class="ectt-1000">&#x00A0;</span><span 
class="ectt-1000">&#x00A0;InteractiveJob</span><span 
class="ectt-1000">&#x00A0;=</span><span 
class="ectt-1000">&#x00A0;True</span>
</div>
<!--l. 36--><p class="nopar" >
<!--l. 38--><p class="indent" >   Submission of an interactive job specifies the option <span class="textbf">-interactive</span> on the <span class="textit">condor_submit</span> command
line.
<!--l. 41--><p class="indent" >   A submit description file may be specified for this interactive job. Within this submit description file, a
specification of these 5 commands will be either ignored or altered:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x17-52004x1"><span class="textbf">executable</span><a 
 id="dx17-52005"></a>
     </li>
     <li 
  class="enumerate" id="x17-52007x2"><span class="textbf">transfer_executable</span><a 
 id="dx17-52008"></a>
     </li>
     <li 
  class="enumerate" id="x17-52010x3"><span class="textbf">arguments</span><a 
 id="dx17-52011"></a>
     </li>
     <li 
  class="enumerate" id="x17-52013x4"><span class="textbf">universe</span><a 
 id="dx17-52014"></a>. The interactive job is a vanilla universe job.
     </li>
     <li 
  class="enumerate" id="x17-52016x5"><span class="textbf">queue</span><a 
 id="dx17-52017"></a> <span class="textbf">&#x003C;n&#x003E;</span>. In this case the value of <span class="textbf">&#x003C;n&#x003E;</span> is ignored; exactly one interactive job is queued.</li></ol>
<!--l. 52--><p class="noindent" >The submit description file may specify anything else needed for the interactive job, such as files to transfer.
<!--l. 55--><p class="indent" >   If <span class="emph">no</span> submit description file is specified for the job, a default one is utilized as identified by the value of the
configuration variable <span class="texttt">INTERACTIVE_SUBMIT_FILE</span> <a 
 id="dx17-52018"></a><a 
 id="dx17-52019"></a>.
<!--l. 59--><p class="indent" >   Here are examples of situations where interactive jobs may be of benefit.
     <ul class="itemize1">
     <li class="itemize">An application that cannot be batch processed might be run as an interactive job. Where input or
     output cannot be captured in a file and the executable may not be modified, the interactive nature of
     the job may still be run on a pool machine, and within the purview of Condor.
     </li>
     <li class="itemize">A pool machine with specialized hardware that requires interactive handling can be scheduled with an
     interactive job that utilizes the hardware.
     </li>
     <li class="itemize">The debugging and set up of complex jobs or environments may benefit from an interactive session. This
     interactive session provides the opportunity to run scripts or applications, and as errors are identified,
     they can be corrected on the spot.
                                                                                         

                                                                                         
     </li>
     <li class="itemize">Development may have an interactive nature, and proceed more quickly when done on a pool machine.
     It may also be that the development platforms required reside within Condor&#8217;s purview as execute
     hosts.</li></ul>
                                                                                         

                                                                                         
<!--l. 1842--><p class="indent" >   <span style="font-size: 200%;"><a 
href="RunningaJobtheStepsToTake.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="RunningaJobtheStepsToTake.html#tailRunningaJobtheStepsToTake.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="SubmittingaJob.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="UsersManual.html#SubmittingaJob.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="ManagingaJob.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailSubmittingaJob.html"></a>  
</body></html> 
