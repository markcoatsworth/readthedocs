<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>condor_set_shutdown</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
<span style="font-size: 200%;"><a 
href="Condorrun.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorrun.html#tailCondorrun.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailCondorsetshutdown.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="CommandReferenceManualmanpages.html#Condorsetshutdown.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorsshtojob.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><a 
 id="x143-103100012"></a><span class="textit">condor_set_shutdown</span></h3>
<div class="sectionTOCS">
</div>
<!--l. 2--><p class="noindent" >Set a program to execute upon <span class="textit">condor_master</span> shut down  <a 
 id="dx143-1031001"></a><a 
 id="dx143-1031002"></a>
<!--l. 6--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x143-103200012"></a>Synopsis</h4>
<!--l. 6--><p class="noindent" ><span class="textbf"><span class="textit">condor_set_shutdown</span></span>  [<span class="textbf">-help | -version</span>]
<!--l. 9--><p class="noindent" ><span class="textbf"><span class="textit">condor_set_shutdown</span></span> <span class="textbf">-exec&#x00A0;</span><span class="textit">programname</span>  [<span class="textbf">-debug</span>]  [<span class="textbf">-pool&#x00A0;&#x00A0;</span><span class="textit">centralmanagerhostname[:portnumber]</span>] [
<span class="textbf">-name&#x00A0;</span><span class="textit">hostname</span> | <span class="textit">hostname</span> | <span class="textbf">-addr&#x00A0;</span><span class="textit">"&#x003C;a.b.c.d:port&#x003E;"</span> | <span class="textit">"&#x003C;a.b.c.d:port&#x003E;"</span> | <span class="textbf">-constraint&#x00A0;</span><span class="textit">expression</span> | <span class="textbf">-all</span>
]
<!--l. 14--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x143-103300012"></a>Description</h4>
<!--l. 16--><p class="noindent" ><span class="textit">condor_set_shutdown</span> sets a program (typically a script) to execute when the <span class="textit">condor_master</span> daemon shuts down.
The <span class="textbf">-exec&#x00A0;</span><span class="textit">programname</span> argument is required, and specifies the program to run. The string <span class="textit">programname</span> must
match the string that defines <span class="texttt">Name</span> in the configuration variable <span class="texttt">MASTER_SHUTDOWN_&#x003C;Name&#x003E;</span> in the <span class="textit">condor_master</span>
daemon&#8217;s configuration. If it does not match, the <span class="textit">condor_master</span> will log an error and ignore the
request.
<!--l. 27--><p class="noindent" >For security reasons of authentication and authorization, this command requires ADMINISTRATOR level of
access.
<!--l. 30--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x143-103400012"></a>Options</h4>
                                                                                         

                                                                                         
     <dl class="description"><dt class="description">
<span class="textbf">-help</span> </dt><dd 
class="description">Display usage information<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-version</span> </dt><dd 
class="description">Display version information<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-debug</span> </dt><dd 
class="description">Causes debugging information to be sent to <span class="texttt">stderr</span>, based on the value of the configuration variable
     <span class="texttt">TOOL_DEBUG</span>.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-pool&#x00A0;</span><span class="textit">centralmanagerhostname[:portnumber]</span> </dt><dd 
class="description">Specify  a  pool  by  giving  the  central  manager&#8217;s  host
     name and an optional port number<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-name&#x00A0;</span><span class="textit">hostname</span> </dt><dd 
class="description">Send the command to a machine identified by <span class="textit">hostname</span><br 
class="newline" />
     </dd><dt class="description">
<span class="textit">hostname</span> </dt><dd 
class="description">Send the command to a machine identified by <span class="textit">hostname</span><br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-addr&#x00A0;</span><span class="textit">"&#x003C;a.b.c.d:port&#x003E;"</span> </dt><dd 
class="description">Send the command to a machine&#8217;s master located at <span class="textit">"&#x003C;a.b.c.d:port&#x003E;"</span><br 
class="newline" />
     </dd><dt class="description">
<span class="textit">"&#x003C;a.b.c.d:port&#x003E;"</span> </dt><dd 
class="description">Send the command to a machine located at <span class="textit">"&#x003C;a.b.c.d:port&#x003E;"</span><br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-constraint&#x00A0;</span><span class="textit">expression</span> </dt><dd 
class="description">Apply this command only to machines matching the given ClassAd <span class="textit">expression</span><br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-all</span> </dt><dd 
class="description">Send the command to all machines in the pool<br 
class="newline" /></dd></dl>
                                                                                         

                                                                                         
<!--l. 36--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x143-103500012"></a>Exit Status</h4>
<!--l. 37--><p class="noindent" ><span class="textit">condor_set_shutdown</span> will exit with a status value of 0 (zero) upon success, and it will exit with the value 1 (one)
upon failure.
<!--l. 41--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x143-103600012"></a>Examples</h4>
<!--l. 42--><p class="noindent" >To have all <span class="textit">condor_master</span> daemons run the program <span class="textit">/bin/reboot</span> upon shut down, configure the <span class="textit">condor_master</span> to
contain a definition similar to:
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-1098">
<tspan font-family="ectt" font-size="1000">MASTER_SHUTDOWN_REBOOT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/sbin/reboot</tspan>
</div>
<!--l. 47--><p class="nopar" > where <span class="texttt">REBOOT</span> is an invented name for this program that the <span class="textit">condor_master</span> will execute. On the command line,
run
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-1099">
<tspan font-family="ectt" font-size="1000">%</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_set_shutdown</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-exec</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;reboot</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-all</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">%</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_off</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-graceful</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-all</tspan>
</div>
<!--l. 54--><p class="nopar" > where the string <span class="obeylines-h"><span class="verb">reboot</span></span> matches the invented name.
<!--l. 57--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x143-103700012"></a>Author</h4>
<!--l. 57--><p class="noindent" >Center for High Throughput Computing, University of Wisconsin&#8211;Madison
<h4 class="likesubsectionHead"><a 
 id="x143-103800012"></a>Copyright</h4>
<!--l. 57--><p class="noindent" >Copyright ©&#x00A0;1990-2019 Center for High Throughput Computing, Computer Sciences Department, University of
Wisconsin-Madison, Madison, WI. All Rights Reserved. Licensed under the Apache License, Version 2.0.
                                                                                         

                                                                                         
                                                                                         

                                                                                         
<!--l. 2--><p class="noindent" ><span style="font-size: 200%;"><a 
href="Condorrun.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorrun.html#tailCondorrun.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorsetshutdown.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="CommandReferenceManualmanpages.html#Condorsetshutdown.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorsshtojob.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailCondorsetshutdown.html"></a>  
</body></html> 
