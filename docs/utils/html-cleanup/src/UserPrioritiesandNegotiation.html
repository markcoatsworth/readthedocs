<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>User Priorities and Negotiation</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
   <span style="font-size: 200%;"><a 
href="ConfigurationMacros.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="ConfigurationMacros.html#tailConfigurationMacros.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailUserPrioritiesandNegotiation.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="AdministratorsManual.html#UserPrioritiesandNegotiation.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="PolicyConfigurationforExecuteHostsandforSubmitHosts.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><span class="titlemark">3.6   </span> <a 
 id="x34-2320003.6"></a>User Priorities and Negotiation</h3>
   <div class="sectionTOCS">
   &#x00A0;&#x00A0;<span class="subsectionToc" >3.6.1 <a 
href="#x34-2330003.6.1">Real User Priority (RUP)</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.6.2 <a 
href="#x34-2340003.6.2">Effective User Priority (EUP)</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.6.3 <a 
href="#x34-2350003.6.3">Priorities in Negotiation and Preemption</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.6.4 <a 
href="#x34-2360003.6.4">Priority Calculation</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.6.5 <a 
href="#x34-2370003.6.5">Negotiation</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.6.6 <a 
href="#x34-2380003.6.6">The Layperson&#8217;s Description of the Pie Spin and Pie Slice</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.6.7 <a 
href="#x34-2390003.6.7">Group Accounting</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.6.8 <a 
href="#x34-2400003.6.8">Accounting Groups with Hierarchical Group Quotas</a></span>
   </div>
<a 
 id="dx34-232001"></a>
<a 
 id="dx34-232002"></a>
<!--l. 25--><p class="indent" >   HTCondor uses priorities to determine machine allocation for jobs. This section details the priorities and the
allocation of machines (negotiation).
<!--l. 29--><p class="indent" >   For accounting purposes, each user is identified by username@uid_domain. Each user is assigned a priority value
even if submitting jobs from different machines in the same domain, or even if submitting from multiple machines in
the different domains.
<!--l. 34--><p class="indent" >   The numerical priority value assigned to a user is inversely related to the <span class="emph">goodness</span> of the priority. A user with a
numerical priority of 5 gets more resources than a user with a numerical priority of 50. There are two priority values
assigned to HTCondor users:
     <ul class="itemize1">
     <li class="itemize">Real User Priority (RUP), which measures resource usage of the user.
     </li>
     <li class="itemize">Effective User Priority (EUP), which determines the number of resources the user can get.</li></ul>
<!--l. 46--><p class="noindent" >This section describes these two priorities and how they affect resource allocations in HTCondor. Documentation on
                                                                                         

                                                                                         
configuring and controlling priorities may be found in section&#x00A0;<a 
href="ConfigurationMacros.html#x33-2020003.5.15">3.5.15<!--tex4ht:ref: sec:Negotiator-Config-File-Entries --></a>.
<!--l. 52--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.6.1   </span> <a 
 id="x34-2330003.6.1"></a>Real User Priority (RUP)</h4>
<a 
 id="dx34-233001"></a>
<a 
 id="dx34-233002"></a>
<!--l. 56--><p class="noindent" >A user&#8217;s RUP measures the resource usage of the user through time. Every user begins with a RUP of one half (0.5),
and at steady state, the RUP of a user equilibrates to the number of resources used by that user. Therefore, if a
specific user continuously uses exactly ten resources for a long period of time, the RUP of that user stabilizes at
ten.
<!--l. 64--><p class="indent" >   However, if the user decreases the number of resources used, the RUP gets better. The rate at which the
priority value decays can be set by the macro <span class="texttt">PRIORITY_HALFLIFE</span> <a 
 id="dx34-233003"></a><a 
 id="dx34-233004"></a>, a time period defined in seconds.
Intuitively, if the <span class="texttt">PRIORITY_HALFLIFE</span> <a 
 id="dx34-233005"></a><a 
 id="dx34-233006"></a> in a pool is set to 86400 (one day), and if a user whose RUP
was 10 has no running jobs, that user&#8217;s RUP would be 5 one day later, 2.5 two days later, and so
on.
<!--l. 74--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.6.2   </span> <a 
 id="x34-2340003.6.2"></a>Effective User Priority (EUP)</h4>
<a 
 id="dx34-234001"></a>
<a 
 id="dx34-234002"></a>
<!--l. 78--><p class="noindent" >The effective user priority (EUP) of a user is used to determine how many resources that user may
receive. The EUP is linearly related to the RUP by a <span class="emph">priority factor</span> which may be defined on a per-user
basis. Unless otherwise configured, an initial priority factor for all users as they first submit jobs is set
by the configuration variable <span class="texttt">DEFAULT_PRIO_FACTOR</span> <a 
 id="dx34-234003"></a><a 
 id="dx34-234004"></a>, and defaults to the value 1000.0. If desired,
the priority factors of specific users can be increased using <span class="textit">condor_userprio</span>, so that some are served
preferentially.
<!--l. 90--><p class="indent" >   The number of resources that a user may receive is inversely related to the ratio between the EUPs of submitting
users. Therefore user A with EUP=5 will receive twice as many resources as user B with EUP=10 and four times as
many resources as user C with EUP=20. However, if A does not use the full number of resources that A may be
given, the available resources are repartitioned and distributed among remaining users according to the inverse ratio
rule.
<!--l. 100--><p class="indent" >   HTCondor supplies mechanisms to directly support two policies in which EUP may be useful:
     <dl class="description"><dt class="description">
Nice users </dt><dd 
class="description">A job may be submitted with the submit command <span class="textbf">nice_user</span><a 
 id="dx34-234005"></a> set to <span class="texttt">True</span>. This nice user job
     will have its RUP boosted by the <span class="texttt">NICE_USER_PRIO_FACTOR</span><a 
 id="dx34-234006"></a><a 
 id="dx34-234007"></a> priority factor specified in the configuration,
                                                                                         

                                                                                         
     leading to a very large EUP. This corresponds to a low priority for resources, therefore using resources
     not used by other HTCondor users.
     </dd><dt class="description">
Remote Users </dt><dd 
class="description">HTCondor&#8217;s flocking feature (see section&#x00A0;<a 
href="ConnectingHTCondorPoolswithFlocking.html#x55-4510005.2">5.2<!--tex4ht:ref: sec:Flocking --></a>) allows jobs to run in a pool other than the
     local one. In addition, the submit-only feature allows a user to submit jobs to another pool. In such
     situations, submitters from other domains can submit to the local pool. It may be desirable to have
     HTCondor treat local users preferentially over these remote users. If configured, HTCondor will boost
     the RUPs of remote users by <span class="texttt">REMOTE_PRIO_FACTOR</span> <a 
 id="dx34-234008"></a><a 
 id="dx34-234009"></a> specified in the configuration, thereby lowering
     their priority for resources.</dd></dl>
<!--l. 126--><p class="indent" >   The priority boost factors for individual users can be set with the <span class="textbf">setfactor</span> option of <span class="textit">condor_userprio</span>. Details
may be found in the <span class="textit">condor_userprio</span> manual page on page&#x00A0;<a 
href="Condoruserprio.html#x160-116800012">2298<!--tex4ht:ref: man-condor-userprio --></a>.
<!--l. 133--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.6.3   </span> <a 
 id="x34-2350003.6.3"></a>Priorities in Negotiation and Preemption</h4>
<a 
 id="dx34-235001"></a>
<a 
 id="dx34-235002"></a>
<a 
 id="dx34-235003"></a>
<!--l. 138--><p class="noindent" >Priorities are used to ensure that users get their fair share of resources. The priority values are used at allocation
time, meaning during negotiation and matchmaking. Therefore, there are ClassAd attributes that take on defined
values only during negotiation, making them ephemeral. In addition to allocation, HTCondor may preempt a
machine claim and reallocate it when conditions change.
<!--l. 146--><p class="indent" >   Too many preemptions lead to thrashing, a condition in which negotiation for a machine identifies a new job
with a better priority most every cycle. Each job is, in turn, preempted, and no job finishes. To avoid this situation,
the <span class="texttt">PREEMPTION_REQUIREMENTS</span> <a 
 id="dx34-235004"></a><a 
 id="dx34-235005"></a> configuration variable is defined for and used only by the <span class="textit">condor_negotiator</span>
daemon to specify the conditions that must be met for a preemption to occur. When preemption is enabled, it is
usually defined to deny preemption if a current running job has been running for a relatively short period
of time. This effectively limits the number of preemptions per resource per time interval. Note that
<span class="texttt">PREEMPTION_REQUIREMENTS</span> only applies to preemptions due to user priority. It does not have any
effect if the machine&#8217;s <span class="texttt">RANK</span> expression prefers a different job, or if the machine&#8217;s policy causes the job
to vacate due to other activity on the machine. See section <a 
href="PolicyConfigurationforExecuteHostsandforSubmitHosts.html#x35-2520003.7.1">3.7.1<!--tex4ht:ref: sec:DisablingPreemption --></a> for the current default policy on
preemption.
<!--l. 167--><p class="indent" >   The following ephemeral attributes may be used within policy definitions. Care should be taken when using these
attributes, due to their ephemeral nature; they are not always defined, so the usage of an expression to check if
defined such as
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-488">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(RemoteUserPrio</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=?=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;UNDEFINED)</tspan>
</div>
<!--l. 174--><p class="nopar" > is likely necessary.
<!--l. 177--><p class="indent" >   Within these attributes, those with names that contain the string <span class="texttt">Submitter</span> refer to characteristics about the
candidate job&#8217;s user; those with names that contain the string <span class="texttt">Remote</span> refer to characteristics about the user
currently using the resource. Further, those with names that end with the string <span class="texttt">ResourcesInUse</span> have values that
may change within the time period associated with a single negotiation cycle. Therefore, the configuration variables
<span class="texttt">PREEMPTION_REQUIREMENTS_STABLE</span> <a 
 id="dx34-235006"></a><a 
 id="dx34-235007"></a> and and <span class="texttt">PREEMPTION_RANK_STABLE</span> <a 
 id="dx34-235008"></a><a 
 id="dx34-235009"></a> exist to inform the <span class="textit">condor_negotiator</span>
daemon that values may change. See section&#x00A0;<a 
href="ConfigurationMacros.html#x33-2020003.5.15">3.5.15<!--tex4ht:ref: param:PreemptionRequirementsStable --></a> on page&#x00A0;<a 
href="ConfigurationMacros.html#x33-2020003.5.15">741<!--tex4ht:ref: param:PreemptionRequirementsStable --></a> for definitions of these configuration
variables.
     <dl class="description"><dt class="description">
<a 
 id="dx34-235010"></a><span class="texttt">SubmitterUserPrio</span>: </dt><dd 
class="description">A floating point value representing the user priority of the candidate job.
     </dd><dt class="description">
<a 
 id="dx34-235011"></a><span class="texttt">SubmitterUserResourcesInUse</span>: </dt><dd 
class="description">The integer number of slots currently utilized by the user submitting the
     candidate job.
     </dd><dt class="description">
<a 
 id="dx34-235012"></a><span class="texttt">RemoteUserPrio</span>: </dt><dd 
class="description">A floating point value representing the user priority of the job currently running on the
     machine. This version of the attribute, with no slot represented in the attribute name, refers to the
     current slot being evaluated.
     </dd><dt class="description">
<a 
 id="dx34-235013"></a><span class="texttt">Slot&#x003C;N&#x003E;_RemoteUserPrio</span>: </dt><dd 
class="description">A floating point value representing the user priority of the job currently running
     on the particular slot represented by <span class="obeylines-h"><span class="verb">&#x003C;N&#x003E;</span></span> on the machine.
     </dd><dt class="description">
<a 
 id="dx34-235014"></a><span class="texttt">RemoteUserResourcesInUse</span>: </dt><dd 
class="description">The integer number of slots currently utilized by the user of the job currently
     running on the machine.
     </dd><dt class="description">
<a 
 id="dx34-235015"></a><span class="texttt">SubmitterGroupResourcesInUse</span>: </dt><dd 
class="description">If the owner of the candidate job is a member of a valid accounting group,
     with a defined group quota, then this attribute is the integer number of slots currently utilized by the
     group.
     </dd><dt class="description">
<a 
 id="dx34-235016"></a><span class="texttt">SubmitterGroup</span>: </dt><dd 
class="description">The accounting group name of the requesting submitter.
     </dd><dt class="description">
<a 
 id="dx34-235017"></a><span class="texttt">SubmitterGroupQuota</span>: </dt><dd 
class="description">If the owner of the candidate job is a member of a valid accounting group, with a
     defined group quota, then this attribute is the integer number of slots defined as the group&#8217;s quota.
                                                                                         

                                                                                         
     </dd><dt class="description">
<a 
 id="dx34-235018"></a><span class="texttt">RemoteGroupResourcesInUse</span>: </dt><dd 
class="description">If the owner of the currently running job is a member of a valid accounting
     group, with a defined group quota, then this attribute is the integer number of slots currently utilized
     by the group.
     </dd><dt class="description">
<a 
 id="dx34-235019"></a><span class="texttt">RemoteGroup</span>: </dt><dd 
class="description">The accounting group name of the owner of the currently running job.
     </dd><dt class="description">
<a 
 id="dx34-235020"></a><span class="texttt">RemoteGroupQuota</span>: </dt><dd 
class="description">If the owner of the currently running job is a member of a valid accounting group, with
     a defined group quota, then this attribute is the integer number of slots defined as the group&#8217;s quota.
     </dd><dt class="description">
<a 
 id="dx34-235021"></a><span class="texttt">SubmitterNegotiatingGroup</span>: </dt><dd 
class="description">The accounting group name that the candidate job is negotiating under.
     </dd><dt class="description">
<a 
 id="dx34-235022"></a><span class="texttt">RemoteNegotiatingGroup</span>: </dt><dd 
class="description">The accounting group name that the currently running job negotiated under.
     </dd><dt class="description">
<a 
 id="dx34-235023"></a><span class="texttt">SubmitterAutoregroup</span>: </dt><dd 
class="description">Boolean attribute is <span class="texttt">True</span> if candidate job is negotiated via autoregoup.
     </dd><dt class="description">
<a 
 id="dx34-235024"></a><span class="texttt">RemoteAutoregroup</span>: </dt><dd 
class="description">Boolean attribute is <span class="texttt">True</span> if currently running job negotiated via autoregoup.</dd></dl>
<!--l. 247--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.6.4   </span> <a 
 id="x34-2360003.6.4"></a>Priority Calculation</h4>
<!--l. 249--><p class="noindent" >This section may be skipped if the reader so feels, but for the curious, here is HTCondor&#8217;s priority calculation
algorithm.
<!--l. 252--><p class="indent" >   The RUP of a user u at time t, &#x03C0;<sub>r</sub>(u,t), is calculated every time interval &#x03B4;t using the formula
   <center class="math-display" >
<img 
src="ref1x.png" alt="&#x03C0;r(u,t) = &#x03B2; &#x00D7; &#x03C0;r(u,t- &#x03B4;t)+ (1- &#x03B2;)&#x00D7; &#x03C1;(u,t)  " class="math-display" ></center> where
&#x03C1;(u,t) is the number of resources used by user u at time t, and &#x03B2; = 0.5<sup>&#x03B4;t&#x2215;h</sup>. h is the half life period set by
<span class="texttt">PRIORITY_HALFLIFE</span> <a 
 id="dx34-236001"></a><a 
 id="dx34-236002"></a>.
<!--l. 259--><p class="indent" >   The EUP of user u at time t, &#x03C0;<sub>e</sub>(u,t) is calculated by
                                                                                         

                                                                                         
   <center class="math-display" >
<img 
src="ref2x.png" alt="&#x03C0; (u,t) = &#x03C0; (u,t)&#x00D7; f(u,t)
  e       r  " class="math-display" ></center> where
f(u,t) is the priority boost factor for user u at time t.
<!--l. 264--><p class="indent" >   As mentioned previously, the RUP calculation is designed so that at steady state, each user&#8217;s RUP stabilizes at
the number of resources used by that user. The definition of &#x03B2; ensures that the calculation of &#x03C0;<sub>r</sub>(u,t) can be
calculated over non-uniform time intervals &#x03B4;t without affecting the calculation. The time interval &#x03B4;t varies due to
events internal to the system, but HTCondor guarantees that unless the central manager machine is down, no
matches will be unaccounted for due to this variance.
<!--l. 292--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.6.5   </span> <a 
 id="x34-2370003.6.5"></a>Negotiation</h4>
<a 
 id="dx34-237001"></a>
<a 
 id="dx34-237002"></a>
<!--l. 297--><p class="noindent" >Negotiation is the method HTCondor undergoes periodically to match queued jobs with resources capable of
running jobs. The <span class="textit">condor_negotiator</span> daemon is responsible for negotiation.
<!--l. 302--><p class="indent" >   During a negotiation cycle, the <span class="textit">condor_negotiator</span> daemon accomplishes the following ordered list of
items.
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x34-237004x1">Build a list of all possible resources, regardless of the state of those resources.
     </li>
     <li 
  class="enumerate" id="x34-237006x2">Obtain a list of all job submitters (for the entire pool).
     </li>
     <li 
  class="enumerate" id="x34-237008x3">Sort the list of all job submitters based on EUP (see section &#x00A0;<a 
href="#x34-2340003.6.2">3.6.2<!--tex4ht:ref: sec:EUP --></a> for an explanation of EUP). The
     submitter with the best priority is first within the sorted list.
     </li>
     <li 
  class="enumerate" id="x34-237010x4">Iterate until there are either no more resources to match, or no more jobs to match.
         <dl class="description"><dt class="description">
      </dt><dd 
class="description">For each submitter (in EUP order):
             <dl class="description"><dt class="description">
          </dt><dd 
class="description">For each submitter, get each job. Since jobs may be submitted from more than one machine (hence to
                                                                                         

                                                                                         
             more than one <span class="textit">condor_schedd</span> daemon), here is a further definition of the ordering of these jobs.
             With jobs from a single <span class="textit">condor_schedd</span> daemon, jobs are typically returned in job priority order.
             When more than one <span class="textit">condor_schedd</span> daemon is involved, they are contacted in an undefined order.
             All jobs from a single <span class="textit">condor_schedd</span> daemon are considered before moving on to the next. For each
             job:
                <ul class="itemize1">
                <li class="itemize">For each machine in the pool that can execute jobs:
                  <ol  class="enumerate2" >
                  <li 
  class="enumerate" id="x34-237012x1">If  <span class="texttt">machine.requirements</span> evaluates  to  <span class="texttt">False</span> or  <span class="texttt">job.requirements</span> evaluates  to
                  <span class="texttt">False</span>, skip this machine
                  </li>
                  <li 
  class="enumerate" id="x34-237014x2">If the machine is in the Claimed state, but not running a job, skip this machine.
                  </li>
                  <li 
  class="enumerate" id="x34-237016x3">If this machine is not running a job, add it to the potential match list by reason of No
                  Preemption.
                  </li>
                  <li 
  class="enumerate" id="x34-237018x4">If the machine is running a job
                    <ul class="itemize2">
                    <li class="itemize">If the <span class="texttt">machine.RANK</span> on this job is better than the running job, add this machine to
                    the potential match list by reason of Rank.
                    </li>
                    <li class="itemize">If the EUP of this job is better than the EUP of the currently running job, and
                    <span class="texttt">PREEMPTION_REQUIREMENTS</span> is <span class="texttt">True</span>, and the <span class="texttt">machine.RANK</span> on this job is not worse
                    than the currently running job, add this machine to the potential match list by reason
                    of Priority.</li></ul>
                  </li></ol>
                </li>
                <li class="itemize">Of machines in the potential match list, sort by <span class="texttt">NEGOTIATOR_PRE_JOB_RANK</span>, <span class="texttt">job.RANK</span>,
                <span class="texttt">NEGOTIATOR_POST_JOB_RANK</span>, Reason for claim (No Preemption, then Rank, then Priority),
                <span class="texttt">PREEMPTION_RANK</span>
                </li>
                <li class="itemize">The job is assigned to the top machine on the potential match list. The machine is removed from
                the list of resources to match (on this negotiation cycle).</li></ul>
             </dd></dl>
         </dd></dl>
     </li></ol>
<!--l. 366--><p class="indent" >   The <span class="textit">condor_negotiator</span> asks the <span class="textit">condor_schedd</span> for the "next job" from a given submitter/user. Typically, the
<span class="textit">condor_schedd</span> returns jobs in the order of job priority. If priorities are the same, job submission time is used; older
jobs go first. If a cluster has multiple procs in it and one of the jobs cannot be matched, the <span class="textit">condor_schedd</span> will not
return any more jobs in that cluster on that negotiation pass. This is an optimization based on the theory that the
cluster jobs are similar. The configuration variable <span class="texttt">NEGOTIATE_ALL_JOBS_IN_CLUSTER</span> <a 
 id="dx34-237019"></a><a 
 id="dx34-237020"></a> disables the cluster-skipping
optimization. Use of the configuration variable <span class="texttt">SIGNIFICANT_ATTRIBUTES</span> <a 
 id="dx34-237021"></a><a 
 id="dx34-237022"></a> will change the definition of
what the <span class="textit">condor_schedd</span> considers a cluster from the default definition of all jobs that share the same
                                                                                         

                                                                                         
<span class="texttt">ClusterId</span>.
<!--l. 384--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.6.6   </span> <a 
 id="x34-2380003.6.6"></a>The Layperson&#8217;s Description of the Pie Spin and Pie Slice</h4>
<a 
 id="dx34-238001"></a>
<a 
 id="dx34-238002"></a>
<a 
 id="dx34-238003"></a>
<a 
 id="dx34-238004"></a>
<!--l. 391--><p class="noindent" >HTCondor schedules in a variety of ways. First, it takes all users who have submitted jobs and calculates their
priority. Then, it totals the number of resources available at the moment, and using the ratios of the user priorities,
it calculates the number of machines each user could get. This is their <span class="emph">pie slice</span>.
<!--l. 398--><p class="indent" >   The HTCondor matchmaker goes in user priority order, contacts each user, and asks for job information. The
<span class="textit">condor_schedd</span> daemon (on behalf of a user) tells the matchmaker about a job, and the matchmaker looks at
available resources to create a list of resources that match the requirements expression. With the list of resources
that match, it sorts them according to the rank expressions within ClassAds. If a machine prefers a job, the job is
assigned to that machine, potentially preempting a job that might already be running on that machine. Otherwise,
give the machine to the job that the job ranks highest. If the machine ranked highest is already running a job, we
may preempt running job for the new job. When preemption is enabled, a reasonable policy states
that the user must have a 20%&#x00A0;better priority in order for preemption to succeed. If the job has no
preferences as to what sort of machine it gets, matchmaking gives it the first idle resource to meet its
requirements.
<!--l. 418--><p class="indent" >   This matchmaking cycle continues until the user has received all of the machines in their pie slice. The
matchmaker then contacts the next highest priority user and offers that user their pie slice worth of machines. After
contacting all users, the cycle is repeated with any still available resources and recomputed pie slices. The
matchmaker continues <span class="emph">spinning the pie</span> until it runs out of machines or all the <span class="textit">condor_schedd</span> daemons say they
have no more jobs.
<!--l. 430--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.6.7   </span> <a 
 id="x34-2390003.6.7"></a>Group Accounting</h4>
<a 
 id="dx34-239001"></a>
<a 
 id="dx34-239002"></a>
<a 
 id="dx34-239003"></a>
<!--l. 436--><p class="noindent" >By default, HTCondor does all accounting on a per-user basis, and this accounting is primarily used to compute
priorities for HTCondor&#8217;s fair-share scheduling algorithms. However, accounting can also be done on a per-group
basis. Multiple users can all submit jobs into the same accounting group, and all jobs with the same accounting
group will be treated with the same priority. Jobs that do <span class="emph">not</span> specify an accounting group have all accounting and
priority based on the user, which may be identified by the job ClassAd attribute <span class="texttt">Owner</span>. Jobs that
                                                                                         

                                                                                         
do specify an accounting group have all accounting and priority based on the specified accounting
group. Therefore, accounting based on groups only works when the jobs correctly identify their group
membership.
<a 
 id="dx34-239004"></a>
<a 
 id="dx34-239005"></a>
<!--l. 453--><p class="indent" >   The preferred method for having a job associate itself with an accounting group adds a command to the submit
description file that specifies the group name:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-489">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;accounting_group</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;group_physics</tspan>
</div>
<!--l. 458--><p class="nopar" > This command causes the job ClassAd attribute <span class="texttt">AcctGroup</span> to be set with this group name.
<!--l. 462--><p class="indent" >   If the user name of the job submitter should be other than the <span class="texttt">Owner</span> job ClassAd attribute, an additional
command specifies the user name:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-490">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;accounting_group_user</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;albert</tspan>
</div>
<!--l. 466--><p class="nopar" > This command causes the job ClassAd attribute <span class="texttt">AcctGroupUser</span> to be set with this user name.
<a 
 id="dx34-239006"></a>
<!--l. 471--><p class="indent" >   The previous method for defining accounting groups is no longer recommended. It inserted the job
ClassAd attribute <span class="texttt">AccountingGroup</span> by setting it in the submit description file using the syntax in this
example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-491">
<tspan font-family="ectt" font-size="1000">+AccountingGroup</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"group_physics.albert"</tspan>
</div>
<!--l. 478--><p class="nopar" >
<!--l. 480--><p class="indent" >   In this previous method for defining accounting groups, the <span class="texttt">AccountingGroup</span> attribute is a string, and it
therefore must be enclosed in double quote marks.
<!--l. 484--><p class="indent" >   Much of the reason that the previous method for defining accounting groups is no longer recommended is that
the name of an accounting is that it used the period (.) character to separate the group name from the user name.
Therefore, the syntax did not work if a user name contained a period.
<!--l. 490--><p class="indent" >   The name should <span class="emph">not</span> be qualified with a domain. Certain parts of the HTCondor system do append the value
<span class="texttt">$(UID_DOMAIN)</span> (as specified in the configuration file on the submit machine) to this string for internal
use. For example, if the value of <span class="texttt">UID_DOMAIN</span> is <span class="texttt">example.com</span>, and the accounting group name is as
specified, <span class="textit">condor_userprio</span> will show statistics for this accounting group using the appended domain, for
example
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-492">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Effective</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">User</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Name</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Priority</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">------------------------------</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;---------</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">group_physics@example.com</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0.50</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">user@example.com</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;23.11</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">heavyuser@example.com</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;111.13</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">...</tspan>
</div>
<!--l. 509--><p class="nopar" >
<!--l. 512--><p class="indent" >   Additionally, the <span class="textit">condor_userprio</span> command allows administrators to remove an entity from the accounting
system in HTCondor. The <span class="textbf">-delete</span> option to <span class="textit">condor_userprio</span> accomplishes this if all the jobs from a given
accounting group are completed, and the administrator wishes to remove that group from the system. The
<span class="textbf">-delete</span> option identifies the accounting group with the fully-qualified name of the accounting group. For
example
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-493">
<tspan font-family="ectt" font-size="0800">condor_userprio</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;-delete</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;group_physics@example.com</tspan>
</div>
<!--l. 525--><p class="nopar" >
<!--l. 528--><p class="indent" >   HTCondor removes entities itself as they are no longer relevant. Intervention by an administrator to delete
entities can be beneficial when the use of thousands of short term accounting groups leads to scalability
issues.
<!--l. 536--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.6.8   </span> <a 
 id="x34-2400003.6.8"></a>Accounting Groups with Hierarchical Group Quotas</h4>
<a 
 id="dx34-240001"></a>
<a 
 id="dx34-240002"></a>
<a 
 id="dx34-240003"></a>
<a 
 id="dx34-240004"></a>
<!--l. 543--><p class="noindent" >An upper limit on the number of slots allocated to a group of users can be specified with group quotas. This policy
may be desired when different groups provide their computers to create one large HTCondor pool, and
want to restrict the number of jobs running from one group to the number of machines the group has
provided.
<!--l. 550--><p class="indent" >   Consider an example pool with thirty slots: twenty slots are owned by the physics group and ten are owned by
the chemistry group. The desired policy is that no more than twenty concurrent jobs are ever running from the
physicists, and only ten from the chemists. These machines are otherwise identical, so it does not matter
which machines run which group&#8217;s jobs. It only matters that the proportions of allocated slots are
correct.
<!--l. 559--><p class="indent" >   Instead of quotas, this could be implemented by configuring the <span class="texttt">RANK</span> expression such that the twenty machines
owned by the physics group prefer jobs submitted by the physics users. Likewise, the ten machines owned by the
chemistry group are configured to prefer jobs submitted by the chemistry group. However, this steers jobs to execute
on specific machines, instead of the desired policy which allocates numbers of machines, where these machines can
be any of the pool&#8217;s machines that are available.
<!--l. 568--><p class="indent" >   Group quotas may implement this policy. Define the groups and set their quotas in the configuration of the
central manager:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-494">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GROUP_NAMES</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;group_physics,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;group_chemistry</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GROUP_QUOTA_group_physics</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;20</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GROUP_QUOTA_group_chemistry</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;10</tspan>
</div>
<!--l. 576--><p class="nopar" >
<!--l. 578--><p class="indent" >   The implementation of quotas is hierarchical, such that quotas may be described for the tree of groups,
subgroups, sub subgroups, etc. Group names identify the groups, such that the configuration can define the quotas
in terms of limiting the number of cores allocated for a group or subgroup. Group names do not need
to begin with <span class="texttt">"group_"</span>, but that is the convention, which helps to avoid naming conflicts between
groups and subgroups. The hierarchy is identified by using the period (&#8217;.&#8217;) character to separate a group
name from a subgroup name from a sub subgroup name, etc. Group names are case-insensitive for
negotiation.
<a 
 id="dx34-240005"></a>
<a 
 id="dx34-240006"></a>
<!--l. 593--><p class="indent" >   At the root of the tree that defines the hierarchical groups is the invented "&#x003C;none&#x003E;" group. The
implied quota of the "&#x003C;none&#x003E;" group will be all available slots. This string will appear in the output of
<span class="textit">condor_status</span>.
<!--l. 598--><p class="indent" >   If the sum of the child quotas exceeds the parent, then the child quotas are scaled down in proportion to their
relative sizes. For the given example, there were 30 original slots at the root of the tree. If a power failure
removed half of the original 30, leaving fifteen slots, physics would be scaled back to a quota of ten, and
chemistry to five. This scaling can be disabled by setting the <span class="textit">condor_negotiator</span> configuration variable
<span class="texttt">NEGOTIATOR_ALLOW_QUOTA_OVERSUBSCRIPTION</span> <a 
 id="dx34-240007"></a><a 
 id="dx34-240008"></a> to <span class="texttt">True</span>. If the sum of the child quotas is less than
that of the parent, the child quotas remain intact; they are not scaled up. That is, if somehow the
number of slots doubled from thirty to sixty, physics would still be limited to 20 slots, and chemistry
would be limited to 10. This example in which the quota is defined by absolute values is called a static
quota.
<!--l. 617--><p class="indent" >   Each job must state which group it belongs to. Currently this is opt-in, and the system trusts each user to put
the correct group in the submit description file. Jobs that do not identify themselves as a group member are
negotiated for as part of the "&#x003C;none&#x003E;" group. Note that this requirement is per job, not per user. A given user may
be a member of many groups. Jobs identify which group they are in by setting the <span class="textbf">accounting_group</span><a 
 id="dx34-240009"></a> and
<span class="textbf">accounting_group_user</span><a 
 id="dx34-240010"></a> commands within the submit description file, as specified in section&#x00A0;<a 
href="#x34-2390003.6.7">3.6.7<!--tex4ht:ref: sec:group-accounting --></a>. For
example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-495">
<tspan font-family="ectt" font-size="1000">accounting_group</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;group_physics</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">accounting_group_user</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;einstein</tspan>
</div>
<!--l. 635--><p class="nopar" >
<!--l. 637--><p class="indent" >   The size of the quotas may instead be expressed as a proportion. This is then referred to as a dynamic group
quota, because the size of the quota is dynamically recalculated every negotiation cycle, based on the total available
size of the pool. Instead of using static quotas, this example can be recast using dynamic quotas, with one-third of
the pool allocated to chemistry and two-thirds to physics. The quotas maintain this ratio even as the size of the pool
changes, perhaps because of machine failures, because of the arrival of new machines within the pool, or because of
other reasons. The job submit description files remain the same. Configuration on the central manager
becomes:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-496">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GROUP_NAMES</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;group_physics,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;group_chemistry</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GROUP_QUOTA_DYNAMIC_group_chemistry</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.33</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GROUP_QUOTA_DYNAMIC_group_physics</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;0.66</tspan>
</div>
<!--l. 656--><p class="nopar" >
<!--l. 658--><p class="indent" >   The values of the quotas must be less than 1.0, indicating fractions of the pool&#8217;s machines. As with static quota
specification, if the sum of the children exceeds one, they are scaled down proportionally so that their sum does
equal 1.0. If their sum is less than one, they are not changed.
<!--l. 665--><p class="indent" >   Extending this example to incorporate subgroups, assume that the physics group consists of high-energy
(hep) and low-energy (lep) subgroups. The high-energy sub-group owns fifteen of the twenty physics
slots, and the low-energy group owns the remainder. Groups are distinguished from subgroups by an
intervening period character (<span class="obeylines-h"><span class="verb">.</span></span>) in the group&#8217;s name. Static quotas for these subgroups extend the example
configuration:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-497">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_NAMES</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;group_physics,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;group_physics.hep,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;group_physics.lep,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;group_chemistry</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_QUOTA_group_physics</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;20</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_QUOTA_group_physics.hep</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;15</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_QUOTA_group_physics.lep</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;5</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_QUOTA_group_chemistry</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;10</tspan>
</div>
<!--l. 681--><p class="nopar" >
<!--l. 684--><p class="indent" >   This hierarchy may be more useful when dynamic quotas are used. Here is the example, using dynamic
quotas:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-498">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_NAMES</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;group_physics,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;group_physics.hep,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;group_physics.lep,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;group_chemistry</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_QUOTA_DYNAMIC_group_chemistry</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0.33334</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_QUOTA_DYNAMIC_group_physics</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0.66667</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_QUOTA_DYNAMIC_group_physics.hep</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0.75</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_QUOTA_DYNAMIC_group_physics.lep</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0.25</tspan>
</div>
<!--l. 694--><p class="nopar" >
<!--l. 697--><p class="indent" >   The fraction of a subgroup&#8217;s quota is expressed with respect to its parent group&#8217;s quota. That is, the high-energy
physics subgroup is allocated 75% of the 66% that physics gets of the entire pool, however many that might be. If
there are 30 machines in the pool, that would be the same 15 machines as specified in the static quota
example.
<!--l. 705--><p class="indent" >   High-energy physics users indicate which group their jobs should go in with the submit description file
identification:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-499">
<tspan font-family="ectt" font-size="1000">accounting_group</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;group_physics.hep</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">accounting_group_user</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;higgs</tspan>
</div>
<!--l. 711--><p class="nopar" >
<!--l. 713--><p class="indent" >   In all these examples so far, the hierarchy is merely a notational convenience. Each of the examples could be
implemented with a flat structure, although it might be more confusing for the administrator. Surplus is the concept
that creates a true hierarchy.
<!--l. 719--><p class="indent" >   If a given group or sub-group accepts surplus, then that given group is allowed to exceed its configured quota, by
using the leftover, unused quota of other groups. Surplus is disabled for all groups by default. Accepting surplus may
be enabled for all groups by setting <span class="texttt">GROUP_ACCEPT_SURPLUS</span> <a 
 id="dx34-240011"></a><a 
 id="dx34-240012"></a> to <span class="texttt">True</span>. Surplus may be enabled for
individual groups by setting <span class="texttt">GROUP_ACCEPT_SURPLUS_&#x003C;groupname&#x003E;</span> <a 
 id="dx34-240013"></a><a 
 id="dx34-240014"></a> to <span class="texttt">True</span>. Consider the following
example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-500">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_NAMES</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;group_physics,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;group_physics.hep,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;group_physics.lep,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;group_chemistry</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_QUOTA_group_physics</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;20</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_QUOTA_group_physics.hep</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;15</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_QUOTA_group_physics.lep</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;5</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_QUOTA_group_chemistry</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;10</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_ACCEPT_SURPLUS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;false</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_ACCEPT_SURPLUS_group_physics</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;false</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_ACCEPT_SURPLUS_group_physics.lep</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;true</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GROUP_ACCEPT_SURPLUS_group_physics.hep</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;true</tspan>
</div>
<!--l. 740--><p class="nopar" >
<!--l. 743--><p class="indent" >   This configuration is the same as above for the chemistry users. However, <span class="texttt">GROUP_ACCEPT_SURPLUS</span> is set to <span class="texttt">False</span>
globally, <span class="texttt">False</span> for the physics parent group, and <span class="texttt">True</span> for the subgroups group_physics.lep and group_physics.lep.
This means that group_physics.lep and group_physics.hep are allowed to exceed their quota of 15
and 5, but their sum cannot exceed 20, for that is their parent&#8217;s quota. If the group_physics had
<span class="texttt">GROUP_ACCEPT_SURPLUS</span> set to <span class="texttt">True</span>, then either group_physics.lep and group_physics.hep would not be limited by
quota.
<!--l. 754--><p class="indent" >   Surplus slots are distributed bottom-up from within the quota tree. That is, any leaf nodes of
this tree with excess quota will share it with any peers which accept surplus. Any subsequent excess
will then be passed up to the parent node and over to all of its children, recursively. Any node that
does not accept surplus implements a hard cap on the number of slots that the sum of it&#8217;s children
use.
<!--l. 762--><p class="indent" >   After the <span class="textit">condor_negotiator</span> calculates the quota assigned to each group, possibly adding in surplus, it then
negotiates with the <span class="textit">condor_schedd</span> daemons in the system to try to match jobs to each group. It does this one
group at a time. By default, it goes in "starvation group order." That is, the group whose current usage is the
smallest fraction of its quota goes first, then the next, and so on. The "&#x003C;none&#x003E;" group implicitly at the root of the
tree goes last. This ordering can be replaced by defining configuration variable <span class="texttt">GROUP_SORT_EXPR</span> <a 
 id="dx34-240015"></a><a 
 id="dx34-240016"></a>. The
<span class="textit">condor_negotiator</span> evaluates this ClassAd expression for each group ClassAd, sorts the groups by the floating point
result, and then negotiates with the smallest positive value going first. Available attributes for sorting with
<span class="texttt">GROUP_SORT_EXPR</span> <a 
 id="dx34-240017"></a><a 
 id="dx34-240018"></a> include:
   <div class="table">
                                                                                         

                                                                                         
<!--l. 779--><p class="indent" >   <a 
 id="x34-2400191"></a><hr class="float"><div class="float" 
>
                                                                                         

                                                                                         
 <div class="caption" 
><span class="id">Table&#x00A0;3.1: </span><span  
class="content">Attributes visible to GROUP_SORT_EXPR</span></div><!--tex4ht:label?: x34-2400191 -->
<div class="tabular"> <table id="TBL-8" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-8-1g"><col 
id="TBL-8-1"></colgroup><colgroup id="TBL-8-2g"><col 
id="TBL-8-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-1-1"  
class="td11"><span class="emph">Attribute Name</span>       </td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-1-2"  
class="td11"><span class="emph">Description</span>                                   </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-2-1"  
class="td11">AccountingGroup      </td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-2-2"  
class="td11">A string containing the group name      </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-3-1"  
class="td11">GroupQuota             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-3-2"  
class="td11">The computed limit for this group        </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-4-1"  
class="td11">GroupQuotaInUse     </td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-4-2"  
class="td11">The total slot weight used by this group</td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-5-1"  
class="td11">GroupQuotaAllocated</td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-5-2"  
class="td11">Quota allocated this cycle                   </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-6-1"  
class="td11">                  </td></tr></table></div>
                                                                                         

                                                                                         
   </div><hr class="endfloat" />
   </div>
                                                                                         

                                                                                         
<!--l. 793--><p class="indent" >   One possible group quota policy is strict priority. For example, a site prefers physics users to match as many
slots as they can, and only when all the physics jobs are running, and idle slots remain, are chemistry jobs allowed
to run. The default "starvation group order" can be used to implement this. By setting configuration variable
<span class="texttt">NEGOTIATOR_ALLOW_QUOTA_OVERSUBSCRIPTION</span> <a 
 id="dx34-240020"></a><a 
 id="dx34-240021"></a> to <span class="texttt">True</span>, and setting the physics quota to a number so large that it
cannot ever be met, such as one million, the physics group will always be the "most starving" group, will
always negotiate first, and will always be unable to meet the quota. Only when all the physics jobs
are running will the chemistry jobs then run. If the chemistry quota is set to a value smaller than
physics, but still larger than the pool, this policy can support a third, even lower priority group, and so
on.
<!--l. 810--><p class="indent" >   The <span class="textit">condor_userprio</span> command can show the current quotas in effect, and the current usage by group. For
example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-501">
<tspan font-family="ectt" font-size="1000">$</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_userprio</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-quotas</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">Last</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Priority</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Update:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;11/12</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;15:18</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">Group</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Effective</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Config</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Use</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Subtree</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Requested</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">Name</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Quota</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Quota</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Surplus</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Quota</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Resources</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">------------------------</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;---------</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;---------</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-------</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;---------</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;----------</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">group_physics.hep</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;15.00</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;15.00</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;no</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;15.00</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;60</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">group_physics.lep</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;5.00</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;5.00</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;no</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;5.00</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;60</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">------------------------</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;---------</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;---------</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-------</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;---------</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;----------</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">Number</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;users:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;2</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ByQuota</tspan>
</div>
<!--l. 823--><p class="nopar" >
<!--l. 825--><p class="indent" >   This shows that there are two groups, each with 60 jobs in the queue. group_physics.hep has a quota of 15
machines, and group_physics.lep has 5 machines. Other options to <span class="textit">condor_userprio</span>, such as <span class="textbf">-most</span> will also show
the number of resources in use.
                                                                                         

                                                                                         
<!--l. 5--><p class="indent" >   <span style="font-size: 200%;"><a 
href="ConfigurationMacros.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="ConfigurationMacros.html#tailConfigurationMacros.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="UserPrioritiesandNegotiation.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="AdministratorsManual.html#UserPrioritiesandNegotiation.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="PolicyConfigurationforExecuteHostsandforSubmitHosts.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailUserPrioritiesandNegotiation.html"></a>  
</body></html> 
