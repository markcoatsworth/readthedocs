<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Security</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
   <span style="font-size: 200%;"><a 
href="PolicyConfigurationforExecuteHostsandforSubmitHosts.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="PolicyConfigurationforExecuteHostsandforSubmitHosts.html#tailPolicyConfigurationforExecuteHostsandforSubmitHosts.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailSecurity.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="AdministratorsManual.html#Security.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="NetworkingincludessectionsonPortUsageandCCB.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><span class="titlemark">3.8   </span> <a 
 id="x36-2680003.8"></a>Security</h3>
   <div class="sectionTOCS">
   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8.1 <a 
href="#x36-2690003.8.1">HTCondor&#8217;s Security Model</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2700003.8.1" id="QQ2-36-285">Access Level Descriptions</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8.2 <a 
href="#x36-2710003.8.2">Security Negotiation</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2720003.8.2" id="QQ2-36-287">Configuration</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2730003.8.2" id="QQ2-36-290">Configuration for Security Methods</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8.3 <a 
href="#x36-2740003.8.3">Authentication</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2750003.8.3" id="QQ2-36-292">GSI Authentication</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2760003.8.3" id="QQ2-36-293">SSL Authentication</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2770003.8.3" id="QQ2-36-294">Kerberos Authentication</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2780003.8.3" id="QQ2-36-295"> Password Authentication</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2790003.8.3" id="QQ2-36-296">File System Authentication</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2800003.8.3" id="QQ2-36-297">File System Remote Authentication</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2810003.8.3" id="QQ2-36-298">Windows Authentication</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2820003.8.3" id="QQ2-36-299">Ask MUNGE for Authentication</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2830003.8.3" id="QQ2-36-300">Claim To Be Authentication</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2840003.8.3" id="QQ2-36-301">Anonymous Authentication</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8.4 <a 
href="#x36-2850003.8.4">The Unified Map File for Authentication</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8.5 <a 
href="#x36-2860003.8.5">Encryption</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8.6 <a 
href="#x36-2870003.8.6">Integrity</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8.7 <a 
href="#x36-2880003.8.7">Authorization</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2890003.8.7" id="QQ2-36-306"> Example of Authorization Security Configuration</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2900003.8.7" id="QQ2-36-307"> Debugging Security Configuration</a></span>
                                                                                         

                                                                                         
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8.8 <a 
href="#x36-2910003.8.8">Security Sessions</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8.9 <a 
href="#x36-2920003.8.9">Host-Based Security in HTCondor</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8.10 <a 
href="#x36-2930003.8.10">Examples of Security Configuration</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8.11 <a 
href="#x36-2940003.8.11">Changing the Security Configuration</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8.12 <a 
href="#x36-2950003.8.12">Using HTCondor w/ Firewalls, Private Networks, and NATs</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8.13 <a 
href="#x36-2960003.8.13">User Accounts in HTCondor on Unix Platforms</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2970003.8.13" id="QQ2-36-314">Running HTCondor as Non-Root</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2980003.8.13" id="QQ2-36-315">Who Jobs Run As</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x36-2990003.8.13" id="QQ2-36-316">Working Directories for Jobs</a></span>
   </div>
<a 
 id="dx36-268001"></a>
<!--l. 6--><p class="indent" >   Security in HTCondor is a broad issue, with many aspects to consider. Because HTCondor&#8217;s main purpose is to
allow users to run arbitrary code on large numbers of computers, it is important to try to limit who can
access an HTCondor pool and what privileges they have when using the pool. This section covers these
topics.
<!--l. 12--><p class="indent" >   There is a distinction between the kinds of resource attacks HTCondor can defeat, and the kinds of attacks
HTCondor cannot defeat. HTCondor cannot prevent security breaches of users that can elevate their privilege to the
root or administrator account. HTCondor does not run user jobs in sandboxes (standard universe jobs are a
partial exception to this), so HTCondor cannot defeat all malicious actions by user jobs. An example of
a malicious job is one that launches a distributed denial of service attack. HTCondor assumes that
users are trustworthy. HTCondor can prevent unauthorized access to the HTCondor pool, to help
ensure that only trusted users have access to the pool. In addition, HTCondor provides encryption and
integrity checking, to ensure that network transmissions are not examined or tampered with while in
transit.
<!--l. 30--><p class="indent" >   Broadly speaking, the aspects of security in HTCondor may be categorized and described:
     <dl class="description"><dt class="description">
Users </dt><dd 
class="description">Authorization or capability in an operating system is based on a process owner. Both those that
     submit jobs and HTCondor daemons become process owners. The HTCondor system prefers that
     HTCondor daemons are run as the user root, while other common operations are owned by a user of
     HTCondor. Operations that do not belong to either root or an HTCondor user are often owned by
     the condor user. See Section&#x00A0;<a 
href="#x36-2960003.8.13">3.8.13<!--tex4ht:ref: sec:uids --></a> for more detail.
     </dd><dt class="description">
Authentication </dt><dd 
class="description">Proper identification of a user is accomplished by the process of authentication. It attempts
                                                                                         

                                                                                         
     to distinguish between real users and impostors. By default, HTCondor&#8217;s authentication uses the user id
     (UID) to determine identity, but HTCondor can choose among a variety of authentication mechanisms,
     including the stronger authentication methods Kerberos and GSI.
     </dd><dt class="description">
Authorization </dt><dd 
class="description">Authorization specifies who is allowed to do what. Some users are allowed to submit jobs,
     while  other  users  are  allowed  administrative  privileges  over  HTCondor  itself.  HTCondor  provides
     authorization on either a per-user or on a per-machine basis.
     </dd><dt class="description">
Privacy </dt><dd 
class="description">HTCondor may encrypt data sent across the network, which prevents others from viewing the data.
     With persistence and sufficient computing power, decryption is possible. HTCondor can encrypt the
     data sent for internal communication, as well as user data, such as files and executables. Encryption
     operates on network transmissions: unencrypted data is stored on disk by default. However, see the
     <span class="texttt">ENCRYPT_EXECUTE_DIRECTORY</span> <a 
 id="dx36-268002"></a><a 
 id="dx36-268003"></a> setting for how to encrypt job data on the disk of an execute node.
     </dd><dt class="description">
Integrity </dt><dd 
class="description">The <span class="emph">man-in-the-middle</span> attack tampers with data without the awareness of either side of the
     communication. HTCondor&#8217;s integrity check sends additional cryptographic data to verify that network
     data transmissions have not been tampered with. Note that the integrity information is only for network
     transmissions: data stored on disk does not have this integrity information. Also note that integrity
     checks are not performed upon job data files that are transferred by HTCondor via the File Transfer
     Mechanism described in section&#x00A0;<a 
href="SubmittingaJob.html#x17-380002.5.9">2.5.9<!--tex4ht:ref: sec:file-transfer --></a>.
     </dd></dl>
<!--l. 91--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8.1   </span> <a 
 id="x36-2690003.8.1"></a>HTCondor&#8217;s Security Model</h4>
<!--l. 94--><p class="noindent" >At the heart of HTCondor&#8217;s security model is the notion that communications are subject to various security checks.
A request from one HTCondor daemon to another may require authentication to prevent subversion of the system.
A request from a user of HTCondor may need to be denied due to the confidential nature of the request. The
security model handles these example situations and many more.
<!--l. 103--><p class="indent" >   Requests to HTCondor are categorized into groups of <span class="emph">access levels</span>, based on the type of operation requested.
The user of a specific request must be authorized at the required access level. For example, executing the
<span class="textit">condor_status</span> command requires the <span class="texttt">READ</span> access level. Actions that accomplish management tasks, such as shutting
down or restarting of a daemon require an <span class="texttt">ADMINISTRATOR</span> access level. See Section&#x00A0;<a 
href="#x36-2880003.8.7">3.8.7<!--tex4ht:ref: sec:Security-Authorization --></a> for a full list of
HTCondor&#8217;s access levels and their meanings.
<!--l. 118--><p class="indent" >   There are two sides to any communication or command invocation in HTCondor. One side is identified as the
<span class="emph">client</span>, and the other side is identified as the <span class="emph">daemon</span>. The client is the party that initiates the command,
and the daemon is the party that processes the command and responds. In some cases it is easy to
distinguish the client from the daemon, while in other cases it is not as easy. HTCondor tools such
as <span class="textit">condor_submit</span> and <span class="textit">condor_config_val</span> are clients. They send commands to daemons and act as
                                                                                         

                                                                                         
clients in all their communications. For example, the <span class="textit">condor_submit</span> command communicates with the
<span class="textit">condor_schedd</span>. Behind the scenes, HTCondor daemons also communicate with each other; in this case
the daemon initiating the command plays the role of the client. For instance, the <span class="textit">condor_negotiator</span>
daemon acts as a client when contacting the <span class="textit">condor_schedd</span> daemon to initiate matchmaking. Once a
match has been found, the <span class="textit">condor_schedd</span> daemon acts as a client and contacts the <span class="textit">condor_startd</span>
daemon.
<!--l. 138--><p class="indent" >   HTCondor&#8217;s security model is implemented using configuration. Commands in HTCondor are executed over
TCP/IP network connections. While network communication enables HTCondor to manage resources that are
distributed across an organization (or beyond), it also brings in security challenges. HTCondor must have
ways of ensuring that communications are being sent by trustworthy users and not tampered with in
transit. These issues can be addressed with HTCondor&#8217;s authentication, encryption, and integrity
features.
<!--l. 152--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2700003.8.1"></a>Access Level Descriptions</h5>
<a 
 id="dx36-270001"></a>
<!--l. 155--><p class="noindent" >Authorization is granted based on specified access levels. This list describes each access level, and provides examples
of their usage. The levels implement a partial hierarchy; a higher level often implies a <span class="texttt">READ</span> or both a <span class="texttt">WRITE</span> and a
<span class="texttt">READ</span> level of access as described.
     <dl class="description"><dt class="description">
<span class="texttt">READ</span> </dt><dd 
class="description"> This access level can obtain or read information about HTCondor. Examples that require only <span class="texttt">READ</span>
     access are viewing the status of the pool with <span class="textit">condor_status</span>, checking a job queue with <span class="textit">condor_q</span>, or
     viewing user priorities with <span class="textit">condor_userprio</span>. <span class="texttt">READ</span> access does not allow any changes, and it does not
     allow job submission.
     </dd><dt class="description">
<span class="texttt">WRITE</span> </dt><dd 
class="description"> This access level is required to send (write) information to HTCondor. Examples that require <span class="texttt">WRITE</span>
     access are job submission with <span class="textit">condor_submit</span> and advertising a machine so it appears in the pool
     (this is usually done automatically by the <span class="textit">condor_startd</span> daemon). The <span class="texttt">WRITE</span> level of access implies
     <span class="texttt">READ</span> access.
     </dd><dt class="description">
<span class="texttt">ADMINISTRATOR</span> </dt><dd 
class="description"> This access level has additional HTCondor administrator rights to the pool. It includes
     the ability to change user priorities with the command <span class="textit">condor_userprio</span>, as well as the ability to turn
     HTCondor on and off (as with the commands <span class="textit">condor_on</span> and <span class="textit">condor_off </span>). The <span class="textit">condor_fetchlog</span> tool
     also requires an <span class="texttt">ADMINISTRATOR</span> access level. The <span class="texttt">ADMINISTRATOR</span> level of access implies both <span class="texttt">READ</span> and
     <span class="texttt">WRITE</span> access.
     </dd><dt class="description">
<span class="texttt">CONFIG</span> </dt><dd 
class="description"> This access level is required to modify a daemon&#8217;s configuration using the <span class="textit">condor_config_val</span>
                                                                                         

                                                                                         
     command. By default, this level of access can change any configuration parameters of an HTCondor
     pool, except those specified in the <span class="texttt">condor_config.root</span> configuration file. The <span class="texttt">CONFIG</span> level of access
     implies <span class="texttt">READ</span> access.
     </dd><dt class="description">
<span class="texttt">OWNER</span> </dt><dd 
class="description"> This level of access is required for commands that the owner of a machine (any local user) should be
     able to use, in addition to the HTCondor administrators. An example that requires the <span class="texttt">OWNER</span> access
     level is the <span class="textit">condor_vacate</span> command. The command causes the <span class="textit">condor_startd</span> daemon to vacate any
     HTCondor job currently running on a machine. The owner of that machine should be able to cause
     the removal of a job running on the machine.
     </dd><dt class="description">
<span class="texttt">DAEMON</span> </dt><dd 
class="description"> This  access  level  is  used  for  commands  that  are  internal  to  the  operation  of  HTCondor.  An
     example of this internal operation is when the <span class="textit">condor_startd</span> daemon sends its ClassAd updates to
     the <span class="textit">condor_collector</span> daemon (which may be more specifically controlled by the <span class="texttt">ADVERTISE_STARTD</span>
     access level). Authorization at this access level should only be given to the user account under which
     the HTCondor daemons run. The <span class="texttt">DAEMON</span> level of access implies both <span class="texttt">READ</span> and <span class="texttt">WRITE</span> access.
     </dd><dt class="description">
<span class="texttt">NEGOTIATOR</span> </dt><dd 
class="description"> This access level is used specifically to verify that commands are sent by the <span class="textit">condor_negotiator</span>
     daemon. The <span class="textit">condor_negotiator</span> daemon runs on the central manager of the pool. Commands requiring
     this access level are the ones that tell the <span class="textit">condor_schedd</span> daemon to begin negotiating, and those that
     tell an available <span class="textit">condor_startd</span> daemon that it has been matched to a <span class="textit">condor_schedd</span> with jobs to run.
     The <span class="texttt">NEGOTIATOR</span> level of access implies <span class="texttt">READ</span> access.
     </dd><dt class="description">
<span class="texttt">ADVERTISE_MASTER</span> </dt><dd 
class="description"> This access level is used specifically for commands used to advertise a <span class="textit">condor_master</span>
     daemon  to  the  collector.  Any  setting  for  this  access  level  that  is  not  defined  will  default  to  the
     corresponding setting in the <span class="texttt">DAEMON</span> access level.
     </dd><dt class="description">
<span class="texttt">ADVERTISE_STARTD</span> </dt><dd 
class="description"> This access level is used specifically for commands used to advertise a <span class="textit">condor_startd</span>
     daemon  to  the  collector.  Any  setting  for  this  access  level  that  is  not  defined  will  default  to  the
     corresponding setting in the <span class="texttt">DAEMON</span> access level.
     </dd><dt class="description">
<span class="texttt">ADVERTISE_SCHEDD</span> </dt><dd 
class="description"> This access level is used specifically for commands used to advertise a <span class="textit">condor_schedd</span>
     daemon  to  the  collector.  Any  setting  for  this  access  level  that  is  not  defined  will  default  to  the
     corresponding setting in the <span class="texttt">DAEMON</span> access level.
     </dd><dt class="description">
<span class="texttt">CLIENT</span> </dt><dd 
class="description"> This access level is different from all the others. Whereas all of the other access levels refer to
     the security policy for accepting connections <span class="emph">from</span> others, the <span class="texttt">CLIENT</span> access level applies when an
     HTCondor daemon or tool is connecting <span class="emph">to</span> some other HTCondor daemon. In other words, it specifies
     the policy of the client that is initiating the operation, rather than the server that is being contacted.
     </dd></dl>
                                                                                         

                                                                                         
<!--l. 262--><p class="indent" >   The following is a list of registered commands that daemons will accept. The list is ordered by daemon. For each
daemon, the commands are grouped by the access level required for a daemon to accept the command from a given
machine.
<!--l. 268--><p class="indent" >   ALL DAEMONS:
     <dl class="description"><dt class="description">
<span class="texttt">WRITE</span> </dt><dd 
class="description">
     <!--l. 273--><p class="noindent" >The command sent as a result of <span class="textit">condor_reconfig</span> to reconfigure a daemon.</dd></dl>
<!--l. 276--><p class="indent" >   STARTD:
     <dl class="description"><dt class="description">
<span class="texttt">WRITE</span> </dt><dd 
class="description">
     <!--l. 281--><p class="noindent" >All commands that relate to a <span class="textit">condor_schedd</span> daemon claiming a machine, starting jobs there, or
     stopping those jobs.
     <!--l. 284--><p class="noindent" >The command that <span class="textit">condor_checkpoint</span> sends to periodically checkpoint all running jobs.
     </dd><dt class="description">
<span class="texttt">READ</span> </dt><dd 
class="description">
     <!--l. 289--><p class="noindent" >The command that <span class="textit">condor_preen</span> sends to request the current state of the <span class="textit">condor_startd</span> daemon.
     </dd><dt class="description">
<span class="texttt">OWNER</span> </dt><dd 
class="description">The command that <span class="textit">condor_vacate</span> sends to cause any running jobs to stop running.
     </dd><dt class="description">
<span class="texttt">NEGOTIATOR</span> </dt><dd 
class="description">The command that the <span class="textit">condor_negotiator</span> daemon sends to match a machine&#8217;s <span class="textit">condor_startd</span>
     daemon with a given <span class="textit">condor_schedd</span> daemon.</dd></dl>
<!--l. 302--><p class="indent" >   NEGOTIATOR:
     <dl class="description"><dt class="description">
<span class="texttt">WRITE</span> </dt><dd 
class="description">The command that initiates a new negotiation cycle. It is sent by the <span class="textit">condor_schedd</span> when new jobs
     are submitted or a <span class="textit">condor_reschedule</span> command is issued.
     </dd><dt class="description">
<span class="texttt">READ</span> </dt><dd 
class="description">The  command  that  can  retrieve  the  current  state  of  user  priorities  in  the  pool,  sent  by  the
     <span class="textit">condor_userprio</span> command.
     </dd><dt class="description">
<span class="texttt">ADMINISTRATOR</span> </dt><dd 
class="description">The command that can set the current values of user priorities, sent as a result of the
     <span class="textit">condor_userprio</span> command.</dd></dl>
                                                                                         

                                                                                         
<!--l. 320--><p class="indent" >   COLLECTOR:
     <dl class="description"><dt class="description">
<span class="texttt">ADVERTISE_MASTER</span> </dt><dd 
class="description">Commands  that  update  the  <span class="textit">condor_collector</span>  daemon  with  new  <span class="textit">condor_master</span>
     ClassAds.
     </dd><dt class="description">
<span class="texttt">ADVERTISE_SCHEDD</span> </dt><dd 
class="description">Commands  that  update  the  <span class="textit">condor_collector</span>  daemon  with  new  <span class="textit">condor_schedd</span>
     ClassAds.
     </dd><dt class="description">
<span class="texttt">ADVERTISE_STARTD</span> </dt><dd 
class="description">Commands  that  update  the  <span class="textit">condor_collector</span>  daemon  with  new  <span class="textit">condor_startd</span>
     ClassAds.
     </dd><dt class="description">
<span class="texttt">DAEMON</span> </dt><dd 
class="description">All other commands that update the <span class="textit">condor_collector</span> daemon with new ClassAds. Note that the
     specific access levels such as <span class="texttt">ADVERTISE_STARTD</span> default to the <span class="texttt">DAEMON</span> settings, which in turn defaults
     to <span class="texttt">WRITE</span>.
     </dd><dt class="description">
<span class="texttt">READ</span> </dt><dd 
class="description">All commands that query the <span class="textit">condor_collector</span> daemon for ClassAds.</dd></dl>
<!--l. 343--><p class="indent" >   SCHEDD:
     <dl class="description"><dt class="description">
<span class="texttt">NEGOTIATOR</span> </dt><dd 
class="description">The command that the <span class="textit">condor_negotiator</span> sends to begin negotiating with this <span class="textit">condor_schedd</span>
     to match its jobs with available <span class="textit">condor_startds</span>.
     </dd><dt class="description">
<span class="texttt">WRITE</span> </dt><dd 
class="description">The  command  which  <span class="textit">condor_reschedule</span>  sends  to  the  <span class="textit">condor_schedd</span>  to  get  it  to  update  the
     <span class="textit">condor_collector</span> with a current ClassAd and begin a negotiation cycle.
     <!--l. 356--><p class="noindent" >The commands which write information into the job queue (such as <span class="textit">condor_submit</span> and <span class="textit">condor_hold</span>).
     Note that for most commands which attempt to write to the job queue, HTCondor will perform
     an additional user-level authentication step. This additional user-level authentication prevents, for
     example, an ordinary user from removing a different user&#8217;s jobs.
     </dd><dt class="description">
<span class="texttt">READ</span> </dt><dd 
class="description">The command from any tool to view the status of the job queue.
     <!--l. 367--><p class="noindent" >The commands that a <span class="textit">condor_startd</span> sends to the <span class="textit">condor_schedd</span> when the <span class="textit">condor_schedd</span> daemon&#8217;s
     claim is being preempted and also when the lease on the claim is renewed. These operations only
     require <span class="texttt">READ</span> access, rather than <span class="texttt">DAEMON</span> in order to limit the level of trust that the <span class="textit">condor_schedd</span> must
     have for the <span class="textit">condor_startd</span>. Success of these commands is only possible if the <span class="textit">condor_startd</span> knows
     the secret claim id, so effectively, authorization for these commands is more specific than HTCondor&#8217;s
                                                                                         

                                                                                         
     general security model implies. The <span class="textit">condor_schedd</span> <span class="emph">automatically</span> grants the <span class="textit">condor_startd</span> <span class="texttt">READ</span> access
     for the duration of the claim. Therefore, if one desires to only authorize specific execute machines to
     run jobs, one must either limit which machines are allowed to advertise themselves to the pool (most
     common) or configure the <span class="textit">condor_schedd</span>&#8217;s <span class="texttt">ALLOW_CLIENT</span> <a 
 id="dx36-270002"></a><a 
 id="dx36-270003"></a> setting to only allow connections from the
     <span class="textit">condor_schedd</span> to the trusted execute machines.
     </dd></dl>
<!--l. 385--><p class="indent" >   MASTER: All commands are registered with <span class="texttt">ADMINISTRATOR</span> access:
     <dl class="description"><dt class="description">
restart </dt><dd 
class="description">: Master restarts itself (and all its children)
     </dd><dt class="description">
off </dt><dd 
class="description">: Master shuts down all its children
     </dd><dt class="description">
off -master </dt><dd 
class="description">: Master shuts down all its children and exits
     </dd><dt class="description">
on </dt><dd 
class="description">: Master spawns all the daemons it is configured to spawn</dd></dl>
<!--l. 396--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8.2   </span> <a 
 id="x36-2710003.8.2"></a>Security Negotiation</h4>
<!--l. 399--><p class="noindent" >Because of the wide range of environments and security demands necessary, HTCondor must be flexible.
Configuration provides this flexibility. The process by which HTCondor determines the security settings that
will be used when a connection is established is called <span class="emph">security negotiation</span>. Security negotiation&#8217;s
primary purpose is to determine which of the features of authentication, encryption, and integrity
checking will be enabled for a connection. In addition, since HTCondor supports multiple technologies for
authentication and encryption, security negotiation also determines which technology is chosen for the
connection.
<!--l. 427--><p class="indent" >   Security negotiation is a completely separate process from matchmaking, and should not be confused with any
specific function of the <span class="textit">condor_negotiator</span> daemon. Security negotiation occurs when one HTCondor daemon or tool
initiates communication with another HTCondor daemon, to determine the security settings by which the
communication will be ruled. The <span class="textit">condor_negotiator</span> daemon does negotiation, whereby queued jobs and available
machines within a pool go through the process of matchmaking (deciding out which machines will run which
jobs).
                                                                                         

                                                                                         
<!--l. 440--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2720003.8.2"></a>Configuration</h5>
<!--l. 443--><p class="noindent" >The configuration macro names that determine what features will be used during client-daemon communication
follow the pattern:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-571">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_&#x003C;context&#x003E;_&#x003C;feature&#x003E;</tspan>
</div>
<!--l. 447--><p class="nopar" >
<!--l. 449--><p class="indent" >   The <span class="obeylines-h"><span class="verb">&#x003C;feature&#x003E;</span></span> portion of the macro name determines which security feature&#8217;s policy is being set. <span class="obeylines-h"><span class="verb">&#x003C;feature&#x003E;</span></span>
may be any one of
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-572">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;AUTHENTICATION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ENCRYPTION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;INTEGRITY</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NEGOTIATION</tspan>
</div>
<!--l. 458--><p class="nopar" >
<!--l. 460--><p class="indent" >   The <span class="obeylines-h"><span class="verb">&#x003C;context&#x003E;</span></span> component of the security policy macros can be used to craft a fine-grained security policy based
on the type of communication taking place. <span class="obeylines-h"><span class="verb">&#x003C;context&#x003E;</span></span> may be any one of
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-573">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CLIENT</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;READ</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;WRITE</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ADMINISTRATOR</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CONFIG</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;OWNER</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DAEMON</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NEGOTIATOR</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ADVERTISE_MASTER</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ADVERTISE_STARTD</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ADVERTISE_SCHEDD</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DEFAULT</tspan>
</div>
<!--l. 477--><p class="nopar" >
<!--l. 479--><p class="indent" >   Any of these constructed configuration macros may be set to any of the following values:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-574">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PREFERRED</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;OPTIONAL</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NEVER</tspan>
</div>
<!--l. 486--><p class="nopar" >
<!--l. 488--><p class="indent" >   Security negotiation resolves various client-daemon combinations of desired security features in order to set a
policy.
<!--l. 491--><p class="indent" >   As an example, consider Frida the scientist. Frida wants to avoid authentication when possible. She
sets
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-575">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DEFAULT_AUTHENTICATION</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;OPTIONAL</tspan>
</div>
<!--l. 496--><p class="nopar" > The machine running the <span class="textit">condor_schedd</span> to which Frida will remotely submit jobs, however, is operated by a
security-conscious system administrator who dutifully sets:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-576">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DEFAULT_AUTHENTICATION</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
</div>
<!--l. 504--><p class="nopar" > When Frida submits her jobs, HTCondor&#8217;s security negotiation determines that authentication will be
used, and allows the command to continue. This example illustrates the point that the most restrictive
security policy sets the levels of security enforced. There is actually more to the understanding of this
scenario. Some HTCondor commands, such as the use of <span class="textit">condor_submit</span> to submit jobs <span class="emph">always</span> require
authentication of the submitter, no matter what the policy says. This is because the identity of the submitter
needs to be known in order to carry out the operation. Others commands, such as <span class="textit">condor_q</span>, do not
always require authentication, so in the above example, the server&#8217;s policy would force Frida&#8217;s <span class="textit">condor_q</span>
queries to be authenticated, whereas a different policy could allow <span class="textit">condor_q</span> to happen without any
authentication.
<!--l. 521--><p class="indent" >   Whether or not security negotiation occurs depends on the setting at both the client and daemon side of the
configuration variable(s) defined by <span class="texttt">SEC_*_NEGOTIATION</span>. <span class="texttt">SEC_DEFAULT_NEGOTIATION</span> is a variable representing the
entire set of configuration variables for <span class="texttt">NEGOTIATION</span>. For the client side setting, the only definitions that
make sense are <span class="texttt">REQUIRED</span> and <span class="texttt">NEVER</span>. For the daemon side setting, the <span class="texttt">PREFERRED</span> value makes no
sense. Table&#x00A0;<a 
href="#x36-2720012">3.2<!--tex4ht:ref: table:Sec-Negotiation --></a> shows how security negotiation resolves various client-daemon combinations of security
negotiation policy settings. Within the table, Yes means the security negotiation will take place. No
means it will not. Fail means that the policy settings are incompatible and the communication cannot
continue.
   <div class="table">
                                                                                         

                                                                                         
<!--l. 538--><p class="indent" >   <a 
 id="x36-2720012"></a><hr class="float"><div class="float" 
>
                                                                                         

                                                                                         
<div class="tabular"> <table id="TBL-9" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-9-1g"><col 
id="TBL-9-1"></colgroup><colgroup id="TBL-9-2g"><col 
id="TBL-9-2"></colgroup><colgroup id="TBL-9-3g"><col 
id="TBL-9-3"></colgroup><colgroup id="TBL-9-4g"><col 
id="TBL-9-4"></colgroup><colgroup id="TBL-9-5g"><col 
id="TBL-9-5"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-1-"><td colspan="2" style="white-space:nowrap; text-align:center;" id="TBL-9-1-1"  
class="td11"><div class="multicolumn"  style="white-space:nowrap; text-align:center;">                  </div></td><td colspan="3" style="white-space:nowrap; text-align:center;" id="TBL-9-1-3"  
class="td11">         <div class="multicolumn"  style="white-space:nowrap; text-align:center;">Daemon Setting</div>
</td></tr><tr 
class="cline"><td></td><td></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-3-"><td colspan="2" style="white-space:nowrap; text-align:center;" id="TBL-9-3-1"  
class="td11"><div class="multicolumn"  style="white-space:nowrap; text-align:center;">                  </div></td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-3-3"  
class="td11">NEVER</td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-3-4"  
class="td11">OPTIONAL</td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-3-5"  
class="td11">REQUIRED</td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr 
class="cline"><td></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-9-5-1"  
class="td11"> Client </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-5-2"  
class="td11">  NEVER   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-5-3"  
class="td11">  No    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-5-4"  
class="td11">    No      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-5-5"  
class="td11">    Fail      </td>
</tr><tr 
class="cline"><td></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-7-"><td  style="white-space:nowrap; text-align:center;" id="TBL-9-7-1"  
class="td11">Setting</td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-7-2"  
class="td11">REQUIRED</td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-7-3"  
class="td11">  Fail   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-7-4"  
class="td11">    Yes      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-7-5"  
class="td11">    Yes      </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-8-"><td  style="white-space:nowrap; text-align:center;" id="TBL-9-8-1"  
class="td11">      </td></tr></table></div>
<br /> <div class="caption" 
><span class="id">Table&#x00A0;3.2: </span><span  
class="content">Resolution of security negotiation. </span></div><!--tex4ht:label?: x36-2720012 -->
                                                                                         

                                                                                         
   </div><hr class="endfloat" />
   </div>
<!--l. 556--><p class="indent" >   Enabling authentication, encryption, and integrity checks is dependent on security negotiation taking place. The
enabled security negotiation further sets the policy for these other features. Table&#x00A0;<a 
href="#x36-2720023">3.3<!--tex4ht:ref: table:Sec-Resolution --></a> shows how security features
are resolved for client-daemon combinations of security feature policy settings. Like Table&#x00A0;<a 
href="#x36-2720012">3.2<!--tex4ht:ref: table:Sec-Negotiation --></a>, Yes means the
feature will be utilized. No means it will not. Fail implies incompatibility and the feature cannot be
resolved.
   <div class="table">
                                                                                         

                                                                                         
<!--l. 569--><p class="indent" >   <a 
 id="x36-2720023"></a><hr class="float"><div class="float" 
>
                                                                                         

                                                                                         
<div class="tabular"> <table id="TBL-10" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-10-1g"><col 
id="TBL-10-1"></colgroup><colgroup id="TBL-10-2g"><col 
id="TBL-10-2"></colgroup><colgroup id="TBL-10-3g"><col 
id="TBL-10-3"></colgroup><colgroup id="TBL-10-4g"><col 
id="TBL-10-4"></colgroup><colgroup id="TBL-10-5g"><col 
id="TBL-10-5"></colgroup><colgroup id="TBL-10-6g"><col 
id="TBL-10-6"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-1-"><td colspan="2" style="white-space:nowrap; text-align:center;" id="TBL-10-1-1"  
class="td11"><div class="multicolumn"  style="white-space:nowrap; text-align:center;">                   </div></td><td colspan="4" style="white-space:nowrap; text-align:center;" id="TBL-10-1-3"  
class="td11">                <div class="multicolumn"  style="white-space:nowrap; text-align:center;">Daemon Setting</div>
</td></tr><tr 
class="cline"><td></td><td></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-3-"><td colspan="2" style="white-space:nowrap; text-align:center;" id="TBL-10-3-1"  
class="td11"><div class="multicolumn"  style="white-space:nowrap; text-align:center;">                    </div></td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-3-3"  
class="td11">NEVER</td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-3-4"  
class="td11">OPTIONAL</td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-3-5"  
class="td11">PREFERRED</td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-3-6"  
class="td11">REQUIRED</td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-10-4-1"  
class="td11">      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-4-2"  
class="td11">   NEVER    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-4-3"  
class="td11">  No    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-4-4"  
class="td11">    No      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-4-5"  
class="td11">     No        </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-4-6"  
class="td11">    Fail      </td></tr><tr 
class="cline"><td></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-10-6-1"  
class="td11"> Client </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-6-2"  
class="td11"> OPTIONAL </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-6-3"  
class="td11">  No    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-6-4"  
class="td11">    No      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-6-5"  
class="td11">     Yes       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-6-6"  
class="td11">    Yes      </td>
</tr><tr 
class="cline"><td></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-8-"><td  style="white-space:nowrap; text-align:center;" id="TBL-10-8-1"  
class="td11">Setting</td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-8-2"  
class="td11">PREFERRED</td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-8-3"  
class="td11">  No    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-8-4"  
class="td11">    Yes      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-8-5"  
class="td11">     Yes       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-8-6"  
class="td11">    Yes      </td>
</tr><tr 
class="cline"><td></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-10-"><td  style="white-space:nowrap; text-align:center;" id="TBL-10-10-1"  
class="td11">      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-10-2"  
class="td11"> REQUIRED </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-10-3"  
class="td11">  Fail   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-10-4"  
class="td11">    Yes      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-10-5"  
class="td11">     Yes       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-10-6"  
class="td11">    Yes      </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-11-"><td  style="white-space:nowrap; text-align:center;" id="TBL-10-11-1"  
class="td11">      </td></tr></table></div>
<br /> <div class="caption" 
><span class="id">Table&#x00A0;3.3: </span><span  
class="content">Resolution of security features. </span></div><!--tex4ht:label?: x36-2720023 -->
                                                                                         

                                                                                         
   </div><hr class="endfloat" />
   </div>
<!--l. 590--><p class="indent" >   The enabling of encryption and/or integrity checks is dependent on authentication taking place. The
authentication provides a key exchange. The key is needed for both encryption and integrity checks.
<!--l. 595--><p class="indent" >   Setting <span class="obeylines-h"><span class="verb">SEC_CLIENT_&#x003C;feature&#x003E;</span></span> determines the policy for all outgoing commands. The policy for incoming
commands (the daemon side of the communication) takes a more fine-grained approach that implements a set of
access levels for the received command. For example, it is desirable to have all incoming administrative requests
require authentication. Inquiries on pool status may not be so restrictive. To implement this, the administrator
configures the policy:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-577">
<tspan font-family="ectt" font-size="1000">SEC_ADMINISTRATOR_AUTHENTICATION</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SEC_READ_AUTHENTICATION</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;OPTIONAL</tspan>
</div>
<!--l. 609--><p class="nopar" >
<!--l. 611--><p class="indent" >   The <span class="obeylines-h"><span class="verb">DEFAULT</span></span> value for <span class="obeylines-h"><span class="verb">&#x003C;context&#x003E;</span></span> provides a way to set a policy for all access levels (<span class="obeylines-h"><span class="verb">READ</span></span>, <span class="obeylines-h"><span class="verb">WRITE</span></span>, etc.) that do
not have a specific configuration variable defined. In addition, some access levels will default to the settings specified
for other access levels. For example, <span class="texttt">ADVERTISE_STARTD</span> defaults to <span class="texttt">DAEMON</span>, and <span class="texttt">DAEMON</span> defaults to <span class="texttt">WRITE</span>, which
then defaults to the general <span class="obeylines-h"><span class="verb">DEFAULT</span></span> setting.
   <h5 class="subsubsectionHead"><a 
 id="x36-2730003.8.2"></a>Configuration for Security Methods</h5>
<!--l. 626--><p class="noindent" >Authentication and encryption can each be accomplished by a variety of methods or technologies. Which method is
utilized is determined during security negotiation.
<!--l. 631--><p class="indent" >   The configuration macros that determine the methods to use for authentication and/or encryption
are
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-578">
<tspan font-family="ectt" font-size="1000">SEC_&#x003C;context&#x003E;_AUTHENTICATION_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SEC_&#x003C;context&#x003E;_CRYPTO_METHODS</tspan>
</div>
<!--l. 636--><p class="nopar" >
<!--l. 638--><p class="indent" >   These macros are defined by a comma or space delimited list of possible methods to use. Section <a 
href="#x36-2740003.8.3">3.8.3<!--tex4ht:ref: sec:Security-Authentication --></a> lists all
implemented authentication methods. Section <a 
href="#x36-2860003.8.5">3.8.5<!--tex4ht:ref: sec:Security-Encryption --></a> lists all implemented encryption methods.
<!--l. 648--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8.3   </span> <a 
 id="x36-2740003.8.3"></a>Authentication</h4>
<a 
 id="dx36-274001"></a>
<a 
 id="dx36-274002"></a>
<!--l. 653--><p class="noindent" >The client side of any communication uses one of two macros to specify whether authentication is to occur: <a 
 id="dx36-274003"></a><a 
 id="dx36-274004"></a>
<a 
 id="dx36-274005"></a><a 
 id="dx36-274006"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-579">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DEFAULT_AUTHENTICATION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_CLIENT_AUTHENTICATION</tspan>
</div>
<!--l. 662--><p class="nopar" >
<!--l. 664--><p class="indent" >   For the daemon side, there are a larger number of macros to specify whether authentication is to take place,
based upon the necessary access level: <a 
 id="dx36-274007"></a><a 
 id="dx36-274008"></a> <a 
 id="dx36-274009"></a><a 
 id="dx36-274010"></a> <a 
 id="dx36-274011"></a><a 
 id="dx36-274012"></a> <a 
 id="dx36-274013"></a><a 
 id="dx36-274014"></a> <a 
 id="dx36-274015"></a><a 
 id="dx36-274016"></a> <a 
 id="dx36-274017"></a><a 
 id="dx36-274018"></a> <a 
 id="dx36-274019"></a><a 
 id="dx36-274020"></a> <a 
 id="dx36-274021"></a><a 
 id="dx36-274022"></a> <a 
 id="dx36-274023"></a><a 
 id="dx36-274024"></a> <a 
 id="dx36-274025"></a><a 
 id="dx36-274026"></a> <a 
 id="dx36-274027"></a><a 
 id="dx36-274028"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-580">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DEFAULT_AUTHENTICATION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_READ_AUTHENTICATION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_WRITE_AUTHENTICATION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADMINISTRATOR_AUTHENTICATION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_CONFIG_AUTHENTICATION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_OWNER_AUTHENTICATION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DAEMON_AUTHENTICATION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_NEGOTIATOR_AUTHENTICATION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_MASTER_AUTHENTICATION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_STARTD_AUTHENTICATION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_SCHEDD_AUTHENTICATION</tspan>
</div>
<!--l. 701--><p class="nopar" >
<!--l. 703--><p class="indent" >   As an example, the macro defined in the configuration file for a daemon as
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-581">
<tspan font-family="ectt" font-size="1000">SEC_WRITE_AUTHENTICATION</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
</div>
<!--l. 707--><p class="nopar" > signifies that the daemon must authenticate the client for any communication that requires the <span class="texttt">WRITE</span> access level.
If the daemon&#8217;s configuration contains
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-582">
<tspan font-family="ectt" font-size="1000">SEC_DEFAULT_AUTHENTICATION</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
</div>
<!--l. 713--><p class="nopar" > and does not contain any other security configuration for <span class="obeylines-h"><span class="verb">AUTHENTICATION</span></span>, then this default defines the daemon&#8217;s
needs for authentication over all access levels. Where a specific macro is defined, the more specific value takes
precedence over the default definition.
<!--l. 721--><p class="indent" >   If authentication is to be done, then the communicating parties must negotiate a mutually acceptable method of
authentication to be used. A list of acceptable methods may be provided by the client, using the macros <a 
 id="dx36-274029"></a><a 
 id="dx36-274030"></a>
<a 
 id="dx36-274031"></a><a 
 id="dx36-274032"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-583">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DEFAULT_AUTHENTICATION_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_CLIENT_AUTHENTICATION_METHODS</tspan>
</div>
<!--l. 733--><p class="nopar" > A list of acceptable methods may be provided by the daemon, using the macros <a 
 id="dx36-274033"></a><a 
 id="dx36-274034"></a> <a 
 id="dx36-274035"></a><a 
 id="dx36-274036"></a> <a 
 id="dx36-274037"></a><a 
 id="dx36-274038"></a> <a 
 id="dx36-274039"></a><a 
 id="dx36-274040"></a> <a 
 id="dx36-274041"></a><a 
 id="dx36-274042"></a> <a 
 id="dx36-274043"></a><a 
 id="dx36-274044"></a> <a 
 id="dx36-274045"></a><a 
 id="dx36-274046"></a> <a 
 id="dx36-274047"></a><a 
 id="dx36-274048"></a> <a 
 id="dx36-274049"></a><a 
 id="dx36-274050"></a> <a 
 id="dx36-274051"></a><a 
 id="dx36-274052"></a> <a 
 id="dx36-274053"></a><a 
 id="dx36-274054"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-584">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DEFAULT_AUTHENTICATION_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_READ_AUTHENTICATION_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_WRITE_AUTHENTICATION_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADMINISTRATOR_AUTHENTICATION_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_CONFIG_AUTHENTICATION_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_OWNER_AUTHENTICATION_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DAEMON_AUTHENTICATION_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_NEGOTIATOR_AUTHENTICATION_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_MASTER_AUTHENTICATION_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_STARTD_AUTHENTICATION_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_SCHEDD_AUTHENTICATION_METHODS</tspan>
</div>
<!--l. 770--><p class="nopar" > The methods are given as a comma-separated list of acceptable values. These variables list the authentication
methods that are available to be used. The ordering of the list defines preference; the first item in the list indicates
the highest preference. As not all of the authentication methods work on Windows platforms, which ones do <span class="emph">not</span>
work on Windows are indicated in the following list of defined values:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-585">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GSI</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(not</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;available</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;on</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Windows</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;platforms)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SSL</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;KERBEROS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PASSWORD</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(not</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;available</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;on</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Windows</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;platforms)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FS_REMOTE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(not</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;available</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;on</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Windows</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;platforms)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NTSSPI</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MUNGE</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CLAIMTOBE</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ANONYMOUS</tspan>
</div>
<!--l. 791--><p class="nopar" >
<!--l. 793--><p class="indent" >   For example, a client may be configured with:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-586">
<tspan font-family="ectt" font-size="1000">SEC_CLIENT_AUTHENTICATION_METHODS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FS,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GSI</tspan>
</div>
<!--l. 796--><p class="nopar" > and a daemon the client is trying to contact with:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-587">
<tspan font-family="ectt" font-size="1000">SEC_DEFAULT_AUTHENTICATION_METHODS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GSI</tspan>
</div>
<!--l. 800--><p class="nopar" >
<!--l. 802--><p class="indent" >   Security negotiation will determine that GSI authentication is the only compatible choice. If there are multiple
compatible authentication methods, security negotiation will make a list of acceptable methods and they will be
tried in order until one succeeds.
<!--l. 807--><p class="indent" >   As another example, the macro
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-588">
<tspan font-family="ectt" font-size="1000">SEC_DEFAULT_AUTHENTICATION_METHODS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;KERBEROS,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NTSSPI</tspan>
</div>
<!--l. 810--><p class="nopar" > indicates that either Kerberos or Windows authentication may be used, but Kerberos is preferred over
Windows. Note that if the client and daemon agree that multiple authentication methods may be
used, then they are tried in turn. For instance, if they both agree that Kerberos or NTSSPI may be
used, then Kerberos will be tried first, and if there is a failure for any reason, then NTSSPI will be
tried.
<!--l. 819--><p class="indent" >   An additional specialized method of authentication exists for communication between the <span class="textit">condor_schedd</span> and
<span class="textit">condor_startd</span>. It is especially useful when operating at large scale over high latency networks or in situations where
it is inconvenient to set up one of the other methods of strong authentication between the submit and
execute daemons. See the description of <span class="texttt">SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION</span> on <a 
href="ConfigurationMacros.html#x33-2200003.5.24">794<!--tex4ht:ref: param:SecEnableMatchPasswordAuthentication --></a> for
details.
<!--l. 829--><p class="indent" >   If the configuration for a machine does not define any variable for <span class="texttt">SEC_&#x003C;access-level&#x003E;_AUTHENTICATION</span>, then
HTCondor uses a default value of <span class="obeylines-h"><span class="verb">OPTIONAL</span></span>. Authentication will be required for any operation which
modifies the job queue, such as <span class="textit">condor_qedit</span> and <span class="textit">condor_rm</span>. If the configuration for a machine does
not define any variable for <span class="texttt">SEC_&#x003C;access-level&#x003E;_AUTHENTICATION_METHODS</span>, the default value for a
Unix machine is <span class="obeylines-h"><span class="verb">FS</span></span>, <span class="obeylines-h"><span class="verb">KERBEROS</span></span>, <span class="obeylines-h"><span class="verb">GSI</span></span>. This default value for a Windows machine is <span class="obeylines-h"><span class="verb">NTSSPI</span></span>, <span class="obeylines-h"><span class="verb">KERBEROS</span></span>,
<span class="obeylines-h"><span class="verb">GSI</span></span>.
<!--l. 843--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2750003.8.3"></a>GSI Authentication</h5>
<a 
 id="dx36-275001"></a>
<!--l. 846--><p class="noindent" >The GSI (Grid Security Infrastructure) protocol provides an avenue for HTCondor to do PKI-based (Public Key
Infrastructure) authentication using X.509 certificates. The basics of GSI are well-documented elsewhere, such as
<a 
href="http://www.globus.org/" >http://www.globus.org/</a>.
<!--l. 853--><p class="indent" >   A simple introduction to this type of authentication defines HTCondor&#8217;s use of terminology, and it illuminates
the needed items that HTCondor must access to do this authentication. Assume that A authenticates to B. In this
example, A is the client, and B is the daemon within their communication. This example&#8217;s one-way authentication
implies that B is verifying the identity of A, using the certificate A provides, and utilizing B&#8217;s own set of trusted
CAs (Certification Authorities). Client A provides its certificate (or proxy) to daemon B. B does two things: B
checks that the certificate is valid, and B checks to see that the CA that signed A&#8217;s certificate is one that B
trusts.
<!--l. 871--><p class="indent" >   For the GSI authentication protocol, an X.509 certificate is required. <a 
 id="dx36-275002"></a>Files with predetermined names hold a
certificate, a key, and optionally, a proxy. A separate directory has one or more files that become the list of trusted
CAs.
                                                                                         

                                                                                         
<!--l. 879--><p class="indent" >   Allowing HTCondor to do this GSI authentication requires knowledge of the locations of the client A&#8217;s certificate
and the daemon B&#8217;s list of trusted CAs. When one side of the communication (as either client A or daemon B) is an
HTCondor daemon, these locations are determined by configuration or by default locations. When one side of the
communication (as a client A) is a user of HTCondor (the process owner of an HTCondor tool, for example
<span class="textit">condor_submit</span>), these locations are determined by the pre-set values of environment variables or by default
locations.
     <dl class="description"><dt class="description">
GSI certificate locations for HTCondor daemons </dt><dd 
class="description">
     <!--l. 894--><p class="noindent" >For an HTCondor daemon, the certificate may be a single host certificate, <a 
 id="dx36-275003"></a>and all HTCondor daemons
     on the same machine may share the same certificate. In some cases, the certificate can also be copied
     to other machines, where local copies are necessary. This may occur only in cases where a single host
     certificate can match multiple host names, something that is beyond the scope of this manual. The
     certificates must be protected by access rights to files, since the password file is not encrypted.
     <!--l. 905--><p class="noindent" >The specification of the location of the necessary files through configuration uses the following
     precedence.
         <ol  class="enumerate1" >
         <li 
  class="enumerate" id="x36-275005x1">Configuration variable <span class="texttt">GSI_DAEMON_DIRECTORY</span> <a 
 id="dx36-275006"></a><a 
 id="dx36-275007"></a> gives the complete path name to the directory that
         contains the certificate, key, and directory with trusted CAs. HTCondor uses this directory as follows in
         its construction of the following configuration variables:
                                                                                         

                                                                                         
         <div class="verbatim" id="verbatim-589">
         <tspan font-family="ectt" font-size="0800">GSI_DAEMON_CERT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(GSI_DAEMON_DIRECTORY)/hostcert.pem</tspan>
         <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">GSI_DAEMON_KEY</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(GSI_DAEMON_DIRECTORY)/hostkey.pem</tspan>
         <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">GSI_DAEMON_TRUSTED_CA_DIR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(GSI_DAEMON_DIRECTORY)/certificates</tspan>
</div>
         <!--l. 919--><p class="nopar" >
         <!--l. 922--><p class="noindent" >Note that no proxy is assumed in this case.
         </li>
         <li 
  class="enumerate" id="x36-275009x2">If the <span class="texttt">GSI_DAEMON_DIRECTORY</span> is not defined, or when defined, the location may be overridden with
         specific configuration variables that specify the complete path and file name of the certificate
         with
             <dl class="description"><dt class="description">
          </dt><dd 
class="description"><span class="texttt">GSI_DAEMON_CERT</span> <a 
 id="dx36-275010"></a><a 
 id="dx36-275011"></a></dd></dl>
         <!--l. 932--><p class="noindent" >the key with
             <dl class="description"><dt class="description">
          </dt><dd 
class="description"><span class="texttt">GSI_DAEMON_KEY</span> <a 
 id="dx36-275012"></a><a 
 id="dx36-275013"></a></dd></dl>
         <!--l. 936--><p class="noindent" >a proxy with
             <dl class="description"><dt class="description">
          </dt><dd 
class="description"><span class="texttt">GSI_DAEMON_PROXY</span> <a 
 id="dx36-275014"></a><a 
 id="dx36-275015"></a></dd></dl>
         <!--l. 940--><p class="noindent" >the complete path to the directory containing the list of trusted CAs with
             <dl class="description"><dt class="description">
          </dt><dd 
class="description"><span class="texttt">GSI_DAEMON_TRUSTED_CA_DIR</span> <a 
 id="dx36-275016"></a><a 
 id="dx36-275017"></a></dd></dl>
         </li>
         <li 
  class="enumerate" id="x36-275019x3">The default location assumed is <span class="texttt">/etc/grid-security</span>. Note that this implemented by setting the value of
         <span class="texttt">GSI_DAEMON_DIRECTORY</span>.</li></ol>
     <!--l. 950--><p class="noindent" >When a daemon acts as the client within authentication, the daemon needs a listing of those from which it will
     accept certificates. This is done with <span class="texttt">GSI_DAEMON_NAME</span>. This name is specified with the following
     format
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-590">
     <tspan font-family="ectt" font-size="0800">GSI_DAEMON_NAME</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;/X.509/name/of/server/1,/X.509/name/of/server/2,...</tspan>
</div>
     <!--l. 958--><p class="nopar" >
<a 
 id="dx36-275020"></a>
     <!--l. 962--><p class="noindent" >HTCondor will also need a way to map an X.509 distinguished name to an HTCondor user id.
     There are two ways to accomplish this mapping. For a first way to specify the mapping, see
     section&#x00A0;<a 
href="#x36-2850003.8.4">3.8.4<!--tex4ht:ref: sec:Security-Unified-Map-File --></a> to use HTCondor&#8217;s unified map file. The second way to do the mapping is within
     an administrator-maintained GSI-specific file called an X.509 map file, mapping from X.509
     Distinguished Name (DN) to HTCondor user id. It is similar to a Globus grid map file, except
     that it is only used for mapping to a user id, not for authorization. If the user names in the
     map file do not specify a domain for the user (specification would appear as <span class="obeylines-h"><span class="verb">user@domain</span></span>),
     then the value of <span class="texttt">UID_DOMAIN</span> is used. Entries (lines) in the file each contain two items. The
     first item in an entry is the X.509 certificate subject name, and it is enclosed in double quote
     marks (using the character <span class="obeylines-h"><span class="verb">"</span></span>). The second item is the HTCondor user id. The two items in an
     entry are separated by tab or space character(s). Here is an example of an entry in an X.509
     map file. Entries must be on a single line; this example is broken onto two lines for formatting
     reasons.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-591">
     <tspan font-family="ectt" font-size="0800">"/C=US/O=Globus/O=University</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;of</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Wisconsin/</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">OU=Computer</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Sciences</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Department/CN=Alice</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Smith"</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;asmith</tspan>
</div>
     <!--l. 991--><p class="nopar" >
     <!--l. 994--><p class="noindent" >HTCondor finds the map file in one of three ways. If the configuration variable <span class="texttt">GRIDMAP</span> <a 
 id="dx36-275021"></a><a 
 id="dx36-275022"></a> is defined, it
     gives the full path name to the map file. When not defined, HTCondor looks for the map file
     in
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-592">
     <tspan font-family="ectt" font-size="1000">$(GSI_DAEMON_DIRECTORY)/grid-mapfile</tspan>
</div>
     <!--l. 1001--><p class="nopar" > If <span class="texttt">GSI_DAEMON_DIRECTORY</span> <a 
 id="dx36-275023"></a><a 
 id="dx36-275024"></a> is not defined, then the third place HTCondor looks for the map file is given
     by
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-593">
     <tspan font-family="ectt" font-size="1000">/etc/grid-security/grid-mapfile</tspan>
</div>
     <!--l. 1006--><p class="nopar" >
     </dd><dt class="description">
GSI certificate locations for Users </dt><dd 
class="description">
     <!--l. 1011--><p class="noindent" >The user specifies the location of a certificate, proxy, etc. in one of two ways:
         <ol  class="enumerate1" >
         <li 
  class="enumerate" id="x36-275026x1">Environment variables give the location of necessary items.
         <!--l. 1017--><p class="noindent" ><span class="texttt">X509_USER_PROXY</span> gives the path and file name of the proxy. This proxy will have been created using the
         <span class="textit">grid-proxy-init</span> program, which will place the proxy in the <span class="texttt">/tmp</span> directory with the file name being
         determined by the format:
                                                                                         

                                                                                         
         <div class="verbatim" id="verbatim-594">
         <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/tmp/x509up_uXXXX</tspan>
         <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan>
</div>
         <!--l. 1023--><p class="nopar" > The specific file name is given by substituting the <span class="obeylines-h"><span class="verb">XXXX</span></span> characters with the UID of the user. Note that
         when a valid proxy is used, the certificate and key locations are not needed.
         <!--l. 1029--><p class="noindent" ><span class="texttt">X509_USER_CERT</span> gives the path and file name of the certificate. It is also used if a proxy location has
         been checked, but the proxy is no longer valid.
         <!--l. 1033--><p class="noindent" ><span class="texttt">X509_USER_KEY</span> gives the path and file name of the key. Note that most keys are password encrypted,
         such that knowing the location could not lead to using the key.
         <!--l. 1037--><p class="noindent" ><span class="texttt">X509_CERT_DIR</span> gives the path to the directory containing the list of trusted CAs.
         </li>
         <li 
  class="enumerate" id="x36-275028x2">Without environment variables to give locations of necessary certificate information, HTCondor uses a
         default directory for the user. This directory is given by
                                                                                         

                                                                                         
         <div class="verbatim" id="verbatim-595">
         <tspan font-family="ectt" font-size="1000">$(HOME)/.globus</tspan>
</div>
         <!--l. 1047--><p class="nopar" ></li></ol>
     </dd><dt class="description">
Example GSI Security Configuration </dt><dd 
class="description">
     <!--l. 1052--><p class="noindent" >Here is an example portion of the configuration file that would enable and require GSI authentication, along
     with a minimal set of other variables to make it work.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-596">
     <tspan font-family="ectt" font-size="0800">SEC_DEFAULT_AUTHENTICATION</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;REQUIRED</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SEC_DEFAULT_AUTHENTICATION_METHODS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;GSI</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SEC_DEFAULT_INTEGRITY</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;REQUIRED</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">GSI_DAEMON_DIRECTORY</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;/etc/grid-security</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">GRIDMAP</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;/etc/grid-security/grid-mapfile</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;authorize</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;based</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;on</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;user</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;names</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;produced</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;by</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;map</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;file</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_READ</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*@cs.wisc.edu/*.cs.wisc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_DAEMON</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor@cs.wisc.edu/*.cs.wisc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_NEGOTIATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor@cs.wisc.edu/condor.cs.wisc.edu,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;\</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor@cs.wisc.edu/condor2.cs.wisc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_ADMINISTRATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor-admin@cs.wisc.edu/*.cs.wisc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;daemon</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;certificate(s)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;trusted</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;by</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;tools</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;and</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;daemons</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;when</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;connecting</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;other</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;daemons</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">GSI_DAEMON_NAME</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;/C=US/O=Condor/O=UW/OU=CS/CN=condor@cs.wisc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;clear</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;out</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;any</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;host-based</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;authorizations</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;(unnecessary</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;if</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;you</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;leave</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;authentication</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;REQUIRED,</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;but</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;useful</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;if</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;you</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;make</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;it</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;optional</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;and</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;want</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;allow</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;some</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;unauthenticated</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;operations,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;such</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;as</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;ALLOW_READ</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*/*.cs.wisc.edu)</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">HOSTALLOW_READ</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">HOSTALLOW_WRITE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">HOSTALLOW_NEGOTIATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">HOSTALLOW_ADMINISTRATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan>
</div>
     <!--l. 1084--><p class="nopar" >
     <!--l. 1087--><p class="noindent" >The <span class="texttt">SEC_DEFAULT_AUTHENTICATION</span> macro specifies that authentication is required for all communications.
     This single macro covers all communications, but could be replaced with a set of macros that require
     authentication for only specific communications.
     <!--l. 1094--><p class="noindent" >The macro <span class="texttt">GSI_DAEMON_DIRECTORY</span> is specified to give HTCondor a single place to find the daemon&#8217;s
     certificate. This path may be a directory on a shared file system such as AFS. Alternatively, this path name
     can point to local copies of the certificate stored in a local file system.
     <!--l. 1102--><p class="noindent" >The macro <span class="texttt">GRIDMAP</span> specifies the file to use for mapping GSI names to user names within HTCondor. For
     example, it might look like this:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-597">
     <tspan font-family="ectt" font-size="0800">"/C=US/O=Condor/O=UW/OU=CS/CN=condor@cs.wisc.edu"</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor@cs.wisc.edu</tspan>
</div>
     <!--l. 1109--><p class="nopar" >
     <!--l. 1112--><p class="noindent" >Additional mappings would be needed for the users who submit jobs to the pool or who issue administrative
     commands.
     </dd></dl>
<!--l. 1118--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2760003.8.3"></a>SSL Authentication</h5>
<a 
 id="dx36-276001"></a>
<!--l. 1121--><p class="noindent" >SSL authentication is similar to GSI authentication, but without GSI&#8217;s delegation (proxy) capabilities. SSL utilizes
X.509 certificates.
<!--l. 1125--><p class="indent" >   All SSL authentication is mutual authentication in HTCondor. This means that when SSL authentication
is used and when one process communicates with another, each process must be able to verify the
signature on the certificate presented by the other process. The process that initiates the connection is the
client, and the process that receives the connection is the server. For example, when a <span class="textit">condor_startd</span>
daemon authenticates with a <span class="textit">condor_collector</span> daemon to provide a machine ClassAd, the <span class="textit">condor_startd</span>
daemon initiates the connection and acts as the client, and the <span class="textit">condor_collector</span> daemon acts as the
server.
<!--l. 1137--><p class="indent" >   The names and locations of keys and certificates for clients, servers, and the files used to specify trusted
certificate authorities (CAs) are defined by settings in the configuration files. The contents of the files are
identical in format and interpretation to those used by other systems which use SSL, such as Apache
httpd.
<!--l. 1144--><p class="indent" >   The configuration variables <span class="texttt">AUTH_SSL_CLIENT_CERTFILE</span> <a 
 id="dx36-276002"></a><a 
 id="dx36-276003"></a> and <span class="texttt">AUTH_SSL_SERVER_CERTFILE</span> <a 
 id="dx36-276004"></a><a 
 id="dx36-276005"></a> specify the file
location for the certificate file for the initiator and recipient of connections, respectively. Similarly, the
configuration variables <span class="texttt">AUTH_SSL_CLIENT_KEYFILE</span> <a 
 id="dx36-276006"></a><a 
 id="dx36-276007"></a> and <span class="texttt">AUTH_SSL_SERVER_KEYFILE</span> <a 
 id="dx36-276008"></a><a 
 id="dx36-276009"></a> specify the locations for
keys.
<!--l. 1153--><p class="indent" >   The configuration variables <span class="texttt">AUTH_SSL_SERVER_CAFILE</span> <a 
 id="dx36-276010"></a><a 
 id="dx36-276011"></a> and <span class="texttt">AUTH_SSL_CLIENT_CAFILE</span> <a 
 id="dx36-276012"></a><a 
 id="dx36-276013"></a> each specify a path and
file name, providing the location of a file containing one or more certificates issued by trusted certificate authorities.
Similarly, <span class="texttt">AUTH_SSL_SERVER_CADIR</span> <a 
 id="dx36-276014"></a><a 
 id="dx36-276015"></a> and <span class="texttt">AUTH_SSL_CLIENT_CADIR</span> <a 
 id="dx36-276016"></a><a 
 id="dx36-276017"></a> each specify a directory with one or more files,
each which may contain a single CA certificate. The directories must be prepared using the OpenSSL <span class="texttt">c_rehash</span>
utility.
                                                                                         

                                                                                         
<!--l. 1165--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2770003.8.3"></a>Kerberos Authentication</h5>
<a 
 id="dx36-277001"></a>
<a 
 id="dx36-277002"></a>
<!--l. 1170--><p class="noindent" >If Kerberos is used for authentication, then a mapping from a Kerberos domain (called a realm) to an HTCondor
UID domain is necessary. There are two ways to accomplish this mapping. For a first way to specify the mapping,
see section&#x00A0;<a 
href="#x36-2850003.8.4">3.8.4<!--tex4ht:ref: sec:Security-Unified-Map-File --></a> to use HTCondor&#8217;s unified map file. A second way to specify the mapping defines the configuration
variable <span class="texttt">KERBEROS_MAP_FILE</span> <a 
 id="dx36-277003"></a><a 
 id="dx36-277004"></a> to define a path to an administrator-maintained Kerberos-specific map file. The
configuration syntax is
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-598">
<tspan font-family="ectt" font-size="1000">KERBEROS_MAP_FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/path/to/etc/condor.kmap</tspan>
</div>
<!--l. 1185--><p class="nopar" >
<!--l. 1187--><p class="indent" >   Lines within this map file have the syntax
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-599">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;KERB.REALM</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;UID.domain.name</tspan>
</div>
<!--l. 1190--><p class="nopar" >
<!--l. 1192--><p class="indent" >   Here are two lines from a map file to use as an example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-600">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CS.WISC.EDU</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cs.wisc.edu</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ENGR.WISC.EDU</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ee.wisc.edu</tspan>
</div>
<!--l. 1196--><p class="nopar" >
<!--l. 1198--><p class="indent" >   If a <span class="texttt">KERBEROS_MAP_FILE</span> configuration variable is defined and set, then all permitted realms must be explicitly
mapped. If no map file is specified, then HTCondor assumes that the Kerberos realm is the same as the HTCondor
UID domain.
<a 
 id="dx36-277005"></a>
<!--l. 1205--><p class="indent" >   The configuration variable <span class="texttt">KERBEROS_SERVER_PRINCIPAL</span> <a 
 id="dx36-277006"></a><a 
 id="dx36-277007"></a> defines the name of a Kerberos principal. If
<span class="texttt">KERBEROS_SERVER_PRINCIPAL</span> is not defined, then the default value used is <span class="obeylines-h"><span class="verb">host</span></span>. A principal specifies a unique
name to which a set of credentials may be assigned.
<!--l. 1213--><p class="indent" >   HTCondor takes the specified (or default) principal and appends a slash character, the host name, an &#8217;@&#8217; (at
sign character), and the Kerberos realm. As an example, the configuration
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-601">
<tspan font-family="ectt" font-size="1000">KERBEROS_SERVER_PRINCIPAL</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor-daemon</tspan>
</div>
<!--l. 1219--><p class="nopar" > results in HTCondor&#8217;s use of
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-602">
<tspan font-family="ectt" font-size="1000">condor-daemon/the.host.name@YOUR.KERB.REALM</tspan>
</div>
<!--l. 1223--><p class="nopar" > as the server principal.
<!--l. 1226--><p class="indent" >   Here is an example of configuration settings that use Kerberos for authentication and require authentication of
all communications of the write or administrator access level.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-603">
<tspan font-family="ectt" font-size="0800">SEC_WRITE_AUTHENTICATION</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;REQUIRED</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SEC_WRITE_AUTHENTICATION_METHODS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;KERBEROS</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SEC_ADMINISTRATOR_AUTHENTICATION</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;REQUIRED</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SEC_ADMINISTRATOR_AUTHENTICATION_METHODS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;KERBEROS</tspan>
</div>
<!--l. 1236--><p class="nopar" >
<!--l. 1239--><p class="indent" >   Kerberos authentication on Unix platforms requires access to various files that usually are only accessible by the
root user. At this time, the only supported way to use KERBEROS authentication on Unix platforms is to start
daemons HTCondor as user root.
<!--l. 1247--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2780003.8.3"></a> Password Authentication</h5>
<!--l. 1250--><p class="noindent" >The password method provides mutual authentication through the use of a shared secret. This is often a
good choice when strong security is desired, but an existing Kerberos or X.509 infrastructure is not
in place. Password authentication is available on both Unix and Windows. It currently can only be
used for daemon-to-daemon authentication. The shared secret in this context is referred to as the <span class="emph">pool
password</span>.
<!--l. 1259--><p class="indent" >   Before a daemon can use password authentication, the pool password must be stored on the daemon&#8217;s local
machine. On Unix, the password will be placed in a file defined by the configuration variable <span class="texttt">SEC_PASSWORD_FILE</span>
<a 
 id="dx36-278001"></a><a 
 id="dx36-278002"></a>. This file will be accessible only by the UID that HTCondor is started as. On Windows, the same
secure password store that is used for user passwords will be used for the pool password (see section
<a 
href="MicrosoftWindows.html#x76-5760008.2.3">8.2.3<!--tex4ht:ref: sec:windows-sps --></a>).
<!--l. 1268--><p class="indent" >   Under Unix, the password file can be generated by using the following command to write directly to the
password file:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-604">
<tspan font-family="ectt" font-size="1000">condor_store_cred</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-f</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/path/to/password/file</tspan>
</div>
<!--l. 1272--><p class="nopar" >
<!--l. 1274--><p class="indent" >   Under Windows (or under Unix), storing the pool password is done with the <span class="textbf">-c</span> option when using to
<span class="textit">condor_store_cred</span> <span class="textbf">add</span>. Running
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-605">
<tspan font-family="ectt" font-size="1000">condor_store_cred</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-c</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;add</tspan>
</div>
<!--l. 1279--><p class="nopar" > prompts for the pool password and store it on the local machine, making it available for daemons to use in
authentication. The <span class="textit">condor_master</span> must be running for this command to work.
<!--l. 1284--><p class="indent" >   In addition, storing the pool password to a given machine requires <span class="obeylines-h"><span class="verb">CONFIG</span></span>-level access. For example, if the pool
password should only be set locally, and only by root, the following would be placed in the global configuration
file.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-606">
<tspan font-family="ectt" font-size="1000">ALLOW_CONFIG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;root@mydomain/$(IP_ADDRESS)</tspan>
</div>
<!--l. 1290--><p class="nopar" >
<!--l. 1292--><p class="indent" >   It is also possible to set the pool password remotely, but this is recommended only if it can be done over an
encrypted channel. This is possible on Windows, for example, in an environment where common accounts exist
across all the machines in the pool. In this case, <span class="obeylines-h"><span class="verb">ALLOW_CONFIG</span></span> can be set to allow the HTCondor administrator
(who in this example has an account condor common to all machines in the pool) to set the password from the
central manager as follows.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-607">
<tspan font-family="ectt" font-size="1000">ALLOW_CONFIG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor@mydomain/$(CONDOR_HOST)</tspan>
</div>
<!--l. 1301--><p class="nopar" > The HTCondor administrator then executes
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-608">
<tspan font-family="ectt" font-size="1000">condor_store_cred</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-c</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-n</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;host.mydomain</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;add</tspan>
</div>
<!--l. 1305--><p class="nopar" > from the central manager to store the password to a given machine. Since the condor account exists on both the
central manager and <span class="obeylines-h"><span class="verb">host.mydomain</span></span>, the NTSSPI authentication method can be used to authenticate and
encrypt the connection. <span class="textit">condor_store_cred</span> will warn and prompt for cancellation, if the channel is not
encrypted for whatever reason (typically because common accounts do not exist or HTCondor&#8217;s security is
misconfigured).
<!--l. 1314--><p class="indent" >   When a daemon is authenticated using a pool password, its security principle is <span class="obeylines-h"><span class="verb">condor_pool@$(UID_DOMAIN)</span></span>,
where <span class="obeylines-h"><span class="verb">$(UID_DOMAIN)</span></span> is taken from the daemon&#8217;s configuration. The <span class="obeylines-h"><span class="verb">ALLOW_DAEMON</span></span> and <span class="obeylines-h"><span class="verb">ALLOW_NEGOTIATOR</span></span>
configuration variables for authorization should restrict access using this name. For example,
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-609">
<tspan font-family="ectt" font-size="1000">ALLOW_DAEMON</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_pool@mydomain/*,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor@mydomain/$(IP_ADDRESS)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">ALLOW_NEGOTIATOR</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_pool@mydomain/$(CONDOR_HOST)</tspan>
</div>
<!--l. 1323--><p class="nopar" > This configuration allows remote <span class="obeylines-h"><span class="verb">DAEMON</span></span>-level and <span class="obeylines-h"><span class="verb">NEGOTIATOR</span></span>-level access, if the pool password is known. Local
daemons authenticated as <span class="obeylines-h"><span class="verb">condor@mydomain</span></span> are also allowed access. This is done so local authentication can be
done using another method such as <span class="obeylines-h"><span class="verb">FS</span></span>.
     <dl class="description"><dt class="description">
Example Security Configuration Using Pool Password </dt><dd 
class="description"><a 
 id="dx36-278003"></a> The  following  example  configuration  uses
     pool password authentication and network message integrity checking for all communication between
     HTCondor daemons.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-610">
     <tspan font-family="ectt" font-size="1000">SEC_PASSWORD_FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(LOCK)/pool_password</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SEC_DAEMON_AUTHENTICATION</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SEC_DAEMON_INTEGRITY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SEC_DAEMON_AUTHENTICATION_METHODS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PASSWORD</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SEC_NEGOTIATOR_AUTHENTICATION</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SEC_NEGOTIATOR_INTEGRITY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SEC_NEGOTIATOR_AUTHENTICATION_METHODS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PASSWORD</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SEC_CLIENT_AUTHENTICATION_METHODS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FS,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PASSWORD,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;KERBEROS,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GSI</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">ALLOW_DAEMON</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_pool@$(UID_DOMAIN)/*.cs.wisc.edu,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor@$(UID_DOMAIN)/$(IP_ADDRESS)</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">ALLOW_NEGOTIATOR</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_pool@$(UID_DOMAIN)/negotiator.machine.name</tspan>
</div>
     <!--l. 1350--><p class="nopar" >
     </dd><dt class="description">
Example Using Pool Password for <span class="textit">condor_startd</span> Advertisement </dt><dd 
class="description"><a 
 id="dx36-278004"></a>
     <!--l. 1356--><p class="noindent" >One problem with the pool password method of authentication is that it involves a single, shared secret.
     This does not scale well with the addition of remote users who flock to the local pool. However,
     the pool password may still be used for authenticating portions of the local pool, while others
     (such as the remote <span class="textit">condor_schedd</span> daemons involved in flocking) are authenticated by other
     means.
     <!--l. 1365--><p class="noindent" >In this example, only the <span class="textit">condor_startd</span> daemons in the local pool are required to have the pool password
     when they advertise themselves to the <span class="textit">condor_collector</span> daemon.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-611">
     <tspan font-family="ectt" font-size="1000">SEC_PASSWORD_FILE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(LOCK)/pool_password</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SEC_ADVERTISE_STARTD_AUTHENTICATION</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SEC_ADVERTISE_STARTD_INTEGRITY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SEC_ADVERTISE_STARTD_AUTHENTICATION_METHODS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PASSWORD</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SEC_CLIENT_AUTHENTICATION_METHODS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FS,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PASSWORD,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;KERBEROS,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GSI</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">ALLOW_ADVERTISE_STARTD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_pool@$(UID_DOMAIN)/*.cs.wisc.edu</tspan>
</div>
     <!--l. 1376--><p class="nopar" >
     </dd></dl>
<!--l. 1381--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2790003.8.3"></a>File System Authentication</h5>
<a 
 id="dx36-279001"></a>
<!--l. 1385--><p class="noindent" >This form of authentication utilizes the ownership of a file in the identity verification of a client. A daemon
authenticating a client requires the client to write a file in a specific location (<span class="texttt">/tmp</span>). The daemon then checks the
ownership of the file. The file&#8217;s ownership verifies the identity of the client. In this way, the file system becomes the
trusted authority. This authentication method is only appropriate for clients and daemons that are on the same
computer.
<!--l. 1396--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2800003.8.3"></a>File System Remote Authentication</h5>
<a 
 id="dx36-280001"></a>
<!--l. 1399--><p class="noindent" >Like file system authentication, this form of authentication utilizes the ownership of a file in the identity verification
of a client. In this case, a daemon authenticating a client requires the client to write a file in a specific location, but
the location is not restricted to <span class="texttt">/tmp</span>. The location of the file is specified by the configuration variable
<span class="texttt">FS_REMOTE_DIR</span> <a 
 id="dx36-280002"></a><a 
 id="dx36-280003"></a>.
<!--l. 1424--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2810003.8.3"></a>Windows Authentication</h5>
<a 
 id="dx36-281001"></a>
                                                                                         

                                                                                         
<!--l. 1427--><p class="noindent" >This authentication is done only among Windows machines using a proprietary method. The Windows security
interface SSPI is used to enforce NTLM (NT LAN Manager). The authentication is based on challenge and
response, using the user&#8217;s password as a key. This is similar to Kerberos. The main difference is that
Kerberos provides an access token that typically grants access to an entire network, whereas NTLM
authentication only verifies an identity to one machine at a time. NTSSPI is best-used in a way similar to
file system authentication in Unix, and probably should not be used for authentication between two
computers.
<!--l. 1443--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2820003.8.3"></a>Ask MUNGE for Authentication</h5>
<!--l. 1445--><p class="noindent" >Ask the MUNGE service to validate both sides of the authentication. See: https://dun.github.io/munge/ for
instructions on installing.
<!--l. 1449--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2830003.8.3"></a>Claim To Be Authentication</h5>
<!--l. 1451--><p class="noindent" >Claim To Be authentication accepts any identity claimed by the client. As such, it does not authenticate. It is
included in HTCondor and in the list of authentication methods for testing purposes only.
<!--l. 1457--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2840003.8.3"></a>Anonymous Authentication</h5>
<!--l. 1459--><p class="noindent" >Anonymous authentication causes authentication to be skipped entirely. As such, it does not authenticate. It is
included in HTCondor and in the list of authentication methods for testing purposes only.
<a 
 id="dx36-284001"></a>
<!--l. 1467--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8.4   </span> <a 
 id="x36-2850003.8.4"></a>The Unified Map File for Authentication</h4>
<a 
 id="dx36-285001"></a>
<a 
 id="dx36-285002"></a>
<!--l. 1472--><p class="noindent" >HTCondor&#8217;s unified map file allows the mappings from authenticated names to an HTCondor canonical user name
to be specified as a single list within a single file. The location of the unified map file is defined by the configuration
                                                                                         

                                                                                         
variable <span class="texttt">CERTIFICATE_MAPFILE</span> <a 
 id="dx36-285003"></a><a 
 id="dx36-285004"></a>; it specifies the path and file name of the unified map file. Each mapping is on its
own line of the unified map file. Each line contains 3 fields, separated by white space (space or tab
characters):
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x36-285006x1">The name of the authentication method to which the mapping applies.
     </li>
     <li 
  class="enumerate" id="x36-285008x2">A name or a regular expression representing the authenticated name to be mapped.
     </li>
     <li 
  class="enumerate" id="x36-285010x3">The canonical HTCondor user name.</li></ol>
<!--l. 1489--><p class="indent" >   Allowable authentication method names are the same as used to define any of the configuration variables
<span class="texttt">SEC_*_AUTHENTICATION_METHODS</span>, as repeated here:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-612">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GSI</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SSL</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;KERBEROS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PASSWORD</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FS_REMOTE</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NTSSPI</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MUNGE</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CLAIMTOBE</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ANONYMOUS</tspan>
</div>
<!--l. 1503--><p class="nopar" >
<!--l. 1505--><p class="indent" >   The fields that represent an authenticated name and the canonical HTCondor user name may utilize regular
expressions as defined by PCRE (Perl-Compatible Regular Expressions). Due to this, more than one line (mapping)
within the unified map file may match. Look ups are therefore defined to use the first mapping that
matches.
<!--l. 1513--><p class="indent" >   For HTCondor version 8.5.8 and later, the authenticated name field will be interpreted as a regular
expression or as a simple string based on the value of the <span class="texttt">CERTIFICATE_MAPFILE_ASSUME_HASH_KEYS</span>
<a 
 id="dx36-285011"></a><a 
 id="dx36-285012"></a> configuration variable. If this configuration varible is true, then the authenticated name field is a
regular expression only when it begins and ends with the / character. If this configuration variable
is false, or on HTCondor versions older than 8.5.8, the authenticated name field is always a regular
expression.
<!--l. 1521--><p class="indent" >   A regular expression may need to contain spaces, and in this case the entire expression can be surrounded by
double quote marks. If a double quote character also needs to appear in such an expression, it is preceded by a
backslash.
<!--l. 1526--><p class="indent" >   The default behavior of HTCondor when no map file is specified is to do the following mappings, with some
additional logic noted below:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-613">
<tspan font-family="ectt" font-size="1000">FS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(.*)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">FS_REMOTE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(.*)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">GSI</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(.*)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;GSS_ASSIST_GRIDMAP</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">SSL</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(.*)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ssl@unmapped</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">KERBEROS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;([^/]*)/?[^@]*@(.*)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\1@\2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">NTSSPI</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(.*)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">MUNGE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(.*)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">CLAIMTOBE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(.*)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">PASSWORD</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;(.*)</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;\1</tspan>
</div>
<!--l. 1538--><p class="nopar" >
<!--l. 1540--><p class="indent" >   For GSI (or SSL), the special name <span class="texttt">GSS_ASSIST_GRIDMAP</span> instructs HTCondor to use the GSI grid map file
(configured with <span class="texttt">GRIDMAP</span> <a 
 id="dx36-285013"></a><a 
 id="dx36-285014"></a> as shown in section&#x00A0;<a 
href="#x36-2750003.8.3">3.8.3<!--tex4ht:ref: sec:GSI-Authentication --></a>) to do the mapping. If no mapping can be found for GSI (with
or without the use of <span class="texttt">GSS_ASSIST_GRIDMAP</span>), the user is mapped to <span class="obeylines-h"><span class="verb">gsi@unmapped</span></span>.
<!--l. 1546--><p class="indent" >   For Kerberos, if <span class="texttt">KERBEROS_MAP_FILE</span> <a 
 id="dx36-285015"></a><a 
 id="dx36-285016"></a> is specified, the domain portion of the name is obtained by mapping the
Kerberos realm to the value specified in the map file, rather than just using the realm verbatim as the domain
portion of the condor user name. See section&#x00A0;<a 
href="#x36-2770003.8.3">3.8.3<!--tex4ht:ref: sec:Kerberos-Authentication --></a> for details.
<a 
 id="dx36-285017"></a>
<a 
 id="dx36-285018"></a>
<!--l. 1554--><p class="indent" >   If authentication did not happen or failed and was not required, then the user is given the name
<span class="obeylines-h"><span class="verb">unauthenticated@unmapped</span></span>.
<!--l. 1557--><p class="indent" >   With the integration of VOMS for GSI authentication, the interpretation of the regular expression representing
the authenticated name may change. First, the full serialized DN and FQAN are used in attempting
a match. If no match is found using the full DN and FQAN, then the DN is then used on its own
without the FQAN. Using this, roles or user names from the VOMS attributes may be extracted to be
used as the target for mapping. And, in this case the FQAN are verified, permitting reliance on their
authenticity.
<!--l. 1569--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8.5   </span> <a 
 id="x36-2860003.8.5"></a>Encryption</h4>
<a 
 id="dx36-286001"></a>
<!--l. 1572--><p class="noindent" >Encryption provides privacy support between two communicating parties. Through configuration macros, both the
client and the daemon can specify whether encryption is required for further communication.
<!--l. 1576--><p class="indent" >   The client uses one of two macros to enable or disable encryption: <a 
 id="dx36-286002"></a><a 
 id="dx36-286003"></a> <a 
 id="dx36-286004"></a><a 
 id="dx36-286005"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-614">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DEFAULT_ENCRYPTION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_CLIENT_ENCRYPTION</tspan>
</div>
<!--l. 1584--><p class="nopar" >
<!--l. 1586--><p class="indent" >   For the daemon, there are seven macros to enable or disable encryption: <a 
 id="dx36-286006"></a><a 
 id="dx36-286007"></a> <a 
 id="dx36-286008"></a><a 
 id="dx36-286009"></a> <a 
 id="dx36-286010"></a><a 
 id="dx36-286011"></a> <a 
 id="dx36-286012"></a><a 
 id="dx36-286013"></a> <a 
 id="dx36-286014"></a><a 
 id="dx36-286015"></a> <a 
 id="dx36-286016"></a><a 
 id="dx36-286017"></a> <a 
 id="dx36-286018"></a><a 
 id="dx36-286019"></a> <a 
 id="dx36-286020"></a><a 
 id="dx36-286021"></a> <a 
 id="dx36-286022"></a><a 
 id="dx36-286023"></a> <a 
 id="dx36-286024"></a><a 
 id="dx36-286025"></a> <a 
 id="dx36-286026"></a><a 
 id="dx36-286027"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-615">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DEFAULT_ENCRYPTION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_READ_ENCRYPTION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_WRITE_ENCRYPTION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADMINISTRATOR_ENCRYPTION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_CONFIG_ENCRYPTION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_OWNER_ENCRYPTION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DAEMON_ENCRYPTION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_NEGOTIATOR_ENCRYPTION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_MASTER_ENCRYPTION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_STARTD_ENCRYPTION</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_SCHEDD_ENCRYPTION</tspan>
</div>
<!--l. 1621--><p class="nopar" >
<!--l. 1623--><p class="indent" >   As an example, the macro defined in the configuration file for a daemon as
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-616">
<tspan font-family="ectt" font-size="1000">SEC_CONFIG_ENCRYPTION</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
</div>
<!--l. 1627--><p class="nopar" > signifies that any communication that changes a daemon&#8217;s configuration must be encrypted. If a daemon&#8217;s
configuration contains
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-617">
<tspan font-family="ectt" font-size="1000">SEC_DEFAULT_ENCRYPTION</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
</div>
<!--l. 1633--><p class="nopar" > and does not contain any other security configuration for ENCRYPTION, then this default defines the daemon&#8217;s
needs for encryption over all access levels. Where a specific macro is present, its value takes precedence over any
default given.
<!--l. 1640--><p class="indent" >   If encryption is to be done, then the communicating parties must find (negotiate) a mutually acceptable method
of encryption to be used. A list of acceptable methods may be provided by the client, using the macros <a 
 id="dx36-286028"></a><a 
 id="dx36-286029"></a>
<a 
 id="dx36-286030"></a><a 
 id="dx36-286031"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-618">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DEFAULT_CRYPTO_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_CLIENT_CRYPTO_METHODS</tspan>
</div>
<!--l. 1652--><p class="nopar" > A list of acceptable methods may be provided by the daemon, using the macros <a 
 id="dx36-286032"></a><a 
 id="dx36-286033"></a> <a 
 id="dx36-286034"></a><a 
 id="dx36-286035"></a> <a 
 id="dx36-286036"></a><a 
 id="dx36-286037"></a> <a 
 id="dx36-286038"></a><a 
 id="dx36-286039"></a> <a 
 id="dx36-286040"></a><a 
 id="dx36-286041"></a> <a 
 id="dx36-286042"></a><a 
 id="dx36-286043"></a> <a 
 id="dx36-286044"></a><a 
 id="dx36-286045"></a> <a 
 id="dx36-286046"></a><a 
 id="dx36-286047"></a> <a 
 id="dx36-286048"></a><a 
 id="dx36-286049"></a> <a 
 id="dx36-286050"></a><a 
 id="dx36-286051"></a> <a 
 id="dx36-286052"></a><a 
 id="dx36-286053"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-619">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DEFAULT_CRYPTO_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_READ_CRYPTO_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_WRITE_CRYPTO_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADMINISTRATOR_CRYPTO_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_CONFIG_CRYPTO_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_OWNER_CRYPTO_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DAEMON_CRYPTO_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_NEGOTIATOR_CRYPTO_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_MASTER_CRYPTO_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_STARTD_CRYPTO_METHODS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_SCHEDD_CRYPTO_METHODS</tspan>
</div>
<!--l. 1689--><p class="nopar" >
<!--l. 1691--><p class="indent" >   The methods are given as a comma-separated list of acceptable values. These variables list the encryption
methods that are available to be used. The ordering of the list gives preference; the first item in the list indicates the
highest preference. Possible values are
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-620">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;3DES</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;BLOWFISH</tspan>
</div>
<!--l. 1701--><p class="nopar" >
<!--l. 1704--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8.6   </span> <a 
 id="x36-2870003.8.6"></a>Integrity</h4>
<a 
 id="dx36-287001"></a>
<!--l. 1708--><p class="noindent" >An integrity check assures that the messages between communicating parties have not been tampered
with. Any change, such as addition, modification, or deletion can be detected. Through configuration
macros, both the client and the daemon can specify whether an integrity check is required of further
communication.
<!--l. 1715--><p class="indent" >   Note at this time, integrity checks are not performed upon job data files that are transferred by HTCondor via
the File Transfer Mechanism described in section&#x00A0;<a 
href="SubmittingaJob.html#x17-380002.5.9">2.5.9<!--tex4ht:ref: sec:file-transfer --></a>.
<!--l. 1719--><p class="indent" >   The client uses one of two macros to enable or disable an integrity check: <a 
 id="dx36-287002"></a><a 
 id="dx36-287003"></a> <a 
 id="dx36-287004"></a><a 
 id="dx36-287005"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-621">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DEFAULT_INTEGRITY</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_CLIENT_INTEGRITY</tspan>
</div>
<!--l. 1727--><p class="nopar" >
<!--l. 1729--><p class="indent" >   For the daemon, there are seven macros to enable or disable an integrity check: <a 
 id="dx36-287006"></a><a 
 id="dx36-287007"></a> <a 
 id="dx36-287008"></a><a 
 id="dx36-287009"></a> <a 
 id="dx36-287010"></a><a 
 id="dx36-287011"></a> <a 
 id="dx36-287012"></a><a 
 id="dx36-287013"></a> <a 
 id="dx36-287014"></a><a 
 id="dx36-287015"></a> <a 
 id="dx36-287016"></a><a 
 id="dx36-287017"></a> <a 
 id="dx36-287018"></a><a 
 id="dx36-287019"></a> <a 
 id="dx36-287020"></a><a 
 id="dx36-287021"></a> <a 
 id="dx36-287022"></a><a 
 id="dx36-287023"></a> <a 
 id="dx36-287024"></a><a 
 id="dx36-287025"></a> <a 
 id="dx36-287026"></a><a 
 id="dx36-287027"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-622">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DEFAULT_INTEGRITY</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_READ_INTEGRITY</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_WRITE_INTEGRITY</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADMINISTRATOR_INTEGRITY</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_CONFIG_INTEGRITY</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_OWNER_INTEGRITY</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_DAEMON_INTEGRITY</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_NEGOTIATOR_INTEGRITY</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_MASTER_INTEGRITY</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_STARTD_INTEGRITY</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SEC_ADVERTISE_SCHEDD_INTEGRITY</tspan>
</div>
<!--l. 1764--><p class="nopar" >
<!--l. 1766--><p class="indent" >   As an example, the macro defined in the configuration file for a daemon as
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-623">
<tspan font-family="ectt" font-size="1000">SEC_CONFIG_INTEGRITY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
</div>
<!--l. 1770--><p class="nopar" > signifies that any communication that changes a daemon&#8217;s configuration must have its integrity assured. If a
daemon&#8217;s configuration contains
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-624">
<tspan font-family="ectt" font-size="1000">SEC_DEFAULT_INTEGRITY</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;REQUIRED</tspan>
</div>
<!--l. 1776--><p class="nopar" > and does not contain any other security configuration for <span class="obeylines-h"><span class="verb">INTEGRITY</span></span>, then this default defines the daemon&#8217;s needs
for integrity checks over all access levels. Where a specific macro is present, its value takes precedence over any
default given.
<!--l. 1783--><p class="indent" >   A signed MD5 check sum is currently the only available method for integrity checking. Its use is implied
whenever integrity checks occur. If more methods are implemented, then there will be further macros to allow both
the client and the daemon to specify which methods are acceptable.
<!--l. 1791--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8.7   </span> <a 
 id="x36-2880003.8.7"></a>Authorization</h4>
<a 
 id="dx36-288001"></a>
<a 
 id="dx36-288002"></a>
<a 
 id="dx36-288003"></a>
<!--l. 1797--><p class="noindent" >Authorization protects resource usage by granting or denying access requests made to the resources. It defines who
is allowed to do what.
<!--l. 1801--><p class="indent" >   Authorization is defined in terms of users. An initial implementation provided authorization based on hosts
(machines), while the current implementation relies on user-based authorization. Section&#x00A0;<a 
href="#x36-2920003.8.9">3.8.9<!--tex4ht:ref: sec:Host-Security --></a> on Setting Up
IP/Host-Based Security in HTCondor describes the previous implementation. This IP/Host-Based security
still exists, and it can be used, but significantly stronger and more flexible security can be achieved
with the newer authorization based on fully qualified user names. This section discusses user-based
authorization.
<!--l. 1818--><p class="indent" >   The authorization portion of the security of an HTCondor pool is based on a set of configuration macros. The
macros list which user will be authorized to issue what request given a specific access level. When a daemon is to be
authorized, its user name is the login under which the daemon is executed.
<!--l. 1825--><p class="indent" >   These configuration macros define a set of users that will be allowed to (or denied from) carrying out various
HTCondor commands. Each access level may have its own list of authorized users. A complete list of the
authorization macros: <a 
 id="dx36-288004"></a><a 
 id="dx36-288005"></a> <a 
 id="dx36-288006"></a><a 
 id="dx36-288007"></a> <a 
 id="dx36-288008"></a><a 
 id="dx36-288009"></a> <a 
 id="dx36-288010"></a><a 
 id="dx36-288011"></a> <a 
 id="dx36-288012"></a><a 
 id="dx36-288013"></a> <a 
 id="dx36-288014"></a><a 
 id="dx36-288015"></a> <a 
 id="dx36-288016"></a><a 
 id="dx36-288017"></a> <a 
 id="dx36-288018"></a><a 
 id="dx36-288019"></a> <a 
 id="dx36-288020"></a><a 
 id="dx36-288021"></a> <a 
 id="dx36-288022"></a><a 
 id="dx36-288023"></a> <a 
 id="dx36-288024"></a><a 
 id="dx36-288025"></a> <a 
 id="dx36-288026"></a><a 
 id="dx36-288027"></a> <a 
 id="dx36-288028"></a><a 
 id="dx36-288029"></a> <a 
 id="dx36-288030"></a><a 
 id="dx36-288031"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-625">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALLOW_READ</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALLOW_WRITE</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALLOW_ADMINISTRATOR</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALLOW_CONFIG</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALLOW_OWNER</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALLOW_NEGOTIATOR</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALLOW_DAEMON</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DENY_READ</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DENY_WRITE</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DENY_ADMINISTRATOR</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DENY_CONFIG</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DENY_OWNER</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DENY_NEGOTIATOR</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DENY_DAEMON</tspan>
</div>
<!--l. 1872--><p class="nopar" >
<!--l. 1874--><p class="indent" >   In addition, the following are used to control authorization of specific types of HTCondor daemons when
advertising themselves to the pool. If unspecified, these default to the broader <span class="texttt">ALLOW_DAEMON</span> and <span class="texttt">DENY_DAEMON</span>
settings.
<a 
 id="dx36-288032"></a>
<a 
 id="dx36-288033"></a>
<a 
 id="dx36-288034"></a>
<a 
 id="dx36-288035"></a>
<a 
 id="dx36-288036"></a>
<a 
 id="dx36-288037"></a>
<a 
 id="dx36-288038"></a>
<a 
 id="dx36-288039"></a>
<a 
 id="dx36-288040"></a>
<a 
 id="dx36-288041"></a>
<a 
 id="dx36-288042"></a>
<a 
 id="dx36-288043"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-626">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALLOW_ADVERTISE_MASTER</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALLOW_ADVERTISE_STARTD</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALLOW_ADVERTISE_SCHEDD</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DENY_ADVERTISE_MASTER</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DENY_ADVERTISE_STARTD</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DENY_ADVERTISE_SCHEDD</tspan>
</div>
<!--l. 1898--><p class="nopar" >
<!--l. 1901--><p class="indent" >   Each client side of a connection may also specify its own list of trusted servers. This is done using the following
settings. Note that the FS and CLAIMTOBE authentication methods are not symmetric. The client is
authenticated by the server, but the server is not authenticated by the client. When the server is not authenticated
to the client, only the network address of the host may be authorized and not the specific identity of the
server.
<a 
 id="dx36-288044"></a>
<a 
 id="dx36-288045"></a>
<a 
 id="dx36-288046"></a>
<a 
 id="dx36-288047"></a>
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-627">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ALLOW_CLIENT</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DENY_CLIENT</tspan>
</div>
<!--l. 1916--><p class="nopar" >
<!--l. 1918--><p class="indent" >   The names <span class="texttt">ALLOW_CLIENT</span> and <span class="texttt">DENY_CLIENT</span> should be thought of as &#8220;when I am acting as a client, these are the
servers I allow or deny.&#8221; It should <span class="emph">not</span> be confused with the incorrect thought &#8220;when I am the server, these are the
clients I allow or deny.&#8221;
<!--l. 1924--><p class="indent" >   All authorization settings are defined by a comma-separated list of fully qualified users. Each fully qualified user
is described using the following format:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-628">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;username@domain/hostname</tspan>
</div>
<!--l. 1930--><p class="nopar" > The information to the left of the slash character describes a user within a domain. The information to the right of
the slash character describes one or more machines from which the user would be issuing a command. This host
name may take the form of either a fully qualified host name of the form
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-629">
<tspan font-family="ectt" font-size="1000">bird.cs.wisc.edu</tspan>
</div>
<!--l. 1939--><p class="nopar" > or an IP address of the form
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-630">
<tspan font-family="ectt" font-size="1000">128.105.128.0</tspan>
</div>
<!--l. 1944--><p class="nopar" >
<!--l. 1946--><p class="indent" >   An example is
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-631">
<tspan font-family="ectt" font-size="1000">zmiller@cs.wisc.edu/bird.cs.wisc.edu</tspan>
</div>
<!--l. 1949--><p class="nopar" >
<!--l. 1951--><p class="indent" >   Within the format, wild card characters (the asterisk, *) are allowed. The use of wild cards is limited to one
wild card on either side of the slash character. A wild card character used in the host name is further
limited to come at the beginning of a fully qualified host name or at the end of an IP address. For
example,
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-632">
<tspan font-family="ectt" font-size="1000">*@cs.wisc.edu/bird.cs.wisc.edu</tspan>
</div>
<!--l. 1960--><p class="nopar" > refers to any user that comes from <span class="obeylines-h"><span class="verb">cs.wisc.edu</span></span>, where the command is originating from the machine
<span class="obeylines-h"><span class="verb">bird.cs.wisc.edu</span></span>. Another valid example,
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-633">
<tspan font-family="ectt" font-size="1000">zmiller@cs.wisc.edu/*.cs.wisc.edu</tspan>
</div>
<!--l. 1967--><p class="nopar" > refers to commands coming from any machine within the <span class="obeylines-h"><span class="verb">cs.wisc.edu</span></span> domain, and issued by <span class="obeylines-h"><span class="verb">zmiller</span></span>. A third
valid example,
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-634">
<tspan font-family="ectt" font-size="1000">*@cs.wisc.edu/*</tspan>
</div>
<!--l. 1973--><p class="nopar" > refers to commands coming from any user within the <span class="obeylines-h"><span class="verb">cs.wisc.edu</span></span> domain where the command is issued from any
machine. A fourth valid example,
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-635">
<tspan font-family="ectt" font-size="1000">*@cs.wisc.edu/128.105.*</tspan>
</div>
<!--l. 1980--><p class="nopar" > refers to commands coming from any user within the <span class="obeylines-h"><span class="verb">cs.wisc.edu</span></span> domain where the command is issued from
machines within the network that match the first two octets of the IP address.
<!--l. 1986--><p class="indent" >   If the set of machines is specified by an IP address, then further specification using a net mask identifies a
physical set (subnet) of machines. This physical set of machines is specified using the form
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-636">
<tspan font-family="ectt" font-size="1000">network/netmask</tspan>
</div>
<!--l. 1992--><p class="nopar" > The <span class="obeylines-h"><span class="verb">network</span></span> is an IP address. The net mask takes one of two forms. It may be a decimal number which refers to
the number of leading bits of the IP address that are used in describing a subnet. Or, the net mask may take the
form of
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-637">
<tspan font-family="ectt" font-size="1000">a.b.c.d</tspan>
</div>
<!--l. 2000--><p class="nopar" > where <span class="obeylines-h"><span class="verb">a</span></span>, <span class="obeylines-h"><span class="verb">b</span></span>, <span class="obeylines-h"><span class="verb">c</span></span>, and <span class="obeylines-h"><span class="verb">d</span></span> are decimal numbers that each specify an 8-bit mask. An example net mask
is
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-638">
<tspan font-family="ectt" font-size="1000">255.255.192.0</tspan>
</div>
<!--l. 2009--><p class="nopar" > which specifies the bit mask
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-639">
<tspan font-family="ectt" font-size="1000">11111111.11111111.11000000.00000000</tspan>
</div>
<!--l. 2013--><p class="nopar" >
<!--l. 2015--><p class="indent" >   A single complete example of a configuration variable that uses a net mask is
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-640">
<tspan font-family="ectt" font-size="0800">ALLOW_WRITE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;joesmith@cs.wisc.edu/128.105.128.0/17</tspan>
</div>
<!--l. 2020--><p class="nopar" > User <span class="obeylines-h"><span class="verb">joesmith</span></span> within the <span class="obeylines-h"><span class="verb">cs.wisc.edu</span></span> domain is given write authorization when originating from machines that
match their leftmost 17 bits of the IP address.
<a 
 id="dx36-288048"></a>
<!--l. 2028--><p class="indent" >   For Unix platforms where netgroups are implemented, a netgroup may specify a set of fully qualified users by
using an extension to the syntax for all configuration variables of the form <span class="texttt">ALLOW_*</span> and <span class="texttt">DENY_*</span>. The syntax is the
plus sign character (<span class="texttt">+</span>) followed by the netgroup name. Permissions are applied to all members of the
netgroup.
<!--l. 2036--><p class="indent" >   This flexible set of configuration macros could be used to define conflicting authorization. Therefore, the
following protocol defines the precedence of the configuration macros.
     <dl class="description"><dt class="description">
 </dt><dd 
class="description">1. <span class="texttt">DENY_*</span> macros take precedence over <span class="texttt">ALLOW_* macros</span> <a 
 id="dx36-288049"></a><a 
 id="dx36-288050"></a> where there is a conflict. This implies that if a
     specific user is both denied and granted authorization, the conflict is resolved by denying access.
     </dd><dt class="description">
 </dt><dd 
class="description">2. If macros are omitted, the default behavior is to grant authorization for every user.</dd></dl>
<!--l. 2049--><p class="indent" >   In addition, there are some hard-coded authorization rules that cannot be modified by configuration.
<a 
 id="dx36-288051"></a>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x36-288053x1">Connections with a name matching <span class="obeylines-h"><span class="verb">*@unmapped</span></span> are not allowed to do any job management commands
     (e.g. submitting, removing, or modifying jobs). This prevents these operations from being done by
     unauthenticated users and users who are authenticated but lacking a name in the map file.
     </li>
     <li 
  class="enumerate" id="x36-288055x2">To simplify flocking, the <span class="textit">condor_schedd</span> automatically grants the <span class="textit">condor_startd</span> <span class="texttt">READ</span> access for the
     duration of a claim so that claim-related communications are possible. The <span class="textit">condor_shadow</span> grants
     the <span class="textit">condor_starter</span> <span class="texttt">DAEMON</span> access so that file transfers can be done. The identity that is granted
     access in both these cases is the authenticated name (if available) and IP address of the <span class="textit">condor_startd</span>
     when  the  <span class="textit">condor_schedd</span> initially  connects  to  it  to  request  the  claim.  It  is  important  that  only
     trusted <span class="textit">condor_startd</span>s are allowed to publish themselves to the collector or that the <span class="textit">condor_schedd</span>&#8217;s
     <span class="texttt">ALLOW_CLIENT</span> setting prevent it from allowing connections to <span class="textit">condor_startd</span>s that it does not trust to
     run jobs.
     </li>
     <li 
  class="enumerate" id="x36-288057x3">When  <span class="texttt">SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION</span> <a 
 id="dx36-288058"></a><a 
 id="dx36-288059"></a> is  true,  <span class="obeylines-h"><span class="verb">execute-side@matchsession</span></span> is
     automatically granted <span class="texttt">READ</span> access to the <span class="textit">condor_schedd</span> and <span class="texttt">DAEMON</span> access to the <span class="textit">condor_shadow</span>.
     </li></ol>
                                                                                         

                                                                                         
<!--l. 2081--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2890003.8.7"></a> Example of Authorization Security Configuration</h5>
<!--l. 2084--><p class="noindent" >An example of the configuration variables for the user-side authorization is derived from the necessary access levels
as described in Section&#x00A0;<a 
href="#x36-2700003.8.1">3.8.1<!--tex4ht:ref: sec:Security-access-levels --></a>.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-641">
<tspan font-family="ectt" font-size="0800">ALLOW_READ</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*@cs.wisc.edu/*</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_WRITE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*@cs.wisc.edu/*.cs.wisc.edu</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_ADMINISTRATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor-admin@cs.wisc.edu/*.cs.wisc.edu</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_CONFIG</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor-admin@cs.wisc.edu/*.cs.wisc.edu</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_NEGOTIATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor@cs.wisc.edu/condor.cs.wisc.edu,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;\</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor@cs.wisc.edu/condor2.cs.wisc.edu</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_DAEMON</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor@cs.wisc.edu/*.cs.wisc.edu</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Clear</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;out</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;any</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;old-style</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;HOSTALLOW</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;settings:</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">HOSTALLOW_READ</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">HOSTALLOW_WRITE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">HOSTALLOW_DAEMON</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">HOSTALLOW_NEGOTIATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">HOSTALLOW_ADMINISTRATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">HOSTALLOW_OWNER</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan>
</div>
<!--l. 2106--><p class="nopar" >
<!--l. 2110--><p class="indent" >   This example configuration authorizes any authenticated user in the <span class="obeylines-h"><span class="verb">cs.wisc.edu</span></span> domain to carry out a request
that requires the <span class="texttt">READ</span> access level from any machine. Any user in the <span class="obeylines-h"><span class="verb">cs.wisc.edu</span></span> domain may carry out a request
that requires the <span class="texttt">WRITE</span> access level from any machine in the <span class="obeylines-h"><span class="verb">cs.wisc.edu</span></span> domain. Only the user called
<span class="obeylines-h"><span class="verb">condor-admin</span></span> may carry out a request that requires the <span class="texttt">ADMINISTRATOR</span> access level from any machine in the
<span class="obeylines-h"><span class="verb">cs.wisc.edu</span></span> domain. The administrator, logged into any machine within the <span class="obeylines-h"><span class="verb">cs.wisc.edu</span></span> domain is
authorized at the <span class="texttt">CONFIG</span> access level. Only the negotiator daemon, running as <span class="obeylines-h"><span class="verb">condor</span></span> on the two
central managers are authorized with the <span class="texttt">NEGOTIATOR</span> access level. And, the last line of the example
presumes that there is a user called condor, and that the daemons have all been started up as this user. It
authorizes only programs (which will be the daemons) running as <span class="obeylines-h"><span class="verb">condor</span></span> to carry out requests that
require the <span class="texttt">DAEMON</span> access level, where the commands originate from any machine in the <span class="obeylines-h"><span class="verb">cs.wisc.edu</span></span>
domain.
<!--l. 2147--><p class="indent" >   In the local configuration file for each host, the host&#8217;s owner should be authorized as the owner of the machine.
An example of the entry in the local configuration file:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-642">
<tspan font-family="ectt" font-size="0800">ALLOW_OWNER</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;username@cs.wisc.edu/hostname.cs.wisc.edu</tspan>
</div>
<!--l. 2154--><p class="nopar" > In this example the owner has a login of <span class="obeylines-h"><span class="verb">username</span></span>, and the machine&#8217;s name is represented by <span class="obeylines-h"><span class="verb">hostname</span></span>.
<!--l. 2161--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2900003.8.7"></a> Debugging Security Configuration</h5>
<!--l. 2164--><p class="noindent" >If the authorization policy denies a network request, an explanation of why the request was denied is
printed in the log file of the daemon that denied the request. The line in the log file contains the words
<span class="obeylines-h"><span class="verb">PERMISSION&#x00A0;DENIED</span></span>.
<!--l. 2169--><p class="indent" >   To get HTCondor to generate a similar explanation of why requests are accepted, add <span class="texttt">D_SECURITY</span> <a 
 id="dx36-290001"></a><a 
 id="dx36-290002"></a> to the
daemon&#8217;s debug options (and restart or reconfig the daemon). The line in the log file for these cases will contain the
words <span class="obeylines-h"><span class="verb">PERMISSION&#x00A0;GRANTED</span></span>. If you do not want to see a full explanation but just want to see when requests are
made, add <span class="texttt">D_COMMAND</span> <a 
 id="dx36-290003"></a><a 
 id="dx36-290004"></a> to the daemon&#8217;s debug options.
<!--l. 2176--><p class="indent" >   If the authorization policy makes use of host or domain names, then be aware that HTCondor depends on DNS
to map IP addresses to names. The security and accuracy of your DNS service is therefore a requirement. Typos in
DNS mappings are an occasional source of unexpected behavior. If the authorization policy is not behaving as
expected, carefully compare the names in the policy with the host names HTCondor mentions in the explanations of
why requests are granted or denied.
<!--l. 2185--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8.8   </span> <a 
 id="x36-2910003.8.8"></a>Security Sessions</h4>
<a 
 id="dx36-291001"></a>
<a 
 id="dx36-291002"></a>
<!--l. 2190--><p class="noindent" >To set up and configure secure communications in HTCondor, authentication, encryption, and integrity checks can
be used. However, these come at a cost: performing strong authentication can take a significant amount of time, and
generating the cryptographic keys for encryption and integrity checks can take a significant amount of processing
power.
<!--l. 2197--><p class="indent" >   The HTCondor system makes many network connections between different daemons. If each one of these was to
be authenticated, and new keys were generated for each connection, HTCondor would not be able to scale well.
Therefore, HTCondor uses the concept of <span class="emph">sessions</span> to cache relevant security information for future use
and greatly speed up the establishment of secure communications between the various HTCondor
daemons.
                                                                                         

                                                                                         
<!--l. 2207--><p class="indent" >   A new session is established the first time a connection is made from one daemon to another. Each session has a
fixed lifetime after which it will expire and a new session will need to be created again. But while a valid session
exists, it can be re-used as many times as needed, thereby preventing the need to continuously re-establish secure
connections. Each entity of a connection will have access to a <span class="emph">session key</span> that proves the identity of the
other entity on the opposing side of the connection. This session key is exchanged securely using a
strong authentication method, such as Kerberos or GSI. Other authentication methods, such as <span class="texttt">NTSSPI</span>,
<span class="texttt">FS_REMOTE</span>, <span class="texttt">CLAIMTOBE</span>, and <span class="texttt">ANONYMOUS</span>, do not support secure key exchange. An entity listening on the wire
may be able to impersonate the client or server in a session that does not use a strong authentication
method.
<!--l. 2223--><p class="indent" >   Establishing a secure session requires that either the encryption or the integrity options be enabled. If the
encryption capability is enabled, then the session will be restarted using the session key as the encryption key.
If integrity capability is enabled, then the check sum includes the session key even though it is not
transmitted. Without either of these two methods enabled, it is possible for an attacker to use an open
session to make a connection to a daemon and use that connection for nefarious purposes. It is strongly
recommended that if <span class="emph">you have authentication turned on, you should also turn on integrity and/or
encryption</span>.
<!--l. 2235--><p class="indent" >   The configuration parameter <span class="texttt">SEC_DEFAULT_NEGOTIATION</span> will allow a user to set the default level of secure
sessions in HTCondor. Like other security settings, the possible values for this parameter can be <span class="obeylines-h"><span class="verb">REQUIRED</span></span>,
<span class="obeylines-h"><span class="verb">PREFERRED</span></span>, <span class="obeylines-h"><span class="verb">OPTIONAL</span></span>, or <span class="obeylines-h"><span class="verb">NEVER</span></span>. If you disable sessions and you have authentication turned on, then
most authentication (other than commands like <span class="textit">condor_submit</span>) will fail because HTCondor requires
sessions when you have security turned on. On the other hand, if you are not using strong security in
HTCondor, but you are relying on the default host-based security, turning off sessions may be useful in
certain situations. These might include debugging problems with the security session management
or slightly decreasing the memory consumption of the daemons, which keep track of the sessions in
use.
<!--l. 2250--><p class="indent" >   Session lifetimes for specific daemons are already properly configured in the default installation of HTCondor.
HTCondor tools such as <span class="textit">condor_q</span> and <span class="textit">condor_status</span> create a session that expires after one minute. Theoretically
they should not create a session at all, because the session cannot be reused between program invocations, but this
is difficult to do in the general case. This allows a very small window of time for any possible attack, and it helps
keep the memory footprint of running daemons down, because they are not keeping track of all of the sessions. The
session durations may be manually tuned by using macros in the configuration file, but this is not
recommended.
<!--l. 2269--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8.9   </span> <a 
 id="x36-2920003.8.9"></a>Host-Based Security in HTCondor</h4>
<a 
 id="dx36-292001"></a>
<!--l. 2273--><p class="noindent" >This section describes the mechanisms for setting up HTCondor&#8217;s host-based security. This is now an outdated form
of implementing security levels for machine access. It remains available and documented for purposes of backward
compatibility. If used at the same time as the user-based authorization, the two specifications are merged
together.
                                                                                         

                                                                                         
<!--l. 2281--><p class="indent" >   The host-based security paradigm allows control over which machines can join an HTCondor pool,
which machines can find out information about your pool, and which machines within a pool can
perform administrative commands. By default, HTCondor is configured to allow anyone to view or join a
pool. It is recommended that this parameter is changed to only allow access from machines that you
trust.
<!--l. 2288--><p class="indent" >   This section discusses how the host-based security works inside HTCondor. It lists the different levels of access
and what parts of HTCondor use which levels. There is a description of how to configure a pool to grant or deny
certain levels of access to various machines. Configuration examples and the settings of configuration variables using
the <span class="textit">condor_config_val</span> command complete this section.
<!--l. 2297--><p class="indent" >   Inside the HTCondor daemons or tools that use DaemonCore (see section&#x00A0;<a 
href="DaemonCore.html#x39-3300003.11">3.11<!--tex4ht:ref: sec:DaemonCore --></a> for details), most tasks are
accomplished by sending commands to another HTCondor daemon. These commands are represented by an integer
value to specify which command is being requested, followed by any optional information that the protocol requires
at that point (such as a ClassAd, capability string, etc). When the daemons start up, they will register which
commands they are willing to accept, what to do with arriving commands, and the access level required for each
command. When a command request is received by a daemon, HTCondor identifies the access level required
and checks the IP address of the sender to verify that it satisfies the allow/deny settings from the
configuration file. If permission is granted, the command request is honored; otherwise, the request will be
aborted.
<!--l. 2317--><p class="indent" >   Settings for the access levels in the global configuration file will affect all the machines in the pool. Settings in a
local configuration file will only affect the specific machine. The settings for a given machine determine what other
hosts can send commands to that machine. If a machine foo is to be given administrator access on machine bar,
place foo in bar&#8217;s configuration file access list (not the other way around).
<!--l. 2327--><p class="indent" >   The following are the various access levels that commands within HTCondor can be registered
with:
     <dl class="description"><dt class="description">
<span class="texttt">READ</span> </dt><dd 
class="description"> Machines with <span class="texttt">READ</span> access can read information from the HTCondor daemons. For example, they
     can view the status of the pool, see the job queue(s), and view user permissions. <span class="texttt">READ</span> access does not
     allow a machine to alter any information, and does not allow job submission. A machine listed with
     <span class="texttt">READ</span> permission will be unable join an HTCondor pool; the machine can only view information about
     the pool.
     </dd><dt class="description">
<span class="texttt">WRITE</span> </dt><dd 
class="description"> Machines with <span class="texttt">WRITE</span> access can write information to the HTCondor daemons. Most important for
     granting a machine with this access is that the machine will be able to join a pool since they are
     allowed to send ClassAd updates to the central manager. The machine can talk to the other machines
     in a pool in order to submit or run jobs. In addition, any machine with <span class="texttt">WRITE</span> access can request
     the <span class="textit">condor_startd</span> daemon to perform periodic checkpoints on an executing job. After the checkpoint
     is completed, the job will continue to execute and the machine will still be claimed by the original
     <span class="textit">condor_schedd</span> daemon. This allows users on the machines where they submitted their jobs to use the
     <span class="textit">condor_checkpoint</span> command to get their jobs to periodically checkpoint, even if the users do not have
     an account on the machine where the jobs execute.
                                                                                         

                                                                                         
     <!--l. 2358--><p class="noindent" ><span class="textbf">IMPORTANT:</span> For  a  machine  to  join  an  HTCondor  pool,  the  machine  must  have  both  <span class="texttt">WRITE</span>
     permission <span class="textbf">AND</span> <span class="texttt">READ</span> permission. <span class="texttt">WRITE</span> permission is not enough.
     </dd><dt class="description">
<span class="texttt">ADMINISTRATOR</span> </dt><dd 
class="description"> Machines  with  <span class="texttt">ADMINISTRATOR</span> access  are  granted  additional  HTCondor  administrator
     rights  to  the  pool.  This  includes  the  ability  to  change  user  priorities  with  the  command
     <span class="textit">condor_userprio</span>, and the ability to turn HTCondor on and off using <span class="textit">condor_on</span> and <span class="textit">condor_off </span>. It
     is recommended that few machines be granted administrator access in a pool; typically these are the
     machines that are used by HTCondor and system administrators as their primary workstations, or the
     machines running as the pool&#8217;s central manager.
     <!--l. 2373--><p class="noindent" ><span class="textbf">IMPORTANT:</span> Giving <span class="texttt">ADMINISTRATOR</span> privileges to a machine grants administrator access for the
     pool to <span class="textbf">ANY USER</span> on that machine. This includes any users who can run HTCondor jobs on that
     machine. It is recommended that <span class="texttt">ADMINISTRATOR</span> access is granted with due diligence.
     </dd><dt class="description">
<span class="texttt">OWNER</span> </dt><dd 
class="description"> This level of access is required for commands that the owner of a machine (any local user) should be
     able to use, in addition to the HTCondor administrators. For example, the <span class="textit">condor_vacate</span> command
     causes the <span class="textit">condor_startd</span> daemon to vacate any running HTCondor job. It requires <span class="texttt">OWNER</span> permission,
     so that any user logged into a local machine can issue a <span class="textit">condor_vacate</span> command.
     </dd><dt class="description">
<span class="texttt">NEGOTIATOR</span> </dt><dd 
class="description"> This access level is used specifically to verify that commands are sent by the <span class="textit">condor_negotiator</span>
     daemon. The <span class="textit">condor_negotiator</span> daemon runs on the central manager of the pool. Commands requiring
     this access level are the ones that tell the <span class="textit">condor_schedd</span> daemon to begin negotiating, and those that
     tell an available <span class="textit">condor_startd</span> daemon that it has been matched to a <span class="textit">condor_schedd</span> with jobs to run.
     </dd><dt class="description">
<span class="texttt">CONFIG</span> </dt><dd 
class="description"> This access level is required to modify a daemon&#8217;s configuration using the <span class="textit">condor_config_val</span>
     command. By default, machines with this level of access are able to change any configuration parameter,
     except those specified in the <span class="texttt">condor_config.root</span> configuration file. Therefore, one should exercise
     extreme caution before granting this level of host-wide access. Because of the implications caused by
     <span class="texttt">CONFIG</span> privileges, it is disabled by default for all hosts.
     </dd><dt class="description">
<span class="texttt">DAEMON</span> </dt><dd 
class="description"> This  access  level  is  used  for  commands  that  are  internal  to  the  operation  of  HTCondor.  An
     example of this internal operation is when the <span class="textit">condor_startd</span> daemon sends its ClassAd updates to the
     <span class="textit">condor_collector</span> daemon (which may be more specifically controlled by the <span class="texttt">ADVERTISE_STARTD</span> access
     level). Authorization at this access level should only be given to hosts that actually run HTCondor in
     your pool. The <span class="texttt">DAEMON</span> level of access implies both <span class="texttt">READ</span> and <span class="texttt">WRITE</span> access. Any setting for this access
     level that is not defined will default to the corresponding setting in the <span class="texttt">WRITE</span> access level.
     </dd><dt class="description">
<span class="texttt">ADVERTISE_MASTER</span> </dt><dd 
class="description"> This access level is used specifically for commands used to advertise a <span class="textit">condor_master</span>
     daemon  to  the  collector.  Any  setting  for  this  access  level  that  is  not  defined  will  default  to  the
     corresponding setting in the <span class="texttt">DAEMON</span> access level.
     </dd><dt class="description">
<span class="texttt">ADVERTISE_STARTD</span> </dt><dd 
class="description"> This access level is used specifically for commands used to advertise a <span class="textit">condor_startd</span>
                                                                                         

                                                                                         
     daemon  to  the  collector.  Any  setting  for  this  access  level  that  is  not  defined  will  default  to  the
     corresponding setting in the <span class="texttt">DAEMON</span> access level.
     </dd><dt class="description">
<span class="texttt">ADVERTISE_SCHEDD</span> </dt><dd 
class="description"> This access level is used specifically for commands used to advertise a <span class="textit">condor_schedd</span>
     daemon  to  the  collector.  Any  setting  for  this  access  level  that  is  not  defined  will  default  to  the
     corresponding setting in the <span class="texttt">DAEMON</span> access level.
     </dd><dt class="description">
<span class="texttt">CLIENT</span> </dt><dd 
class="description"> This access level is different from all the others. Whereas all of the other access levels refer to
     the security policy for accepting connections <span class="emph">from</span> others, the <span class="texttt">CLIENT</span> access level applies when an
     HTCondor daemon or tool is connecting <span class="emph">to</span> some other HTCondor daemon. In other words, it specifies
     the policy of the client that is initiating the operation, rather than the server that is being contacted.
     </dd></dl>
<!--l. 2451--><p class="indent" >   <span class="texttt">ADMINISTRATOR</span> and <span class="texttt">NEGOTIATOR</span> access default to the central manager machine. <span class="texttt">OWNER</span> access defaults to the
local machine, as well as any machines given with <span class="texttt">ADMINISTRATOR</span> access. <span class="texttt">CONFIG</span> access is not granted to any
machine as its default. These defaults are sufficient for most pools, and should not be changed without a compelling
reason. If machines other than the default are to have to have <span class="texttt">OWNER</span> access, they probably should also have
<span class="texttt">ADMINISTRATOR</span> access. By granting machines <span class="texttt">ADMINISTRATOR</span> access, they will automatically have <span class="texttt">OWNER</span> access,
given how <span class="texttt">OWNER</span> access is set within the configuration.
<!--l. 2467--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8.10   </span> <a 
 id="x36-2930003.8.10"></a>Examples of Security Configuration</h4>
<a 
 id="dx36-293001"></a>
<!--l. 2471--><p class="noindent" >Here is a sample security configuration:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-643">
<tspan font-family="ectt" font-size="0800">ALLOW_ADMINISTRATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(CONDOR_HOST)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_OWNER</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(FULL_HOSTNAME),</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(ALLOW_ADMINISTRATOR)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_READ</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_WRITE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_NEGOTIATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(COLLECTOR_HOST)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_NEGOTIATOR_SCHEDD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(COLLECTOR_HOST),</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(FLOCK_NEGOTIATOR_HOSTS)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_WRITE_COLLECTOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(ALLOW_WRITE),</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(FLOCK_FROM)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_WRITE_STARTD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(ALLOW_WRITE),</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(FLOCK_FROM)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_READ_COLLECTOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(ALLOW_READ),</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(FLOCK_FROM)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_READ_STARTD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(ALLOW_READ),</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(FLOCK_FROM)</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_CLIENT</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*</tspan>
</div>
<!--l. 2485--><p class="nopar" >
<!--l. 2488--><p class="indent" >   This example configuration presumes that the <span class="textit">condor_collector</span> and <span class="textit">condor_negotiator</span> daemons are running on
the same machine.
<!--l. 2491--><p class="indent" >   For each access level, an ALLOW or a DENY may be added.
     <ul class="itemize1">
     <li class="itemize">If there is an ALLOW, it means "only allow these machines". No ALLOW means allow anyone.
     </li>
     <li class="itemize">If there is a DENY, it means "deny these machines". No DENY means deny nobody.
     </li>
     <li class="itemize">If there is both an ALLOW and a DENY, it means allow the machines listed in ALLOW except for
     the machines listed in DENY.
     </li>
     <li class="itemize">Exclusively for the <span class="texttt">CONFIG</span> access, no ALLOW means allow no one. Note that this is different than the
     other ALLOW configurations. It is different to enable more stringent security where older configurations
     are used, since older configuration files would not have a <span class="texttt">CONFIG</span> configuration entry.</li></ul>
<!--l. 2512--><p class="indent" >   Multiple machine entries in the configuration files may be separated by either a space or a comma. The machines
may be listed by
     <ul class="itemize1">
     <li class="itemize">Individual host names, for example: <span class="texttt">condor.cs.wisc.edu</span>
     </li>
     <li class="itemize">Individual IP address, for example: <span class="texttt">128.105.67.29</span>
     </li>
     <li class="itemize">IP subnets (use a trailing <span class="texttt">*</span>), for example: <span class="texttt">144.105.*, 128.105.67.*</span>
                                                                                         

                                                                                         
     </li>
     <li class="itemize">Host  names  with  a  wild  card  <span class="texttt">*</span> character  (only  one  <span class="texttt">*</span> is  allowed  per  name),  for  example:
     <span class="texttt">*.cs.wisc.edu, sol*.cs.wisc.edu</span></li></ul>
<!--l. 2527--><p class="indent" >   To resolve an entry that falls into both allow and deny: individual machines have a higher order of precedence
than wild card entries, and host names with a wild card have a higher order of precedence than IP subnets.
Otherwise, DENY has a higher order of precedence than ALLOW. This is how most people would intuitively expect
it to work.
<!--l. 2535--><p class="indent" >   In addition, the above access levels may be specified on a per-daemon basis, instead of machine-wide for all
daemons. Do this with the subsystem string (described in section&#x00A0;<a 
href="IntroductiontoConfiguration.html#x31-1810003.3.12">3.3.12<!--tex4ht:ref: sec:HTCondor-Subsystem-Names --></a> on Subsystem Names), which is one of:
<span class="texttt">STARTD</span>, <span class="texttt">SCHEDD</span>, <span class="texttt">MASTER</span>, <span class="texttt">NEGOTIATOR</span>, or <span class="texttt">COLLECTOR</span>. For example, to grant different read access for the
<span class="textit">condor_schedd</span>:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-644">
<tspan font-family="ectt" font-size="0800">ALLOW_READ_SCHEDD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&#x003C;list</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;of</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;machines&#x003E;</tspan>
</div>
<!--l. 2545--><p class="nopar" >
<!--l. 2549--><p class="indent" >   Here are more examples of configuration settings. Notice that <span class="texttt">ADMINISTRATOR</span> access is only granted
through an <span class="texttt">ALLOW</span> setting to explicitly grant access to a small number of machines. We recommend
this.
     <ul class="itemize1">
     <li class="itemize">Let any machine join the pool. Only the central manager has administrative access.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-645">
     <tspan font-family="ectt" font-size="0800">ALLOW_ADMINISTRATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(CONDOR_HOST)</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_OWNER</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(FULL_HOSTNAME),</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(ALLOW_ADMINISTRATOR)</tspan>
</div>
     <!--l. 2563--><p class="nopar" >
     </li>
     <li class="itemize">Only allow machines at NCSA to join or view the pool. The central manager is the only machine with
     <span class="texttt">ADMINISTRATOR</span> access.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-646">
     <tspan font-family="ectt" font-size="0800">ALLOW_READ</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*.ncsa.uiuc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_WRITE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*.ncsa.uiuc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_ADMINISTRATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(CONDOR_HOST)</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_OWNER</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(FULL_HOSTNAME),</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(ALLOW_ADMINISTRATOR)</tspan>
</div>
     <!--l. 2574--><p class="nopar" >
     </li>
     <li class="itemize">Only allow machines at NCSA and the U of I Math department join the pool, <span class="emph">except do not</span> allow lab
     machines to do so. Also, do not allow the 177.55 subnet (perhaps this is the dial-in subnet). Allow
     anyone to view pool statistics. The machine named bigcheese administers the pool (not the central
     manager).
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-647">
     <tspan font-family="ectt" font-size="0800">ALLOW_WRITE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*.ncsa.uiuc.edu,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*.math.uiuc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">DENY_WRITE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;lab-*.edu,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*.lab.uiuc.edu,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;177.55.*</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_ADMINISTRATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;bigcheese.ncsa.uiuc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_OWNER</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(FULL_HOSTNAME),</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(ALLOW_ADMINISTRATOR)</tspan>
</div>
     <!--l. 2589--><p class="nopar" >
     </li>
     <li class="itemize">Only allow machines at NCSA and UW-Madison&#8217;s CS department to view the pool. Only NCSA
     machines and the machine raven.cs.wisc.edu can join the pool. Note: the machine raven.cs.wisc.edu
     has the read access it needs through the wild card setting in <span class="texttt">ALLOW_READ</span>). This example also
     shows how to use the continuation character, <span class="obeylines-h"><span class="verb">\</span></span>, to continue a long list of machines onto multiple
     lines, making it more readable. This works for all configuration file entries, not just host access
     entries.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-648">
     <tspan font-family="ectt" font-size="0800">ALLOW_READ</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*.ncsa.uiuc.edu,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*.cs.wisc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_WRITE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*.ncsa.uiuc.edu,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;raven.cs.wisc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_ADMINISTRATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(CONDOR_HOST),</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;bigcheese.ncsa.uiuc.edu,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;\</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;biggercheese.uiuc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_OWNER</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(FULL_HOSTNAME),</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(ALLOW_ADMINISTRATOR)</tspan>
</div>
     <!--l. 2608--><p class="nopar" >
     </li>
     <li class="itemize">Allow anyone except the military to view the status of the pool, but only let machines at NCSA view
     the job queues. Only NCSA machines can join the pool. The central manager, bigcheese, and
     biggercheese can perform most administrative functions. However, only biggercheese can update user
     priorities.
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-649">
     <tspan font-family="ectt" font-size="0800">DENY_READ</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*.mil</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_READ_SCHEDD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*.ncsa.uiuc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_WRITE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;*.ncsa.uiuc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_ADMINISTRATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(CONDOR_HOST),</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;bigcheese.ncsa.uiuc.edu,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;\</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;biggercheese.uiuc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_ADMINISTRATOR_NEGOTIATOR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;biggercheese.uiuc.edu</tspan>
     <tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">ALLOW_OWNER</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(FULL_HOSTNAME),</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(ALLOW_ADMINISTRATOR)</tspan>
</div>
     <!--l. 2626--><p class="nopar" >
     </li></ul>
<!--l. 2632--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8.11   </span> <a 
 id="x36-2940003.8.11"></a>Changing the Security Configuration</h4>
<a 
 id="dx36-294001"></a>
<!--l. 2636--><p class="noindent" >A new security feature introduced in HTCondor version 6.3.2 enables more fine-grained control over the
configuration settings that can be modified remotely with the <span class="textit">condor_config_val</span> command. The manual page for
<span class="textit">condor_config_val</span> on page&#x00A0;<a 
href="Condorconfigval.html#x105-73100012">1835<!--tex4ht:ref: man-condor-config-val --></a> details how to use <span class="textit">condor_config_val</span> to modify configuration settings remotely.
Since certain configuration attributes can have a large impact on the functioning of the HTCondor system and the
security of the machines in an HTCondor pool, it is important to restrict the ability to change attributes
remotely.
<!--l. 2648--><p class="indent" >   For each security access level described, the HTCondor administrator can define which configuration settings a
host at that access level is allowed to change. Optionally, the administrator can define separate lists of settable
attributes for each HTCondor daemon, or the administrator can define one list that is used by all
daemons.
<!--l. 2656--><p class="indent" >   For each command that requests a change in configuration setting, HTCondor searches all the different possible
security access levels to see which, if any, the request satisfies. (Some hosts can qualify for multiple access
levels. For example, any host with <span class="texttt">ADMINISTRATOR</span> permission probably has <span class="texttt">WRITE</span> permission also).
Within the qualified access level, HTCondor searches for the list of attributes that may be modified.
If the request is covered by the list, the request will be granted. If not covered, the request will be
refused.
<!--l. 2668--><p class="indent" >   The default configuration shipped with HTCondor is exceedingly restrictive. HTCondor users or administrators
cannot set configuration values from remote hosts with <span class="textit">condor_config_val</span>. Enabling this feature requires a change
to the settings in the configuration file. Use this security feature carefully. Grant access only for attributes which you
need to be able to modify in this manner, and grant access only at the most restrictive security level
possible.
<!--l. 2679--><p class="indent" >   The most secure use of this feature allows HTCondor users to set attributes in the configuration file which
are not used by HTCondor directly. These are custom attributes published by various HTCondor
                                                                                         

                                                                                         
daemons with the <span class="texttt">&#x003C;SUBSYS&#x003E;_ATTRS</span> setting described in section&#x00A0;<a 
href="ConfigurationMacros.html#x33-1900003.5.3">3.5.3<!--tex4ht:ref: param:SubsysAttrs --></a> on page&#x00A0;<a 
href="ConfigurationMacros.html#x33-1900003.5.3">619<!--tex4ht:ref: param:SubsysAttrs --></a>. It is secure to grant
access only to modify attributes that are used by HTCondor to publish information. Granting access to
modify settings used to control the behavior of HTCondor is not secure. The goal is to ensure no one
can use the power to change configuration attributes to compromise the security of your HTCondor
pool.
<a 
 id="dx36-294002"></a>
<a 
 id="dx36-294003"></a>
<a 
 id="dx36-294004"></a>
<a 
 id="dx36-294005"></a>
<a 
 id="dx36-294006"></a>
<a 
 id="dx36-294007"></a>
<a 
 id="dx36-294008"></a>
<a 
 id="dx36-294009"></a>
<a 
 id="dx36-294010"></a>
<a 
 id="dx36-294011"></a>
<!--l. 2700--><p class="indent" >   The control lists are defined by configuration settings that contain <span class="texttt">SETTABLE_ATTRS</span> in their name. The name of
the control lists have the following form:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-650">
<tspan font-family="ectt" font-size="0800">&#x003C;SUBSYS&#x003E;.SETTABLE_ATTRS_&#x003C;PERMISSION-LEVEL&#x003E;</tspan>
</div>
<!--l. 2707--><p class="nopar" >
<!--l. 2710--><p class="indent" >   The two parts of this name that can vary are the <span class="obeylines-h"><span class="verb">&#x003C;PERMISSION-LEVEL&#x003E;</span></span> and the <span class="obeylines-h"><span class="verb">&#x003C;SUBSYS&#x003E;</span></span>. The
<span class="obeylines-h"><span class="verb">&#x003C;PERMISSION-LEVEL&#x003E;</span></span> can be any of the security access levels described earlier in this section. Examples include
<span class="texttt">WRITE</span>, <span class="texttt">OWNER</span>, and <span class="texttt">CONFIG</span>.
<!--l. 2716--><p class="indent" >   The <span class="obeylines-h"><span class="verb">&#x003C;SUBSYS&#x003E;</span></span> is an optional portion of the name. It can be used to define separate rules for which
configuration attributes can be set for each kind of HTCondor daemon (for example, <span class="texttt">STARTD</span>, <span class="texttt">SCHEDD</span>,
and <span class="texttt">MASTER</span>). There are many configuration settings that can be defined differently for each daemon
that use this <span class="obeylines-h"><span class="verb">&#x003C;SUBSYS&#x003E;</span></span> naming convention. See section&#x00A0;<a 
href="IntroductiontoConfiguration.html#x31-1810003.3.12">3.3.12<!--tex4ht:ref: sec:HTCondor-Subsystem-Names --></a> on page&#x00A0;<a 
href="IntroductiontoConfiguration.html#x31-1810003.3.12">567<!--tex4ht:ref: sec:HTCondor-Subsystem-Names --></a> for a list. If there is no
daemon-specific value for a given daemon, HTCondor will look for <span class="texttt">SETTABLE_ATTRS_&#x003C;PERMISSION-LEVEL&#x003E;</span>
<a 
 id="dx36-294012"></a><a 
 id="dx36-294013"></a>.
<!--l. 2728--><p class="indent" >   Each control list is defined by a comma-separated list of attribute names which should be allowed to be modified.
The lists can contain wild cards characters (<span class="obeylines-h"><span class="verb">*</span></span>).
<!--l. 2732--><p class="indent" >   Some examples of valid definitions of control lists with explanations:
     <ul class="itemize1">
     <li class="itemize">
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-651">
     <tspan font-family="ectt" font-size="1000">SETTABLE_ATTRS_CONFIG</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*</tspan>
</div>
     <!--l. 2736--><p class="nopar" > Grant unlimited access to modify configuration attributes to any request that came from a
     machine in the <span class="texttt">CONFIG</span> access level. This was the default behavior before HTCondor version
     6.3.2.
     </li>
     <li class="itemize">
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-652">
     <tspan font-family="ectt" font-size="1000">SETTABLE_ATTRS_ADMINISTRATOR</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;*_DEBUG,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MAX_*_LOG</tspan>
</div>
     <!--l. 2742--><p class="nopar" > Grant access to change any configuration setting that ended with <span class="obeylines-h"><span class="verb">_DEBUG</span></span> (for example, <span class="texttt">STARTD_DEBUG</span>) and
     any attribute that matched <span class="obeylines-h"><span class="verb">MAX_*_LOG</span></span> (for example, <span class="texttt">MAX_SCHEDD_LOG</span>) to any host with <span class="texttt">ADMINISTRATOR</span>
     access.
     </li>
     <li class="itemize">
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-653">
     <tspan font-family="ectt" font-size="1000">STARTD.SETTABLE_ATTRS_OWNER</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;HasDataSet</tspan>
</div>
     <!--l. 2749--><p class="nopar" > Allows any request to modify the <span class="texttt">HasDataSet</span> attribute that came from a host with <span class="texttt">OWNER</span> access. By default,
     <span class="texttt">OWNER</span> covers any request originating from the local host, plus any machines listed in the <span class="texttt">ADMINISTRATOR</span> level.
     Therefore, any HTCondor job would qualify for OWNER access to the machine where it is running.
     So, this setting would allow any process running on a given host, including an HTCondor job,
     to modify the <span class="texttt">HasDataSet</span> variable for that host. <span class="texttt">HasDataSet</span> is not used by HTCondor, it is
     an invented attribute included in the <span class="texttt">STARTD_ATTRS</span> <a 
 id="dx36-294014"></a><a 
 id="dx36-294015"></a> setting in order for this example to make
     sense.
     </li></ul>
<!--l. 2768--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8.12   </span> <a 
 id="x36-2950003.8.12"></a>Using HTCondor w/ Firewalls, Private Networks, and NATs</h4>
<!--l. 2771--><p class="noindent" >This topic is now addressed in more detail in section&#x00A0;<a 
href="NetworkingincludessectionsonPortUsageandCCB.html#x37-3000003.9">3.9<!--tex4ht:ref: sec:Networking --></a>, which explains network communication in
HTCondor.
<!--l. 2776--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8.13   </span> <a 
 id="x36-2960003.8.13"></a>User Accounts in HTCondor on Unix Platforms</h4>
<a 
 id="dx36-296001"></a>
<!--l. 2781--><p class="noindent" >On a Unix system, UIDs (User IDentification numbers) form part of an operating system&#8217;s tools for maintaining
access control. Each executing program has a UID, a unique identifier of a user executing the program. This is also
called the real UID. <a 
 id="dx36-296002"></a>A common situation has one user executing the program owned by another user. Many system
commands work this way, with a user (corresponding to a person) executing a program belonging to (owned by)
root. Since the program may require privileges that root has which the user does not have, a special bit in the
program&#8217;s protection specification (a setuid bit) allows the program to run with the UID of the program&#8217;s owner,
instead of the user that executes the program. This UID of the program&#8217;s owner is called an effective UID.
<a 
 id="dx36-296003"></a>
<!--l. 2801--><p class="indent" >   HTCondor works most smoothly when its daemons run as root. The daemons then have the ability to switch
their effective UIDs at will. When the daemons run as root, they normally leave their effective UID and GID
(Group IDentification) to be those of user and group condor. This allows access to the log files without changing the
ownership of the log files. It also allows access to these files when the user condor&#8217;s home directory resides on an
NFS server. root can not normally access NFS files.
                                                                                         

                                                                                         
<!--l. 2813--><p class="indent" >   If there is no condor user and group on the system, an administrator can specify which UID and GID the
HTCondor daemons should use when they do not need root privileges in two ways: either with the <span class="texttt">CONDOR_IDS</span>
environment variable or the <span class="texttt">CONDOR_IDS</span> <a 
 id="dx36-296004"></a><a 
 id="dx36-296005"></a> configuration variable. In either case, the value should be the UID integer,
followed by a period, followed by the GID integer. For example, if an HTCondor administrator does
not want to create a condor user, and instead wants their HTCondor daemons to run as the daemon
user (a common non-root user for system daemons to execute as), the daemon user&#8217;s UID was 2, and
group daemon had a GID of 2, the corresponding setting in the HTCondor configuration file would be
<span class="texttt">CONDOR_IDS = 2.2</span>.
<!--l. 2827--><p class="indent" >   On a machine where a job is submitted, the <span class="textit">condor_schedd</span> daemon changes its effective UID to root such that
it has the capability to start up a <span class="textit">condor_shadow</span> daemon for the job. Before a <span class="textit">condor_shadow</span> daemon is created,
the <span class="textit">condor_schedd</span> daemon switches back to root, so that it can start up the <span class="textit">condor_shadow</span> daemon with the
(real) UID of the user who submitted the job. Since the <span class="textit">condor_shadow</span> runs as the owner of the job,
all remote system calls are performed under the owner&#8217;s UID and GID. This ensures that as the job
executes, it can access only files that its owner could access if the job were running locally, without
HTCondor.
<!--l. 2844--><p class="indent" >   On the machine where the job executes, the job runs either as the submitting user or as user nobody, to help
ensure that the job cannot access local resources or do harm. If the <span class="texttt">UID_DOMAIN</span> <a 
 id="dx36-296006"></a><a 
 id="dx36-296007"></a> matches, and the user exists as the
same UID in password files on both the submitting machine and on the execute machine, the job
will run as the submitting user. If the user does not exist in the execute machine&#8217;s password file and
<span class="texttt">SOFT_UID_DOMAIN</span> <a 
 id="dx36-296008"></a><a 
 id="dx36-296009"></a> is True, then the job will run under the submitting user&#8217;s UID anyway (as defined
in the submitting machine&#8217;s password file). If <span class="texttt">SOFT_UID_DOMAIN</span> is False, and <span class="texttt">UID_DOMAIN</span> matches,
and the user is not in the execute machine&#8217;s password file, then the job execution attempt will be
aborted.
<!--l. 2861--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2970003.8.13"></a>Running HTCondor as Non-Root</h5>
<!--l. 2864--><p class="noindent" >While we strongly recommend starting up the HTCondor daemons as root, we understand that it is not always
possible to do so. The main problems of not running HTCondor daemons as root appear when one HTCondor
installation is shared by many users on a single machine, or if machines are set up to only execute HTCondor
jobs. With a submit-only installation for a single user, there is no need for or benefit from running as
root.
<!--l. 2873--><p class="indent" >   The effects of HTCondor of running both with and without root access are classified for each daemon:
     <dl class="description"><dt class="description">
<span class="textit">condor_startd</span> </dt><dd 
class="description">An HTCondor machine set up to execute jobs where the <span class="textit">condor_startd</span> is not started
     as root relies on the good will of the HTCondor users to agree to the policy configured for the
     <span class="textit">condor_startd</span> to enforce for starting, suspending, vacating, and killing HTCondor jobs. When the
     <span class="textit">condor_startd</span> is started as root, however, these policies may be enforced regardless of malicious users.
                                                                                         

                                                                                         
     By running as root, the HTCondor daemons run with a different UID than the HTCondor job. The
     user&#8217;s job is started as either the UID of the user who submitted it, or as user nobody, depending
     on the <span class="texttt">UID_DOMAIN</span> <a 
 id="dx36-297001"></a><a 
 id="dx36-297002"></a> settings. Therefore, the HTCondor job cannot do anything to the HTCondor
     daemons. Without starting the daemons as root, all processes started by HTCondor, including the
     user&#8217;s job, run with the same UID. Only root can switch UIDs. Therefore, a user&#8217;s job could kill the
     <span class="textit">condor_startd</span> and <span class="textit">condor_starter</span>. By doing so, the user&#8217;s job avoids getting suspended or vacated.
     This is nice for the job, as it obtains unlimited access to the machine, but it is awful for the machine
     owner or administrator. If there is trust of the users submitting jobs to HTCondor, this might not
     be a concern. However, to ensure that the policy chosen is enforced by HTCondor, the <span class="textit">condor_startd</span>
     should be started as root.
     <!--l. 2905--><p class="noindent" >In addition, some system information cannot be obtained without root access on some platforms. As a
     result, when running without root access, the <span class="textit">condor_startd</span> must call other programs such as <span class="textit">uptime</span>,
     to get this information. This is much less efficient than getting the information directly from the kernel,
     as is done when running as root. On Linux, this information is available without root access, so it is
     not a concern on those platforms.
     <!--l. 2917--><p class="noindent" >If all of HTCondor cannot be run as root, at least consider installing the <span class="textit">condor_startd</span> as setuid root.
     That would solve both problems. Barring that, install it as a setgid sys or kmem program, depending on
     whatever group has read access to <span class="texttt">/dev/kmem</span> on the system. That would solve the system information
     problem.
     </dd><dt class="description">
<span class="textit">condor_schedd</span> </dt><dd 
class="description">The biggest problem with running the <span class="textit">condor_schedd</span> without root access is that the
     <span class="textit">condor_shadow</span> processes which it spawns are stuck with the same UID that the <span class="textit">condor_schedd</span> has.
     This requires users to go out of their way to grant write access to user or group that the <span class="textit">condor_schedd</span>
     is run as for any files or directories their jobs write or create. Similarly, read access must be granted
     to their input files.
     <!--l. 2933--><p class="noindent" >Consider installing <span class="textit">condor_submit</span> as a setgid condor program so that at least the <span class="texttt">stdout</span>, <span class="texttt">stderr</span>
     and job event log files get created with the right permissions. If <span class="textit">condor_submit</span> is a setgid program, it
     will automatically set its umask to 002 and create group-writable files. This way, the simple case of a
     job that only writes to <span class="texttt">stdout</span> and <span class="texttt">stderr</span> will work. If users have programs that open their own files,
     they will need to know and set the proper permissions on the directories they submit from.
     </dd><dt class="description">
<span class="textit">condor_master</span> </dt><dd 
class="description">The <span class="textit">condor_master</span> spawns both the <span class="textit">condor_startd</span> and the <span class="textit">condor_schedd</span>. To have
     both  running  as  root,  have  the  <span class="textit">condor_master</span> run  as  root.  This  happens  automatically  if  the
     <span class="textit">condor_master</span> is started from boot scripts.
     </dd><dt class="description">
<span class="textit">condor_negotiator</span> and <span class="textit">condor_collector</span> </dt><dd 
class="description">There is no need to have either of these daemons running
     as root.
     </dd><dt class="description">
<span class="textit">condor_kbdd</span> </dt><dd 
class="description">On platforms that need the <span class="textit">condor_kbdd</span>, the <span class="textit">condor_kbdd</span> must run as root. If it is started
     as any other user, it will not work. Consider installing this program as a setuid root binary if the
     <span class="textit">condor_master</span> will not be run as root. Without the <span class="textit">condor_kbdd</span>, the <span class="textit">condor_startd</span> has no way to
     monitor USB mouse or keyboard activity, although it will notice keyboard activity on ttys such as
     xterms and remote logins.
                                                                                         

                                                                                         
     </dd></dl>
<!--l. 2964--><p class="indent" >   If HTCondor is not run as root, then choose almost any user name. A common choice is to set up and use the
condor user; this simplifies the setup, because HTCondor will look for its configuration files in the condor user&#8217;s
directory. If condor is not selected, then the configuration must be placed properly such that HTCondor can find its
configuration files.
<!--l. 2973--><p class="indent" >   If users will be submitting jobs as a user different than the user HTCondor is running as (perhaps you are
running as the condor user and users are submitting as themselves), then users have to be careful to only
have file permissions properly set up to be accessible by the user HTCondor is using. In practice, this
means creating world-writable directories for output from HTCondor jobs. This creates a potential
security risk, in that any user on the machine where the job is submitted can alter the data, remove it,
or do other undesirable things. It is only acceptable in an environment where users can trust other
users.
<!--l. 2984--><p class="indent" >   Normally, users without root access who wish to use HTCondor on their machines create a <span class="texttt">condor</span> home
directory somewhere within their own accounts and start up the daemons (to run with the UID of the user). As in
the case where the daemons run as user condor, there is no ability to switch UIDs or GIDs. The daemons
run as the UID and GID of the user who started them. On a machine where jobs are submitted, the
<span class="textit">condor_shadow</span> daemons all run as this same user. But, if other users are using HTCondor on the machine
in this environment, the <span class="textit">condor_shadow</span> daemons for these other users&#8217; jobs execute with the UID
of the user who started the daemons. This is a security risk, since the HTCondor job of the other
user has access to all the files and directories of the user who started the daemons. Some installations
have this level of trust, but others do not. Where this level of trust does not exist, it is best to set up
a condor account and group, or to have each user start up their own Personal HTCondor submit
installation.
<!--l. 3002--><p class="indent" >   When a machine is an execution site for an HTCondor job, the HTCondor job executes with the UID of the user
who started the <span class="textit">condor_startd</span> daemon. This is also potentially a security risk, which is why we do not recommend
starting up the execution site daemons as a regular user. Use either root or a user such as condor that exists only
to run HTCondor jobs.
<!--l. 3011--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2980003.8.13"></a>Who Jobs Run As</h5>
<a 
 id="dx36-298001"></a>
<a 
 id="dx36-298002"></a>
<a 
 id="dx36-298003"></a>
<a 
 id="dx36-298004"></a>
<a 
 id="dx36-298005"></a>
<!--l. 3019--><p class="noindent" >Under Unix, HTCondor runs jobs as one of
     <ul class="itemize1">
     <li class="itemize">the user called nobody
                                                                                         

                                                                                         
     <!--l. 3023--><p class="noindent" >Running jobs as the nobody user is the least preferable. HTCondor uses user nobody if the value
     of  the  <span class="texttt">UID_DOMAIN</span> configuration  variable  of  the  submitting  and  executing  machines  are  different,
     or if configuration variable <span class="texttt">STARTER_ALLOW_RUNAS_OWNER</span> <a 
 id="dx36-298006"></a><a 
 id="dx36-298007"></a> is <span class="texttt">False</span>, or if the job ClassAd contains
     <span class="texttt">RunAsOwner=False</span>.
     <!--l. 3031--><p class="noindent" >When HTCondor cleans up after executing a vanilla universe job, it does the best that it can by deleting
     all of the processes started by the job. During the life of the job, it also does its best to track the CPU
     usage of all processes created by the job. There are a variety of mechanisms used by HTCondor to
     detect all such processes, but, in general, the only foolproof mechanism is for the job to run under a
     dedicated execution account (as it does under Windows by default). With all other mechanisms, it is
     possible to fool HTCondor, and leave processes behind after HTCondor has cleaned up. In the case of
     a shared account, such as the Unix user nobody, it is possible for the job to leave a lurker process lying
     in wait for the next job run as nobody. The lurker process may prey maliciously on the next nobody
     user job, wreaking havoc.
     <!--l. 3047--><p class="noindent" >HTCondor could prevent this problem by simply killing all processes run by the nobody user, but
     this would annoy many system administrators. The nobody user is often used for non-HTCondor
     system processes. It may also be used by other HTCondor jobs running on the same machine, if it is
     a multi-processor machine.
     </li>
     <li class="itemize">dedicated accounts called slot users set up for the purpose of running HTCondor jobs
     <!--l. 3056--><p class="noindent" >Better than the nobody user will be to create user accounts for HTCondor to use. These can be
     low-privilege accounts, just as the nobody user is. Create one of these accounts for each job execution
     slot per computer, so that distinct user names can be used for concurrently running jobs. This prevents
     malicious or naive behavior from one slot to affect another slot. For a sample machine with two compute
     slots, create two users that are intended only to be used by HTCondor. As an example, call them
     cndrusr1 and cndrusr2. Configuration identifies these users with the <span class="texttt">SLOT&#x003C;N&#x003E;_USER</span> <a 
 id="dx36-298008"></a><a 
 id="dx36-298009"></a> configuration
     variable, where <span class="texttt">&#x003C;N&#x003E;</span> is replaced with the slot number. Here is configuration for this example:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-654">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT1_USER</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cndrusr1</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SLOT2_USER</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cndrusr2</tspan>
</div>
     <!--l. 3074--><p class="nopar" >
     <!--l. 3076--><p class="noindent" >Also tell HTCondor that these accounts are intended only to be used by HTCondor, so HTCondor can
     kill all the processes belonging to these users upon job completion. The configuration variable
     <span class="texttt">DEDICATED_EXECUTE_ACCOUNT_REGEXP</span> <a 
 id="dx36-298010"></a><a 
 id="dx36-298011"></a> is introduced and set to a regular expression that matches the account
     names just created:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-655">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;DEDICATED_EXECUTE_ACCOUNT_REGEXP</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cndrusr[0-9]+</tspan>
</div>
     <!--l. 3085--><p class="nopar" >
     <!--l. 3087--><p class="noindent" >Finally, tell HTCondor not to run jobs as the job owner:
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-656">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;STARTER_ALLOW_RUNAS_OWNER</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;False</tspan>
</div>
     <!--l. 3091--><p class="nopar" >
     </li>
     <li class="itemize">the user that submitted the jobs
     <!--l. 3095--><p class="noindent" >Four conditions must be set correctly to run jobs as the user that submitted the job.
         <ol  class="enumerate1" >
         <li 
  class="enumerate" id="x36-298013x1">In the configuration, the value of variable <span class="texttt">STARTER_ALLOW_RUNAS_OWNER</span> <a 
 id="dx36-298014"></a><a 
 id="dx36-298015"></a> must be <span class="texttt">True</span> on the
         machine that will run the job. Its default value is <span class="texttt">True</span> on Unix platforms and <span class="texttt">False</span> on Windows
         platforms.
         </li>
         <li 
  class="enumerate" id="x36-298017x2">The job&#8217;s ClassAd must have attribute <span class="texttt">RunAsOwner</span> set to <span class="texttt">True</span>. This can be set up for all users by adding
         an attribute to configuration variable <span class="texttt">SUBMIT_ATTRS</span> <a 
 id="dx36-298018"></a><a 
 id="dx36-298019"></a>. If this were the only attribute to be added to all
         job ClassAds, it would be set up with
                                                                                         

                                                                                         
         <div class="verbatim" id="verbatim-657">
         <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SUBMIT_ATTRS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RunAsOwner</tspan>
         <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;RunAsOwner</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
</div>
         <!--l. 3112--><p class="nopar" >
         </li>
         <li 
  class="enumerate" id="x36-298021x3">The value of configuration variable <span class="texttt">UID_DOMAIN</span> must be the same for both the <span class="textit">condor_startd</span> and
         <span class="textit">condor_schedd</span> daemons.
         </li>
         <li 
  class="enumerate" id="x36-298023x4">The UID_DOMAIN must be trusted. For example, if the <span class="textit">condor_starter</span> daemon does a reverse DNS
         lookup on the <span class="textit">condor_schedd</span> daemon, and finds that the result is <span class="emph">not</span> the same as defined for
         configuration variable <span class="texttt">UID_DOMAIN</span>, then it is not trusted. To correct this, set in the configuration for the
         <span class="textit">condor_starter</span>
                                                                                         

                                                                                         
         <div class="verbatim" id="verbatim-658">
         <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;TRUST_UID_DOMAIN</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
</div>
         <!--l. 3124--><p class="nopar" ></li></ol>
     </li></ul>
<!--l. 3130--><p class="indent" >   Notes:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x36-298025x1"> Currently, none of these configuration settings apply to standard universe jobs. Normally, standard
     universe jobs do not create additional processes.
     </li>
     <li 
  class="enumerate" id="x36-298027x2"> Under Windows, HTCondor by default runs jobs under a dynamically created local account that exists
     for the duration of the job, but it can optionally run the job as the user account that owns the job if
     <span class="texttt">STARTER_ALLOW_RUNAS_OWNER</span> is <span class="texttt">True</span> and the job contains <span class="texttt">RunAsOwner</span>=True.
     <!--l. 3144--><p class="noindent" ><span class="texttt">SLOT&#x003C;N&#x003E;_USER</span> will only work if the credential of the specified user is stored on the execute machine
     using <span class="textit">condor_store_cred</span>. for details of this command. However, the default behavior in Windows is to
     run jobs under a dynamically created dedicated execution account, so just using the default behavior is
     sufficient to avoid problems with lurker processes. See section&#x00A0;<a 
href="MicrosoftWindows.html#x76-5770008.2.4">8.2.4<!--tex4ht:ref: sec:windows-run-as-owner --></a>, &#x00A0;<a 
href="MicrosoftWindows.html#x76-5780008.2.5">8.2.5<!--tex4ht:ref: sec:credd --></a>, and the <span class="textit">condor_store_cred</span>
     manual page at section&#x00A0;<a 
href="Condorstorecred.html#x148-107300012">12<!--tex4ht:ref: man-condor-store-cred --></a> for details.
     </li>
     <li 
  class="enumerate" id="x36-298029x3"> The <span class="textit">condor_starter</span> logs a line similar to
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-659">
     <tspan font-family="ectt" font-size="1000">Tracking</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;process</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;family</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;by</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;login</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"cndrusr1"</tspan>
</div>
     <!--l. 3159--><p class="nopar" > when it treats the account as a dedicated account. </li></ol>
<!--l. 3166--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x36-2990003.8.13"></a>Working Directories for Jobs</h5>
<a 
 id="dx36-299001"></a>
<a 
 id="dx36-299002"></a>
<!--l. 3171--><p class="noindent" >Every executing process has a notion of its current working directory. This is the directory that acts as the base for
all file system access. There are two current working directories for any HTCondor job: one where the job is
submitted and a second where the job executes. When a user submits a job, the submit-side current working
directory is the same as for the user when the <span class="textit">condor_submit</span> command is issued. The <span class="textbf">initialdir</span><a 
 id="dx36-299003"></a> submit command
may change this, thereby allowing different jobs to have different working directories. This is useful when submitting
large numbers of jobs. This submit-side current working directory remains unchanged for the entire life of a
job. The submit-side current working directory is also the working directory of the <span class="textit">condor_shadow</span>
daemon. This is particularly relevant for standard universe jobs, since file system access for the job goes
through the <span class="textit">condor_shadow</span> daemon, and therefore all accesses behave as if they were executing without
HTCondor.
<!--l. 3195--><p class="indent" >   There is also an execute-side current working directory. For standard universe jobs, it is set to the <span class="texttt">execute</span>
subdirectory of HTCondor&#8217;s home directory. This directory is world-writable, since an HTCondor job usually runs
as user nobody. Normally, standard universe jobs would never access this directory, since all I/O system calls are
passed back to the <span class="textit">condor_shadow</span> daemon on the submit machine. In the event, however, that a job crashes
and creates a core dump file, the execute-side current working directory needs to be accessible by
the job so that it can write the core file. The core file is moved back to the submit machine, and the
<span class="textit">condor_shadow</span> daemon is informed. The <span class="textit">condor_shadow</span> daemon sends e-mail to the job owner announcing
the core file, and provides a pointer to where the core file resides in the submit-side current working
directory.
<a 
 id="dx36-299004"></a>
<a 
 id="dx36-299005"></a>
                                                                                         

                                                                                         
<!--l. 2--><p class="indent" >   <span style="font-size: 200%;"><a 
href="PolicyConfigurationforExecuteHostsandforSubmitHosts.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="PolicyConfigurationforExecuteHostsandforSubmitHosts.html#tailPolicyConfigurationforExecuteHostsandforSubmitHosts.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Security.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="AdministratorsManual.html#Security.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="NetworkingincludessectionsonPortUsageandCCB.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailSecurity.html"></a>  
</body></html> 
