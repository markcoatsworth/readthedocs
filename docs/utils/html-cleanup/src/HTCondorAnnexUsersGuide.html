<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>HTCondor Annex User&#8217;s Guide</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
   <span style="font-size: 200%;"><a 
href="Introduction3.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Introduction3.html#tailIntroduction3.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailHTCondorAnnexUsersGuide.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="CloudComputing.html#HTCondorAnnexUsersGuide.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="UsingCondorannexfortheFirstTime.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><span class="titlemark">6.2   </span> <a 
 id="x61-5020006.2"></a>HTCondor Annex User&#8217;s Guide</h3>
   <div class="sectionTOCS">
   &#x00A0;&#x00A0;<span class="subsectionToc" >6.2.1 <a 
href="#x61-5030006.2.1">Considerations and Limitations</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.2.2 <a 
href="#x61-5040006.2.2">Basic Usage</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x61-5050006.2.2" id="QQ2-61-528">What You&#8217;ll Need to Know</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.2.3 <a 
href="#x61-5060006.2.3">Start an Annex</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x61-5070006.2.3" id="QQ2-61-530">Instance Types</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x61-5080006.2.3" id="QQ2-61-531">Leases</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x61-5090006.2.3" id="QQ2-61-532">Idle Time</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x61-5100006.2.3" id="QQ2-61-533">Multiple Annexes</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.2.4 <a 
href="#x61-5110006.2.4">Monitor your Annex</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x61-5120006.2.4" id="QQ2-61-535">Multiple Annexes</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.2.5 <a 
href="#x61-5130006.2.5">Run a Job</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.2.6 <a 
href="#x61-5140006.2.6">Stop an Annex</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x61-5150006.2.6" id="QQ2-61-538">Multiple Annexes</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.2.7 <a 
href="#x61-5160006.2.7">Using Different or Multiple AWS Regions</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.2.8 <a 
href="#x61-5170006.2.8">Advanced Usage</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x61-5180006.2.8" id="QQ2-61-541">Using AWS Spot Fleet</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x61-5190006.2.8" id="QQ2-61-542">Custom HTCondor Configuration</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x61-5200006.2.8" id="QQ2-61-543">AWS Instance User Data</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x61-5210006.2.8" id="QQ2-61-544">Expert Mode</a></span>
   </div>
<!--l. 3--><p class="indent" >   A user of <span class="textit">condor_annex</span> may be a regular job submitter, or she may be an HTCondor pool administrator.
                                                                                         

                                                                                         
This guide will cover basic <span class="textit">condor_annex</span> usage first, followed by advanced usage that may be of
less interest to the submitter. Users interested in customizing <span class="textit">condor_annex</span> should consult section
<a 
href="HTCondorAnnexCustomizationGuide.html#x66-5340006.4">6.4<!--tex4ht:ref: sec:clouds-services --></a>.
<!--l. 9--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.2.1   </span> <a 
 id="x61-5030006.2.1"></a>Considerations and Limitations</h4>
<!--l. 11--><p class="noindent" >When you run <span class="textit">condor_annex</span>, you are adding (virtual) machines to an HTCondor pool. As a submitter, you
probably don&#8217;t have permission to add machines to the HTCondor pool you&#8217;re already using; generally speaking,
security concerns will forbid this. If you&#8217;re a pool administrator, you can of course add machines to your pool as you
see fit. By default, however, <span class="textit">condor_annex</span> instances will only start jobs submitted by the user who started the
annex, so pool administrators using <span class="textit">condor_annex</span> on their users&#8217; behalf will probably want to use the <span class="textbf">-owners</span>
option or <span class="textbf">-no-owner</span> flag; see the man page (section <a 
href="Condorannex.html#x99-68500012">12<!--tex4ht:ref: man-condor-annex --></a>). Once the new machines join the pool, they will run jobs as
normal.
<!--l. 22--><p class="indent" >   Submitters, however, will have to set up their own personal HTCondor pool, so that <span class="textit">condor_annex</span> has a pool to
join, and then work with their pool administrator if they want to move their existing jobs to their
new pool. Otherwise, jobs will have to be manually divided (removed from one and resubmitted to
the other) between the pools. For instructions on creating a personal HTCondor pool, preparing an
AWS account for use by <span class="textit">condor_annex</span>, and then configuring <span class="textit">condor_annex</span> to use that account, see
section&#x00A0;<a 
href="UsingCondorannexfortheFirstTime.html#x64-5220006.3">6.3<!--tex4ht:ref: sec:clouds-annex-first-time --></a>.
<!--l. 31--><p class="indent" >   Starting in v8.7.1, <span class="textit">condor_annex</span> will check for inbound access to the collector (usually port 9618)
before starting an annex (it does not support other network topologies). When checking connectivity
from AWS, the IP(s) used by the AWS Lambda function implementing this check may not be
in the same range(s) as those used by AWS instance; please consult AWS&#8217;s list of all their IP
ranges<span class="footnote-mark"><a 
href="ref62.html#fn2x7"><sup class="textsuperscript">2</sup></a></span><a 
 id="x61-503001f2"></a> 
when configuring your firewall.
<!--l. 40--><p class="indent" >   Starting in v8.7.2, <span class="textit">condor_annex</span> requires that the AWS secret (private) key file be owned by the submitting
user and not readable by anyone else. This helps to ensure proper attribution.
   <h4 class="subsectionHead"><span class="titlemark">6.2.2   </span> <a 
 id="x61-5040006.2.2"></a>Basic Usage</h4>
<!--l. 46--><p class="noindent" >This section assumes you&#8217;re logged into a Linux machine an that you&#8217;ve already configured <span class="textit">condor_annex</span>. If you
haven&#8217;t, see section&#x00A0;<a 
href="UsingCondorannexfortheFirstTime.html#x64-5220006.3">6.3<!--tex4ht:ref: sec:clouds-annex-first-time --></a>.
<!--l. 50--><p class="indent" >   All the terminal commands (shown in a box without a title) and file edits (shown in a box with an <span class="emph">emphasized
                                                                                         

                                                                                         
filename</span> for a title) in this section take place on the Linux machine. In this section, we follow the common
convention that the commands you type are preceded by by &#8216;$&#8217; to distinguish them from any expected output; don&#8217;t
copy that part of each of the following lines. (Lines which end in a &#8216;\&#8217; continue on the following line; be sure to copy
both lines. Don&#8217;t copy the &#8216;\&#8217; itself.)
<!--l. 59--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x61-5050006.2.2"></a>What You&#8217;ll Need to Know</h5>
<!--l. 61--><p class="noindent" >To create a HTCondor annex with on-demand instances, you&#8217;ll need to know two things:
<!--l. 64--><p class="indent" >
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x61-505002x1">A name for it. &#8220;MyFirstAnnex&#8221; is a fine name for your first annex.
     </li>
     <li 
  class="enumerate" id="x61-505004x2">How many instances you want. For your first annex, when you&#8217;re checking to make sure things work,
     you may only want one instance.</li></ol>
<!--l. 69--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.2.3   </span> <a 
 id="x61-5060006.2.3"></a>Start an Annex</h4>
<!--l. 71--><p class="noindent" >Entering the following command will start an annex named &#8220;MyFirstAnnex&#8221; with one instance. <span class="textit">condor_annex</span> will
print out what it&#8217;s going to do, and then ask you if that&#8217;s OK. You must type &#8216;yes&#8217; (and hit enter) at the prompt to
start an annex; if you do not, <span class="textit">condor_annex</span> will print out instructions about how to change whatever you may not
like about what it said it was going to do, and then exit.
<!--l. 87--><p class="indent" >   <div style="background-color: #EEE; border: 1px solid #666;"><code>$ condor_annex -count 1 -annex-name MyFirstAnnex <br 
class="newline" />Will request 1 m4.large on-demand instance for 0.83 hours. Each instance will <br 
class="newline" />terminate after being idle for 0.25 hours. <br 
class="newline" />Is that OK? (Type &#8217;yes&#8217; or &#8217;no&#8217;): yes <br 
class="newline" />Starting annex... <br 
class="newline" />Annex started. Its identity with the cloud provider is <br 
class="newline" />&#8217;TestAnnex0_f2923fd1-3cad-47f3-8e19-fff9988ddacf&#8217;. It will take about three <br 
class="newline" />minutes for the new machines to join the pool. </code></div>
<!--l. 89--><p class="indent" >   You won&#8217;t need to know the annex&#8217;s identity with the cloud provider unless something goes wrong.
<!--l. 92--><p class="indent" >   Before starting the annex, <span class="textit">condor_annex</span> (v8.7.1 and later) will check to make sure that the instances will be
able to contact your pool. Contact the Linux machine&#8217;s administrator if <span class="textit">condor_annex</span> reports a problem with this
step.
                                                                                         

                                                                                         
<!--l. 96--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x61-5070006.2.3"></a>Instance Types</h5>
<!--l. 98--><p class="noindent" >Each instance type provides a different number (and/or type) of CPU cores, amount of RAM, local storage, and the
like. We recommend starting with &#8216;m4.large&#8217;, which has 2 CPU cores and 8 GiB of RAM, but you can see the
complete list of instance types at the following URL:<br 
class="newline" /><br 
class="newline" /><a 
href="https://aws.amazon.com/ec2/instance-types/" class="url" >https://aws.amazon.com/ec2/instance-types/</a><br 
class="newline" /><br 
class="newline" />You can specify an instance type with the <span class="texttt">-aws-on-demand-instance-type</span> flag.
<!--l. 108--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x61-5080006.2.3"></a>Leases</h5>
<!--l. 110--><p class="noindent" >By default, <span class="textit">condor_annex</span> arranges for your annex&#8217;s instances to be terminated after <span class="texttt">0.83</span> hours (50
minutes) have passed. Once it&#8217;s in place, this lease doesn&#8217;t depend on the Linux machine, but it&#8217;s only
checked every five minutes, so give your deadlines a lot of cushion to make you don&#8217;t get charged for an
extra hour. The lease is intended to help you conserve money by preventing the annex instances from
accidentally running forever. You can specify a lease duration (in decimal hours) with the <span class="texttt">-duration</span>
flag.
<!--l. 120--><p class="indent" >   If you need to adjust the lease for a particular annex, you may do so by specifying an annex name and a
duration, but not a count. When you do so, the new duration is set starting at the current time. For example, if
you&#8217;d like &#8220;MyFirstAnnex&#8221; to expire eight hours from now:
<!--l. 128--><p class="indent" >   <div style="background-color: #EEE; border: 1px solid #666;"><code>$ condor_annex -annex-name MyFirstAnnex -duration 8 <br 
class="newline" />Lease updated. </code></div>
<!--l. 131--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x61-5090006.2.3"></a>Idle Time</h5>
<!--l. 133--><p class="noindent" >By default, <span class="textit">condor_annex</span> will configure your annex&#8217;s instances to terminate themselves after being idle for <span class="texttt">0.25</span>
hours (fifteen minutes). This is intended to help you conserve money in case of problems or an extended shortage of
work. As noted in the example output above, you can specify a max idle time (in decimal hours) with the <span class="texttt">-idle</span>
flag. <span class="textit">condor_annex</span> considers an instance idle if it&#8217;s unclaimed (see section&#x00A0;<a 
href="PolicyConfigurationforExecuteHostsandforSubmitHosts.html#x35-2470003.7.1">3.7.1<!--tex4ht:ref: state:unclaimed --></a> for a definition), so it won&#8217;t get
tricked by jobs with long quiescent periods.
                                                                                         

                                                                                         
<!--l. 142--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x61-5100006.2.3"></a>Multiple Annexes</h5>
<!--l. 144--><p class="noindent" >You may have up to fifty (or fewer, depending what else you&#8217;re doing with your AWS account) differently-named
annexes running at the same time. Running <span class="textit">condor_annex</span> again with the same annex name before stopping that
annex will both add instances to it and change its duration. Only instances which start up after an invocation of
<span class="textit">condor_annex</span> will respect that invocation&#8217;s max idle time. That may include instances still starting up from your
previous (first) invocation of <span class="textit">condor_annex</span>, so be sure your instances have all joined the pool before running
<span class="textit">condor_annex</span> again with the same annex name if you&#8217;re changing the max idle time. Each invocation of
<span class="textit">condor_annex</span> requests a certain number of instances of a given type; you may specify the instance type, the count,
or both with each invocation, but doing so does not change the instance type or count of any previous
request.
<!--l. 157--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.2.4   </span> <a 
 id="x61-5110006.2.4"></a>Monitor your Annex</h4>
<!--l. 160--><p class="noindent" >You can find out if an instance has successfully joined the pool in the following way:
<!--l. 174--><p class="indent" >   <div style="background-color: #EEE; border: 1px solid #666;"><code>$&nbsp;condor_annex&nbsp;status&nbsp;<br 
class="newline" />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OpSys&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Arch&nbsp;&nbsp;&nbsp;State&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Activity&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Load&nbsp;<br 
class="newline" /><br 
class="newline" />slot1@ip-172-31-48-84.ec2.internal&nbsp;LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X86_64&nbsp;Unclaimed&nbsp;Benchmarking&nbsp;&nbsp;0.0&nbsp;<br 
class="newline" />slot2@ip-172-31-48-84.ec2.internal&nbsp;LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X86_64&nbsp;Unclaimed&nbsp;Idle&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0&nbsp;<br 
class="newline" /><br 
class="newline" /><span style="visibility: hidden;">xxxxxxxxxxxxxxx</span>Total&nbsp;Owner&nbsp;Claimed&nbsp;Unclaimed&nbsp;Matched&nbsp;Preempting&nbsp;Backfill&nbsp;&nbsp;Drain&nbsp;<br 
class="newline" /><br 
class="newline" /><span style="visibility: hidden;">xx</span>X86_64/LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;<br 
class="newline" /><span style="visibility: hidden;">xxxxxxxxx</span>Total&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 </code></div>
<!--l. 177--><p class="noindent" >This example shows that the annex instance you requested has joined your pool. (The default annex image
configures one static slot for each CPU it finds on start-up.)
<!--l. 182--><p class="indent" >   You may instead use <span class="textit">condor_status</span>:
<!--l. 192--><p class="indent" >   <div style="background-color: #EEE; border: 1px solid #666;"><code>$&nbsp;condor_status&nbsp;-annex&nbsp;MyFirstAnnex&nbsp;<br 
class="newline" />slot1@ip-172-31-48-84.ec2.internal&nbsp;&nbsp;LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X86_64&nbsp;Unclaimed&nbsp;Idle&nbsp;0.640&nbsp;3767&nbsp;<br 
class="newline" />slot2@ip-172-31-48-84.ec2.internal&nbsp;&nbsp;LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X86_64&nbsp;Unclaimed&nbsp;Idle&nbsp;0.640&nbsp;3767&nbsp;<br 
class="newline" /><br 
class="newline" /><span style="visibility: hidden;">xxxxxxxxxxxxxx</span>&nbsp;Total&nbsp;Owner&nbsp;Claimed&nbsp;Unclaimed&nbsp;Matched&nbsp;Preempting&nbsp;Backfill&nbsp;&nbsp;Drain&nbsp;<br 
class="newline" /><span style="visibility: hidden;">xx</span>X86_64/LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;<br 
class="newline" /><span style="visibility: hidden;">xxxxxxxxx</span>Total&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 </code></div>
<!--l. 196--><p class="indent" >   You can also get a report about the instances which have not joined your pool:
                                                                                         

                                                                                         
<!--l. 206--><p class="indent" >   <div style="background-color: #EEE; border: 1px solid #666;"><code>$&nbsp;condor_annex&nbsp;-annex&nbsp;MyFirstAnnex&nbsp;-status&nbsp;<br 
class="newline" />STATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COUNT&nbsp;<br 
class="newline" />pending&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;<br 
class="newline" />TOTAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 <br 
class="newline" />Instances&nbsp;not&nbsp;in&nbsp;the&nbsp;pool,&nbsp;grouped&nbsp;by&nbsp;state:&nbsp;<br 
class="newline" />pending&nbsp;i-06928b26786dc7e6e </code></div>
<!--l. 209--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x61-5120006.2.4"></a>Multiple Annexes</h5>
<!--l. 211--><p class="noindent" >The following command reports on all annex instance which have joined the pool, regardless of which annex they&#8217;re
from:
<!--l. 224--><p class="indent" >   <div style="background-color: #EEE; border: 1px solid #666;"><code>$&nbsp;condor_status&nbsp;-annex&nbsp;<br 
class="newline" />slot1@ip-172-31-48-84.ec2.internal&nbsp;&nbsp;LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X86_64&nbsp;Unclaimed&nbsp;Idle&nbsp;0.640&nbsp;3767&nbsp;<br 
class="newline" />slot2@ip-172-31-48-84.ec2.internal&nbsp;&nbsp;LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X86_64&nbsp;Unclaimed&nbsp;Idle&nbsp;0.640&nbsp;3767&nbsp;<br 
class="newline" />slot1@ip-111-48-85-13.ec2.internal&nbsp;&nbsp;LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X86_64&nbsp;Unclaimed&nbsp;Idle&nbsp;0.640&nbsp;3767&nbsp;<br 
class="newline" />slot2@ip-111-48-85-13.ec2.internal&nbsp;&nbsp;LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X86_64&nbsp;Unclaimed&nbsp;Idle&nbsp;0.640&nbsp;3767&nbsp;<br 
class="newline" /><br 
class="newline" /><span style="visibility: hidden;">xxxxxxxxxxxxxxx</span>Total&nbsp;Owner&nbsp;Claimed&nbsp;Unclaimed&nbsp;Matched&nbsp;Preempting&nbsp;Backfill&nbsp;&nbsp;Drain&nbsp;<br 
class="newline" /><span style="visibility: hidden;">xx</span>X86_64/LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;<br 
class="newline" /><span style="visibility: hidden;">xxxxxxxxx</span>Total&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 </code></div>
<!--l. 227--><p class="indent" >   The following command reports about instance which have not joined the pool, regardless of which annex they&#8217;re
from:
<!--l. 241--><p class="indent" >   <div style="background-color: #EEE; border: 1px solid #666;"><code>$&nbsp;condor_annex&nbsp;-status&nbsp;<br 
class="newline" />NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TOTAL&nbsp;running&nbsp;<br 
class="newline" />NamelessTestA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;<br 
class="newline" />NamelessTestB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;<br 
class="newline" />NamelessTestC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;<br 
class="newline" /><br 
class="newline" />NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STATUS&nbsp;&nbsp;INSTANCES...&nbsp;<br 
class="newline" />NamelessTestA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;running&nbsp;i-075af9ccb40efb162&nbsp;i-0bc5e90066ed62dd8&nbsp;<br 
class="newline" />NamelessTestB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;running&nbsp;i-02e69e85197f249c2&nbsp;i-0385f59f482ae6a2e&nbsp;<br 
class="newline" />&nbsp;i-06191feb755963edd&nbsp;<br 
class="newline" />NamelessTestC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;running&nbsp;i-09da89d40cde1f212 </code></div>
<!--l. 244--><p class="indent" >   The ellipsis in the last column (<span class="texttt">INSTANCES...</span>) is to indicate that it&#8217;s a very wide column and may wrap (as it
has in the example), not that it has been truncated.
<!--l. 248--><p class="indent" >   The following command combines these two reports:
                                                                                         

                                                                                         
<!--l. 269--><p class="indent" >   <div style="background-color: #EEE; border: 1px solid #666;"><code>$&nbsp;condor_annex&nbsp;status&nbsp;<br 
class="newline" />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OpSys&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Arch&nbsp;&nbsp;&nbsp;State&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Activity&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Load&nbsp;<br 
class="newline" /><br 
class="newline" />slot1@ip-172-31-48-84.ec2.internal&nbsp;LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X86_64&nbsp;Unclaimed&nbsp;Benchmarking&nbsp;&nbsp;0.0&nbsp;<br 
class="newline" />slot2@ip-172-31-48-84.ec2.internal&nbsp;LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X86_64&nbsp;Unclaimed&nbsp;Idle&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0&nbsp;<br 
class="newline" /><br 
class="newline" /><span style="visibility: hidden;">xxxxxxxxxxxxxxx</span>Total&nbsp;Owner&nbsp;Claimed&nbsp;Unclaimed&nbsp;Matched&nbsp;Preempting&nbsp;Backfill&nbsp;&nbsp;Drain&nbsp;<br 
class="newline" /><br 
class="newline" /><span style="visibility: hidden;">xx</span>X86_64/LINUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;<br 
class="newline" /><span style="visibility: hidden;">xxxxxxxxx</span>Total&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;<br 
class="newline" /><br 
class="newline" />Instance&nbsp;ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;in&nbsp;Annex&nbsp;&nbsp;Status&nbsp;&nbsp;Reason&nbsp;(if&nbsp;known)&nbsp;<br 
class="newline" />i-075af9ccb40efb162&nbsp;NamelessTestA&nbsp;running&nbsp;-&nbsp;<br 
class="newline" />i-0bc5e90066ed62dd8&nbsp;NamelessTestA&nbsp;running&nbsp;-&nbsp;<br 
class="newline" />i-02e69e85197f249c2&nbsp;NamelessTestB&nbsp;running&nbsp;-&nbsp;<br 
class="newline" />i-0385f59f482ae6a2e&nbsp;NamelessTestB&nbsp;running&nbsp;-&nbsp;<br 
class="newline" />i-06191feb755963edd&nbsp;NamelessTestB&nbsp;running&nbsp;-&nbsp;<br 
class="newline" />i-09da89d40cde1f212&nbsp;NamelessTestC&nbsp;running&nbsp;- </code></div>
<!--l. 271--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.2.5   </span> <a 
 id="x61-5130006.2.5"></a>Run a Job</h4>
<!--l. 273--><p class="noindent" >Starting in v8.7.1, the default behaviour for an annex instance is to run only jobs submitted by the
user who ran the <span class="textit">condor_annex</span> command. If you&#8217;d like to allow other users to run jobs, list them
(separated by commas; don&#8217;t forget to include yourself) as arguments to the <span class="texttt">-owner</span> flag when you start
the instance. If you&#8217;re creating an annex for general use, use the <span class="texttt">-no-owner</span> flag to run jobs from
anyone.
<!--l. 280--><p class="indent" >   Also starting in v8.7.1, the default behaviour for an annex instance is to run only jobs which have the <span class="texttt">MayUseAWS</span>
attribute set (to true). To submit a job with <span class="texttt">MayUseAWS</span> set to true, add <span class="texttt">+MayUseAWS = TRUE</span> to the submit file
somewhere before the <span class="texttt">queue</span> command. To allow an existing job to run in the annex, use <span class="texttt">condor_q_edit</span>. For
instance, if you&#8217;d like cluster 1234 to run on AWS:
<!--l. 291--><p class="indent" >   <div style="background-color: #EEE; border: 1px solid #666;"><code>$ condor_qedit 1234 "MayUseAWS = TRUE" <br 
class="newline" />Set attribute "MayUseAWS" for 21 matching jobs. </code></div>
<!--l. 293--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.2.6   </span> <a 
 id="x61-5140006.2.6"></a>Stop an Annex</h4>
<!--l. 295--><p class="noindent" >The following command shuts HTCondor off on each instance in the annex; if you&#8217;re using the default annex image,
doing so causes each instance to shut itself down. HTCondor does <span class="emph">not</span> provide a direct method terminating
                                                                                         

                                                                                         
<span class="textit">condor_annex</span> instances.
<!--l. 303--><p class="indent" >   <div style="background-color: #EEE; border: 1px solid #666;"><code>$ condor_off -annex MyFirstAnnex <br 
class="newline" />Sent "Kill-Daemon" command for "master" to master ip-172-31-48-84.ec2.internal </code></div>
<!--l. 305--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x61-5150006.2.6"></a>Multiple Annexes</h5>
<!--l. 307--><p class="noindent" >The following command turns off all annex instances in your pool, regardless of which annex they&#8217;re
from:
<!--l. 314--><p class="indent" >   <div style="background-color: #EEE; border: 1px solid #666;"><code>$ condor_off -annex <br 
class="newline" />Sent "Kill-Daemon" command for "master" to master ip-172-31-48-84.ec2.internal <br 
class="newline" />Sent "Kill-Daemon" command for "master" to master ip-111-48-85-13.ec2.internal </code></div>
<!--l. 316--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.2.7   </span> <a 
 id="x61-5160006.2.7"></a>Using Different or Multiple AWS Regions</h4>
<!--l. 318--><p class="noindent" >It sometimes advantageous to use multiple AWS regions, or convenient to use an AWS region other than the default,
which is <span class="texttt">us-east-1</span>). To change the default, set the configuration macro <span class="texttt">ANNEX_DEFAULT_AWS_REGION</span> <a 
 id="dx61-516001"></a><a 
 id="dx61-516002"></a> to the
new default. (If you used the <span class="textit">condor_annex</span> automatic setup, you can edit the <span class="texttt">user_config</span> file in
<span class="texttt">.condor</span> directory in your home directory.) Once you do this, you&#8217;ll have to re-do the setup, as setup is
region-specific.
<!--l. 326--><p class="indent" >   If you&#8217;d like to use multiple AWS regions, you can specify which reason to use on the command line with the
<span class="textbf">-aws-region</span> flag. Each region may have zero or more annexes active simultaneously.
<!--l. 330--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.2.8   </span> <a 
 id="x61-5170006.2.8"></a>Advanced Usage</h4>
<!--l. 332--><p class="noindent" >The previous section covered using what AWS calls &#8220;on-demand&#8221; instances. (An &#8220;instance&#8221; is &#8220;a single
occurrence of something,&#8221; in this case, a virtual machine. The intent is to distinguish between the
active process that&#8217;s pretending to be a real piece of hardware &#8211; the &#8220;instance&#8221; &#8211; and the template it
used to start it up, which may also be called a virtual machine.) An on-demand instance has a price
fixed by AWS; once acquired, AWS will let you keep it running as long as you continue to pay for
it.
<!--l. 341--><p class="indent" >   In constrast, a &#8220;Spot&#8221; instance has a price determined by an (automated) auction; when you request a &#8220;Spot&#8221;
                                                                                         

                                                                                         
instance, you specify the most (per hour) you&#8217;re willing to pay for that instance. If you get an instance, however,
you pay only what the spot price is for that instance; in effect, AWS determines the spot price by
lowering it until they run out of instances to rent. AWS advertises savings of up to 90% over on-demand
instances.
<!--l. 348--><p class="indent" >   There are two drawbacks to this cheaper type of instance: first, you may have to wait (indefinitely) for instances
to become available at your preferred price-point; the second is that your instances may be taken away from you
before you&#8217;re done with them because somebody else will pay more for them. (You won&#8217;t be charged for the hour in
which AWS kicks you off an instance, but you will still owe them for all of that instance&#8217;s previous hours.) Both
drawbacks can be mitigated (but not eliminated) by bidding the on-demand price for an instance; of course, this
also minimizes your savings.
<!--l. 358--><p class="indent" >   Determining an appropriate bidding strategy is outside the purview of this manual.
<!--l. 361--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x61-5180006.2.8"></a>Using AWS Spot Fleet</h5>
<!--l. 363--><p class="noindent" ><span class="textit">condor_annex</span> supports Spot instances via an AWS technology called &#8220;Spot Fleet&#8221;. Normally, when you request
instances, you request a specific type of instance (the default on-demand instance is, for instance, &#8216;m4.large&#8217;.)
However, in many cases, you don&#8217;t care too much about how many cores an intance has &#8211; HTCondor will
automatically advertise the right number and schedule jobs appropriately, so why would you? In such cases &#8211; or in
other cases where your jobs will run acceptably on more than one type of instance &#8211; you can make
a Spot Fleet request which says something like &#8220;give me a thousand cores as cheaply as possible&#8221;,
and specify that an &#8216;m4.large&#8217; instance has two cores, while &#8216;m4.xlarge&#8217; has four, and so on. (The
interface actually allows you to assign arbitrary values &#8211; like HTCondor slot weights &#8211; to each instance
type<span class="footnote-mark"><a 
href="ref63.html#fn3x7"><sup class="textsuperscript">3</sup></a></span><a 
 id="x61-518001f3"></a> ,
but the default value is core count.) AWS will then divide the current price for each instance type by its core count
and request spot instances at the cheapest per-core rate until the number of cores (not the number of instances!) has
reached a thousand, or that instance type is exhausted, at which point it will request the next-cheapest instance
type.
<!--l. 383--><p class="indent" >   (At present, a Spot Fleet only chooses the cheapest price within each AWS region; you would have to start a
Spot Fleet in each AWS region you were willing to use to make sure you got the cheapest possible price. For fault
tolerance, each AWS region is split into independent zones, but each zone has its own price. Spot Fleet takes care of
that detail for you.)
<!--l. 389--><p class="indent" >   In order to create an annex via a Spot Fleet, you&#8217;ll need a file containing a JSON blob which describes the Spot
Fleet request you&#8217;d like to make. (It&#8217;s too complicated for a reasonable command-line interface.) The AWS web
console can be used to create such a file; the button to download that file is (currently) in the upper-right
                                                                                         

                                                                                         
corner of the last page before you submit the Spot Fleet request; it is labeled &#8216;JSON config&#8217;. You may
need to create an IAM role the first time you make a Spot Fleet request; please do so before running
<span class="textit">condor_annex</span>.
<!--l. 398--><p class="indent" >   You <span class="emph">must</span> select the instance role profile used by your on-demand instances for <span class="textit">condor_annex</span> to work. This
value will have been stored in the configuration macro <span class="texttt">ANNEX_DEFAULT_ODI_INSTANCE_PROFILE_ARN</span> <a 
 id="dx61-518002"></a><a 
 id="dx61-518003"></a> by the setup
procedure.
<!--l. 406--><p class="indent" >   Specify the JSON configuration file using <span class="textbf">-aws-spot-fleet-config-file</span>, or set the configuration macro
<span class="texttt">ANNEX_DEFAULT_SFR_CONFIG_FILE</span> <a 
 id="dx61-518004"></a><a 
 id="dx61-518005"></a> to the full path of the file you just downloaded, if you&#8217;d like it to become your
default configuration for Spot annexes. Be aware that <span class="textit">condor_annex</span> does <span class="emph">not</span> alter the validity period if one is set
in the Spot Fleet configuration file. You should remove the references to &#8216;ValidFrom&#8217; and &#8216;ValidTo&#8217; in the JSON file
to avoid confusing surprises later.
<!--l. 414--><p class="indent" >   Additionally, be aware that <span class="textit">condor_annex</span> uses the Spot Fleet API in its &#8220;request&#8221; mode, which means that an
annex created with Spot Fleet has the same semantics with respect to replacement as it would otherwise: if an
instance terminates for any reason, including AWS taking it away to give to someone else, it is not
replaced.
<!--l. 420--><p class="indent" >   You must specify the number of cores (total instance weight; see above) using <span class="textbf">-slots</span>. You may also specify
<span class="textbf">-aws-spot-fleet</span>, if you wish; doing so may make this <span class="textit">condor_annex</span> invocation more self-documenting. You may
use other options as normal, excepting those which begin with <span class="textbf">-aws-on-demand</span>, which indicates an option specific
to on-demand instances.
   <h5 class="subsubsectionHead"><a 
 id="x61-5190006.2.8"></a>Custom HTCondor Configuration</h5>
<!--l. 429--><p class="noindent" >When you specify a custom configuration, you specify the full path to a configuration directory which will be copied
to the instance. The customizations performed by <span class="textit">condor_annex</span> will be applied to a temporary copy of
this directory before it is uploaded to the instance. Those customizations consist of creating two files:
password_file.pl (named that way to ensure that it isn&#8217;t ever accidentally treated as configuration), and
00ec2-dynamic.config. The former is a password file for use by the pool password security method, which if
configured, will be used by <span class="textit">condor_annex</span> automatically. The latter is an HTCondor configuration file;
it is named so as to sort first and make it easier to over-ride with whatever configuration you see
fit.
<!--l. 441--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x61-5200006.2.8"></a>AWS Instance User Data</h5>
<!--l. 443--><p class="noindent" >HTCondor doesn&#8217;t interfere with this in any way, so if you&#8217;d like to set an instance&#8217;s user data, you
may do so. However, as of v8.7.2, the <span class="textbf">-user-data</span> options don&#8217;t work for on-demand instances (the
default type). If you&#8217;d like to specify user data for your Spot Fleet -driven annex, you may do so in
four different ways: on the command-line or from a file, and for all launch specifications or for only
                                                                                         

                                                                                         
those launch specifications which don&#8217;t already include user data. These two choices correspond to the
absence or presence of a trailing <span class="textbf">-file</span> and the absence or presence of <span class="textbf">-default</span> immediately preceding
<span class="textbf">-user-data</span>.
<!--l. 453--><p class="indent" >   A &#8220;launch specification,&#8221; in this context, means one of the virtual machine templates you told Spot Fleet would
be an acceptable way to accomodate your resource request. This usually corresponds one-to-one with instance types,
but this is not required.
<!--l. 458--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x61-5210006.2.8"></a>Expert Mode</h5>
<!--l. 460--><p class="noindent" >The man page (in section <a 
href="Condorannex.html#x99-68500012">12<!--tex4ht:ref: man-condor-annex --></a>) lists the &#8220;expert mode&#8221; options.
<!--l. 463--><p class="indent" >   Four of the &#8220;expert mode&#8221; options set the URLs used to access AWS services, not including the
CloudFormation URL needed by the <span class="textbf">-setup</span> flag. You may change the CloudFormation URL by changing
the HTCondor configuration macro <span class="texttt">ANNEX_DEFAULT_CF_URL</span> <a 
 id="dx61-521001"></a><a 
 id="dx61-521002"></a>, or by supplying the URL as the third
parameter after the <span class="textbf">-setup</span> flag. If you change any of the URLs, you may need to change all of the
URLs &#8211; Lambda functions and CloudWatch events in one region don&#8217;t work with instances in another
region.
<!--l. 471--><p class="indent" >   You may also temporarily specify a different AWS account by using the access (<span class="textbf">-aws-access-key-file</span>)
and secret key (<span class="textbf">-aws-secret-key-file</span>) options. Regular users may have an accounting reason to do
this.
<!--l. 476--><p class="indent" >   The options labeled &#8220;developers only&#8221; control implementation details and may change without warning; they are
probably best left unused unless you&#8217;re a developer.
                                                                                         

                                                                                         
<!--l. 483--><p class="indent" >   <span style="font-size: 200%;"><a 
href="Introduction3.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Introduction3.html#tailIntroduction3.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="HTCondorAnnexUsersGuide.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="CloudComputing.html#HTCondorAnnexUsersGuide.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="UsingCondorannexfortheFirstTime.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailHTCondorAnnexUsersGuide.html"></a>  
</body></html> 
