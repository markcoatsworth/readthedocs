<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Networking (includes sections on Port Usage and CCB)</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
   <span style="font-size: 200%;"><a 
href="Security.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Security.html#tailSecurity.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailNetworkingincludessectionsonPortUsageandCCB.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="AdministratorsManual.html#NetworkingincludessectionsonPortUsageandCCB.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="TheCheckpointServer.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><span class="titlemark">3.9   </span> <a 
 id="x37-3000003.9"></a>Networking (includes sections on Port Usage and CCB)</h3>
   <div class="sectionTOCS">
   &#x00A0;&#x00A0;<span class="subsectionToc" >3.9.1 <a 
href="#x37-3010003.9.1">Port Usage in HTCondor</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3020003.9.1" id="QQ2-37-319">IPv4 Port Specification</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3030003.9.1" id="QQ2-37-320">Default Port Usage</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3040003.9.1" id="QQ2-37-321">Using a Non Standard, Fixed Port for the <span class="textit">condor_collector</span></a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3050003.9.1" id="QQ2-37-322">Using a Dynamically Assigned Port for the <span class="textit">condor_collector</span></a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3060003.9.1" id="QQ2-37-323">Restricting Port Usage to Operate with Firewalls</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3070003.9.1" id="QQ2-37-324">Multiple Collectors</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3080003.9.1" id="QQ2-37-325">Port Conflicts</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.9.2 <a 
href="#x37-3090003.9.2">Reducing Port Usage with the <span class="textit">condor_shared_port</span> Daemon</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.9.3 <a 
href="#x37-3100003.9.3">Configuring HTCondor for Machines With Multiple Network Interfaces </a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3110003.9.3" id="QQ2-37-328">Using BIND_ALL_INTERFACES</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3120003.9.3" id="QQ2-37-329">Central Manager with Two or More NICs</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3130003.9.3" id="QQ2-37-330">A Client Machine with Multiple Interfaces</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3140003.9.3" id="QQ2-37-331">A Checkpoint Server on a Machine with Multiple NICs</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.9.4 <a 
href="#x37-3150003.9.4">HTCondor Connection Brokering (CCB)</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3160003.9.4" id="QQ2-37-333">Example Configuration</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3170003.9.4" id="QQ2-37-334">Security and CCB</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3180003.9.4" id="QQ2-37-335">Troubleshooting CCB</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3190003.9.4" id="QQ2-37-336">Scalability and CCB</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.9.5 <a 
href="#x37-3200003.9.5">Using TCP to Send Updates to the <span class="textit">condor_collector</span></a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.9.6 <a 
href="#x37-3210003.9.6">Running HTCondor on an IPv6 Network Stack</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3220003.9.6" id="QQ2-37-339">IPv6 and Host-Based Security</a></span>
                                                                                         

                                                                                         
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3230003.9.6" id="QQ2-37-340">IPv6 Address Literals</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x37-3240003.9.6" id="QQ2-37-341">IPv6 without DNS</a></span>
   </div>
<a 
 id="dx37-300001"></a>
<!--l. 6--><p class="indent" >   This section on network communication in HTCondor discusses which network ports are used, how HTCondor
behaves on machines with multiple network interfaces and IP addresses, and how to facilitate functionality in a pool
that spans firewalls and private networks.
<!--l. 14--><p class="indent" >   The security section of the manual contains some information that is relevant to the discussion of network
communication which will not be duplicated here, so please see section&#x00A0;<a 
href="Security.html#x36-2680003.8">3.8<!--tex4ht:ref: sec:Security --></a> as well.
<!--l. 19--><p class="indent" >   Firewalls, private networks, and network address translation (NAT) pose special problems for HTCondor. There
are currently two main mechanisms for dealing with firewalls within HTCondor:
<!--l. 24--><p class="indent" >
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x37-300003x1">Restrict HTCondor to use a specific range of port numbers, and allow connections through the firewall
     that use any port within the range.
     </li>
     <li 
  class="enumerate" id="x37-300005x2">Use <span class="emph">HTCondor Connection Brokering</span> (CCB).
     </li></ol>
<!--l. 34--><p class="indent" >   Each method has its own advantages and disadvantages, as described below.
<!--l. 2--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.9.1   </span> <a 
 id="x37-3010003.9.1"></a>Port Usage in HTCondor</h4>
<a 
 id="dx37-301001"></a>
<!--l. 7--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3020003.9.1"></a>IPv4 Port Specification</h5>
<a 
 id="dx37-302001"></a>
<a 
 id="dx37-302002"></a>
<!--l. 11--><p class="noindent" >The general form for IPv4 port specification is
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-660">
<tspan font-family="ectt" font-size="1000">&#x003C;IP:port?param1name=value1&amp;param2name=value2&amp;param3name=value3&amp;...&#x003E;</tspan>
</div>
<!--l. 14--><p class="nopar" >
<!--l. 16--><p class="indent" >   These parameters and values are URL-encoded. This means any special character is encoded with %, followed
by two hexadecimal digits specifying the ASCII value. Special characters are any non-alphanumeric
character.
<!--l. 21--><p class="indent" >   HTCondor currently recognizes the following parameters with an IPv4 port specification:
     <dl class="description"><dt class="description">
<span class="texttt">CCBID</span> </dt><dd 
class="description">Provides contact information for forming a CCB connection to a daemon, or a space separated list,
     if the daemon is registered with more than one CCB server. Each contact information is specified in
     the form of <span class="obeylines-h"><span class="verb">IP:port#ID</span></span>. Note that spaces between list items will be URL encoded by <span class="obeylines-h"><span class="verb">%20</span></span>.
     </dd><dt class="description">
<span class="texttt">PrivNet</span> </dt><dd 
class="description">Provides the name of the daemon&#8217;s private network. This value is specified in the configuration
     with <span class="texttt">PRIVATE_NETWORK_NAME</span>.
     </dd><dt class="description">
<span class="texttt">sock</span> </dt><dd 
class="description">Provides the name of <span class="textit">condor_shared_port</span> daemon named socket.
     </dd><dt class="description">
<span class="texttt">PrivAddr</span> </dt><dd 
class="description">Provides the daemon&#8217;s private address in form of <span class="texttt">IP:port</span>.</dd></dl>
<!--l. 42--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3030003.9.1"></a>Default Port Usage</h5>
<!--l. 45--><p class="noindent" >Every HTCondor daemon listens on a network port for incoming commands. (Using <span class="textit">condor_shared_port</span>,
this port may be shared between multiple daemons.) Most daemons listen on a dynamically assigned
port. In order to send a message, HTCondor daemons and tools locate the correct port to use by
querying the <span class="textit">condor_collector</span>, extracting the port number from the ClassAd. One of the attributes
included in every daemon&#8217;s ClassAd is the full IP address and port number upon which the daemon is
listening.
<!--l. 56--><p class="indent" >   To access the <span class="textit">condor_collector</span> itself, all HTCondor daemons and tools must know the port number where the
<span class="textit">condor_collector</span> is listening. The <span class="textit">condor_collector</span> is the only daemon with a well-known, fixed port. By default,
HTCondor uses port 9618 for the <span class="textit">condor_collector</span> daemon. However, this port number can be changed (see
below).
                                                                                         

                                                                                         
<!--l. 64--><p class="indent" >   As an optimization for daemons and tools communicating with another daemon that is running on the same
host, each HTCondor daemon can be configured to write its IP address and port number into a well-known file. The
file names are controlled using the <span class="texttt">&#x003C;SUBSYS&#x003E;_ADDRESS_FILE</span><a 
 id="dx37-303001"></a> configuration variables, as described in section&#x00A0;<a 
href="ConfigurationMacros.html#x33-1900003.5.3">3.5.3<!--tex4ht:ref: param:SubsysAddressFile --></a> on
page&#x00A0;<a 
href="ConfigurationMacros.html#x33-1900003.5.3">618<!--tex4ht:ref: param:SubsysAddressFile --></a>.
<!--l. 73--><p class="indent" >   <span class="underline">NOTE</span>: In the 6.6 stable series, and HTCondor versions earlier than 6.7.5, the <span class="textit">condor_negotiator</span> also
listened on a fixed, well-known port (the default was 9614). However, beginning with version 6.7.5, the
<span class="textit">condor_negotiator</span> behaves like all other HTCondor daemons, and publishes its own ClassAd to the
<span class="textit">condor_collector</span> which includes the dynamically assigned port the <span class="textit">condor_negotiator</span> is listening on.
All HTCondor tools and daemons that need to communicate with the <span class="textit">condor_negotiator</span> will either
use the <span class="texttt">NEGOTIATOR_ADDRESS_FILE</span> <a 
 id="dx37-303002"></a><a 
 id="dx37-303003"></a> or will query the <span class="textit">condor_collector</span> for the <span class="textit">condor_negotiator</span>&#8217;s
ClassAd.
<!--l. 85--><p class="indent" >   Sites that configure any checkpoint servers will introduce other fixed ports into their network. Each
<span class="textit">condor_ckpt_server</span> will listen to 4 fixed ports: 5651, 5652, 5653, and 5654. There is currently no way to configure
alternative values for any of these ports.
<!--l. 95--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3040003.9.1"></a>Using a Non Standard, Fixed Port for the <span class="textit">condor_collector</span></h5>
<a 
 id="dx37-304001"></a>
<!--l. 98--><p class="noindent" >By default, HTCondor uses port 9618 for the <span class="textit">condor_collector</span> daemon. To use a different port number for this
daemon, the configuration variables that tell HTCondor these communication details are modified. Instead
of
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-661">
<tspan font-family="ectt" font-size="1000">CONDOR_HOST</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;machX.cs.wisc.edu</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">COLLECTOR_HOST</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(CONDOR_HOST)</tspan>
</div>
<!--l. 107--><p class="nopar" > the configuration might be
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-662">
<tspan font-family="ectt" font-size="1000">CONDOR_HOST</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;machX.cs.wisc.edu</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">COLLECTOR_HOST</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(CONDOR_HOST):9650</tspan>
</div>
<!--l. 112--><p class="nopar" >
<!--l. 114--><p class="indent" >   If a non standard port is defined, the same value of <span class="texttt">COLLECTOR_HOST</span> (including the port) must be used for all
machines in the HTCondor pool. Therefore, this setting should be modified in the global configuration file
(<span class="texttt">condor_config</span> file), or the value must be duplicated across all configuration files in the pool if a single
configuration file is not being shared.
<!--l. 123--><p class="indent" >   When querying the <span class="textit">condor_collector</span> for a remote pool that is running on a non standard port,
any HTCondor tool that accepts the <span class="textbf">-pool</span> argument can optionally be given a port number. For
example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-663">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;%</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor_status</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;-pool</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;foo.bar.org:1234</tspan>
</div>
<!--l. 129--><p class="nopar" >
<!--l. 135--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3050003.9.1"></a>Using a Dynamically Assigned Port for the <span class="textit">condor_collector</span></h5>
<!--l. 138--><p class="noindent" >On single machine pools, it is permitted to configure the <span class="textit">condor_collector</span> daemon to use a dynamically assigned
port, as given out by the operating system. This prevents port conflicts with other services on the same machine.
However, a dynamically assigned port is only to be used on single machine HTCondor pools, and only if the
<span class="texttt">COLLECTOR_ADDRESS_FILE</span> <a 
 id="dx37-305001"></a><a 
 id="dx37-305002"></a> configuration variable has also been defined. This mechanism allows all of the HTCondor
daemons and tools running on the same machine to find the port upon which the <span class="textit">condor_collector</span>
daemon is listening, even when this port is not defined in the configuration file and is not known in
advance.
<!--l. 155--><p class="indent" >   To enable the <span class="textit">condor_collector</span> daemon to use a dynamically assigned port, the port number is set to 0 in the
<span class="texttt">COLLECTOR_HOST</span> <a 
 id="dx37-305003"></a><a 
 id="dx37-305004"></a> variable. The <span class="texttt">COLLECTOR_ADDRESS_FILE</span> configuration variable must also be defined, as it provides
a known file where the IP address and port information will be stored. All HTCondor clients know to look at the
information stored in this file. For example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-664">
<tspan font-family="ectt" font-size="0800">COLLECTOR_HOST</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(CONDOR_HOST):0</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">COLLECTOR_ADDRESS_FILE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(LOG)/.collector_address</tspan>
</div>
<!--l. 169--><p class="nopar" >
<!--l. 172--><p class="indent" >   Configuration definition of <span class="texttt">COLLECTOR_ADDRESS_FILE</span> is in section&#x00A0;<a 
href="ConfigurationMacros.html#x33-1900003.5.3">3.5.3<!--tex4ht:ref: param:SubsysAddressFile --></a> on page&#x00A0;<a 
href="ConfigurationMacros.html#x33-1900003.5.3">618<!--tex4ht:ref: param:SubsysAddressFile --></a>, and <span class="texttt">COLLECTOR_HOST</span> is in
section&#x00A0;<a 
href="ConfigurationMacros.html#x33-1880003.5.1">3.5.1<!--tex4ht:ref: param:CollectorHost --></a> on page&#x00A0;<a 
href="ConfigurationMacros.html#x33-1880003.5.1">586<!--tex4ht:ref: param:CollectorHost --></a>.
<!--l. 184--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3060003.9.1"></a>Restricting Port Usage to Operate with Firewalls</h5>
<a 
 id="dx37-306001"></a>
<!--l. 188--><p class="noindent" >If an HTCondor pool is completely behind a firewall, then no special consideration or port usage is needed. However,
if there is a firewall between the machines within an HTCondor pool, then configuration variables may be set to
force the usage of specific ports, and to utilize a specific range of ports.
<!--l. 195--><p class="indent" >   By default, HTCondor uses port 9618 for the <span class="textit">condor_collector</span> daemon, and dynamic (apparently random) ports
for everything else. See section&#x00A0;<a 
href="#x37-3050003.9.1">3.9.1<!--tex4ht:ref: sec:Ports-Dynamic-Collector --></a>, if a dynamically assigned port is desired for the <span class="textit">condor_collector</span>
daemon.
<!--l. 202--><p class="indent" >   All of the HTCondor daemons on a machine may be configured to share a single port. See section&#x00A0;<a 
href="ConfigurationMacros.html#x33-2260003.5.30">3.5.30<!--tex4ht:ref: sec:Config-shared-port --></a> for
more information.
<!--l. 206--><p class="indent" >   The configuration variables <span class="texttt">HIGHPORT</span> <a 
 id="dx37-306002"></a><a 
 id="dx37-306003"></a> and <span class="texttt">LOWPORT</span> <a 
 id="dx37-306004"></a><a 
 id="dx37-306005"></a> facilitate setting a restricted range of ports that HTCondor
will use. This may be useful when some machines are behind a firewall. The configuration macros <span class="texttt">HIGHPORT</span> and
<span class="texttt">LOWPORT</span> will restrict dynamic ports to the range specified. The configuration variables are fully defined in
section&#x00A0;<a 
href="ConfigurationMacros.html#x33-1910003.5.4">3.5.4<!--tex4ht:ref: sec:Network-Related-Config-File-Entries --></a>. All of these ports must be greater than 0 and less than 65,536. Note that both <span class="texttt">HIGHPORT</span> and <span class="texttt">LOWPORT</span>
must be at least 1024 for HTCondor version 6.6.8. In general, use ports greater than 1024, in order to
avoid port conflicts with standard services on the machine. Another reason for using ports greater
than 1024 is that daemons and tools are often not run as root, and only root may listen to a port
lower than 1024. Also, the range must include enough ports that are not in use, or HTCondor cannot
work.
<!--l. 227--><p class="indent" >   The range of ports assigned may be restricted based on incoming (listening) and outgoing (connect) ports with
the configuration variables <span class="texttt">IN_HIGHPORT</span> <a 
 id="dx37-306006"></a><a 
 id="dx37-306007"></a>, <span class="texttt">IN_LOWPORT</span> <a 
 id="dx37-306008"></a><a 
 id="dx37-306009"></a>, <span class="texttt">OUT_HIGHPORT</span> <a 
 id="dx37-306010"></a><a 
 id="dx37-306011"></a>, and <span class="texttt">OUT_LOWPORT</span> <a 
 id="dx37-306012"></a><a 
 id="dx37-306013"></a>. See section&#x00A0;<a 
href="ConfigurationMacros.html#x33-1910003.5.4">3.5.4<!--tex4ht:ref: sec:Network-Related-Config-File-Entries --></a> for
complete definitions of these configuration variables. A range of ports lower than 1024 for daemons running as root
is appropriate for incoming ports, but not for outgoing ports. The use of ports below 1024 (versus above
1024) has security implications; therefore, it is inappropriate to assign a range that crosses the 1024
boundary.
<!--l. 245--><p class="indent" >   <span class="underline">NOTE</span>: Setting <span class="texttt">HIGHPORT</span> and <span class="texttt">LOWPORT</span> will not automatically force the <span class="textit">condor_collector</span> to bind to a port
within the range. The only way to control what port the <span class="textit">condor_collector</span> uses is by setting the <span class="texttt">COLLECTOR_HOST</span> (as
                                                                                         

                                                                                         
described above).
<!--l. 251--><p class="indent" >   The total number of ports needed depends on the size of the pool, the usage of the machines within the pool
(which machines run which daemons), and the number of jobs that may execute at one time. Here we discuss how
many ports are used by each participant in the system. This assumes that <span class="textit">condor_shared_port</span> is not being used. If
it <span class="emph">is</span> being used, then all daemons can share a single incoming port.
<!--l. 260--><p class="indent" >   The central manager of the pool needs <span class="texttt">5 + number of <span class="textit">condor_schedd</span> daemons</span> ports for outgoing connections
and 2 ports for incoming connections for daemon communication.
<!--l. 265--><p class="indent" >   Each execute machine (those machines running a <span class="textit">condor_startd</span> daemon) requires
<span class="texttt"> 5 + (5 * number of slots advertised by that machine)</span> ports. By default, the number of slots advertised
will equal the number of physical CPUs in that machine.
<!--l. 272--><p class="indent" >   Submit machines (those machines running a <span class="textit">condor_schedd</span> daemon) require <span class="texttt">  5 + (5 * <span class="texttt">MAX_JOBS_RUNNING</span>)</span>
ports. The configuration variable <span class="texttt">MAX_JOBS_RUNNING</span> <a 
 id="dx37-306014"></a><a 
 id="dx37-306015"></a> limits (on a per-machine basis, if desired) the maximum
number of jobs. Without this configuration macro, the maximum number of jobs that could be simultaneously
executing at one time is a function of the number of reachable execute machines.
<!--l. 283--><p class="indent" >   Also be aware that <span class="texttt">HIGHPORT</span> and <span class="texttt">LOWPORT</span> only impact dynamic port selection used by the HTCondor system,
and they do not impact port selection used by jobs submitted to HTCondor. Thus, jobs submitted to HTCondor
that may create network connections may not work in a port restricted environment. For this reason, specifying
<span class="texttt">HIGHPORT</span> and <span class="texttt">LOWPORT</span> is not going to produce the expected results if a user submits MPI applications to be
executed under the parallel universe.
<!--l. 293--><p class="indent" >   Where desired, a local configuration for machines <span class="emph">not</span> behind a firewall can override the usage of
<span class="texttt">HIGHPORT</span> and <span class="texttt">LOWPORT</span>, such that the ports used for these machines are not restricted. This can be
accomplished by adding the following to the local configuration file of those machines <span class="emph">not</span> behind a
firewall:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-665">
<tspan font-family="ectt" font-size="1000">HIGHPORT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;UNDEFINED</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">LOWPORT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;UNDEFINED</tspan>
</div>
<!--l. 303--><p class="nopar" >
<!--l. 306--><p class="indent" >   If the maximum number of ports allocated using <span class="texttt">HIGHPORT</span> and <span class="texttt">LOWPORT</span> is too few, socket binding errors of the
form
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-666">
<tspan font-family="ectt" font-size="0800">failed</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;bind</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;any</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;port</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;within</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&#x003C;$LOWPORT&#x003E;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;-</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&#x003C;$HIGHPORT&#x003E;</tspan>
</div>
<!--l. 313--><p class="nopar" > are likely to appear repeatedly in log files.
<!--l. 319--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3070003.9.1"></a>Multiple Collectors</h5>
<a 
 id="dx37-307001"></a>
<div class="center" 
>
<!--l. 322--><p class="noindent" >
<div class="fbox">This section has not yet been written</div>
</div>
<!--l. 326--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3080003.9.1"></a>Port Conflicts</h5>
<a 
 id="dx37-308001"></a>
<div class="center" 
>
<!--l. 329--><p class="noindent" >
<div class="fbox">This section has not yet been written</div>
</div>
                                                                                         

                                                                                         
<!--l. 2--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.9.2   </span> <a 
 id="x37-3090003.9.2"></a>Reducing Port Usage with the <span class="textit">condor_shared_port</span> Daemon</h4>
<a 
 id="dx37-309001"></a>
<a 
 id="dx37-309002"></a>
<a 
 id="dx37-309003"></a>
<!--l. 8--><p class="noindent" >The <span class="textit">condor_shared_port</span> is an optional daemon responsible for creating a TCP listener port shared by all of the
HTCondor daemons.
<!--l. 16--><p class="indent" >   The main purpose of the <span class="textit">condor_shared_port</span> daemon is to reduce the number of ports that must be opened.
This is desirable when HTCondor daemons need to be accessible through a firewall. This has a greater security
benefit than simply reducing the number of open ports. Without the <span class="textit">condor_shared_port</span> daemon, HTCondor can
use a range of ports, but since some HTCondor daemons are created dynamically, this full range of ports will not be
in use by HTCondor at all times. This implies that other non-HTCondor processes not intended to be exposed to
the outside network could unintentionally bind to ports in the range intended for HTCondor, unless additional steps
are taken to control access to those ports. While the <span class="textit">condor_shared_port</span> daemon is running, it is exclusively
bound to its port, which means that other non-HTCondor processes cannot accidentally bind to that
port.
<!--l. 34--><p class="indent" >   A second benefit of the <span class="textit">condor_shared_port</span> daemon is that it helps address the scalability issues of a submit
machine. Without the <span class="textit">condor_shared_port</span> daemon, more than 2 ephemeral ports per running job are
often required, depending on the rate of job completion. There are only 64K ports in total, and most
standard Unix installations only allocate a subset of these as ephemeral ports. Therefore, with long
running jobs, and with between 11K and 14K simultaneously running jobs, port exhaustion has been
observed in typical Linux installations. After increasing the ephemeral port range to its maximum,
port exhaustion occurred between 20K and 25K running jobs. Using the <span class="textit">condor_shared_port</span> daemon
dramatically reduces the required number of ephemeral ports on the submit node where the submit node
connects directly to the execute node. If the submit node connects via CCB to the execute node, <span class="emph">no</span>
ports are required per running job; only the one port allocated to the <span class="textit">condor_shared_port</span> daemon is
used.
<!--l. 54--><p class="indent" >   When CCB is enabled, the <span class="textit">condor_shared_port</span> daemon registers with the CCB server on behalf of all daemons
sharing the port. This means that it is not possible to individually enable or disable CCB connectivity to daemons
that are using the shared port; they all effectively share the same setting, and the <span class="textit">condor_shared_port</span> daemon
handles all CCB connection requests on their behalf.
<!--l. 63--><p class="indent" >   HTCondor&#8217;s authentication and authorization steps are unchanged by the use of a shared port. Each HTCondor
daemon continues to operate according to its configured policy. Requests for connections to the shared port are not
authenticated or restricted by the <span class="textit">condor_shared_port</span> daemon. They are simply passed to the requested daemon,
which is then responsible for enforcing the security policy.
<!--l. 71--><p class="indent" >   When the <span class="textit">condor_master</span> is configured to use the shared port by setting the configuration variable
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-667">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;USE_SHARED_PORT</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
</div>
<!--l. 75--><p class="nopar" > the <span class="textit">condor_shared_port</span> daemon is treated specially. <span class="texttt">SHARED_PORT</span> <a 
 id="dx37-309004"></a><a 
 id="dx37-309005"></a> is automatically added to <span class="texttt">DAEMON_LIST</span> <a 
 id="dx37-309006"></a><a 
 id="dx37-309007"></a>. A
command such as <span class="textit">condor_off </span>, which shuts down all daemons except for the <span class="textit">condor_master</span>, will also leave the
<span class="textit">condor_shared_port</span> running. This prevents the <span class="textit">condor_master</span> from getting into a state where it can no longer
receive commands.
<!--l. 84--><p class="indent" >   Also when <span class="texttt">  USE_SHARED_PORT = True</span>, the <span class="textit">condor_collector</span> needs to be configured to use a shared port, so
that connections to the shared port that are destined for the <span class="textit">condor_collector</span> can be forwarded. As
an example, the shared port socket name of the <span class="textit">condor_collector</span> with shared port number 11000
is
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-668">
<tspan font-family="ectt" font-size="0800">COLLECTOR_HOST</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;cm.host.name:11000?sock=collector</tspan>
</div>
<!--l. 95--><p class="nopar" >
<!--l. 98--><p class="indent" >   This example assumes that the socket name used by the <span class="textit">condor_collector</span> is <span class="texttt">collector</span>, and it runs on
<span class="texttt">cm.host.name</span>. This configuration causes the <span class="textit">condor_collector</span> to automatically choose this socket name. If multiple
<span class="textit">condor_collector</span> daemons are started on the same machine, the socket name can be explicitly set in the daemon&#8217;s
invocation arguments, as in the example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-669">
<tspan font-family="ectt" font-size="1000">COLLECTOR_ARGS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-sock</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;collector</tspan>
</div>
<!--l. 109--><p class="nopar" >
<!--l. 111--><p class="indent" >   When the <span class="textit">condor_collector</span> address is a shared port, TCP updates will be automatically used instead of UDP,
because the <span class="textit">condor_shared_port</span> daemon does not work with UDP messages. Under Unix, this means that the
<span class="textit">condor_collector</span> daemon should be configured to have enough file descriptors. See section&#x00A0;<a 
href="#x37-3200003.9.5">3.9.5<!--tex4ht:ref: sec:tcp-collector-update --></a> for more
information on using TCP within HTCondor.
<!--l. 119--><p class="indent" >   SOAP commands cannot be sent through the <span class="textit">condor_shared_port</span> daemon. However, a daemon may be
configured to open a fixed, non-shared port, in addition to using a shared port. This is done both by setting
<span class="texttt">USE_SHARED_PORT = True</span> and by specifying a fixed port for the daemon using <span class="obeylines-h"><span class="verb">&#x003C;SUBSYS&#x003E;_ARGS&#x00A0;=&#x00A0;-p&#x00A0;&#x003C;portnum&#x003E;</span></span>.
<!--l. 126--><p class="indent" >   The TCP connections required to manage standard universe jobs do not make use of shared ports. Therefore, if
the firewall is configured to only allow connections through the shared port, standard universe jobs will not be able
to run.
<!--l. 3--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.9.3   </span> <a 
 id="x37-3100003.9.3"></a>Configuring HTCondor for Machines With Multiple Network Interfaces </h4>
<a 
 id="dx37-310001"></a>
<a 
 id="dx37-310002"></a>
<a 
 id="dx37-310003"></a>
<!--l. 10--><p class="noindent" >HTCondor can run on machines with multiple network interfaces. Starting with HTCondor version 6.7.13 (and
therefore all HTCondor 6.8 and more recent versions), new functionality is available that allows even
better support for multi-homed machines, using the configuration variable <span class="texttt">BIND_ALL_INTERFACES</span> <a 
 id="dx37-310004"></a><a 
 id="dx37-310005"></a>. A
multi-homed machine is one that has more than one NIC (Network Interface Card). Further improvements to
this new functionality will remove the need for any special configuration in the common case. For
now, care must still be given to machines with multiple NICs, even when using this new configuration
variable.
<!--l. 28--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3110003.9.3"></a>Using BIND_ALL_INTERFACES</h5>
<!--l. 31--><p class="noindent" >Machines can be configured such that whenever HTCondor daemons or tools call <span class="texttt">bind()</span>, the daemons or tools use
all network interfaces on the machine. This means that outbound connections will always use the appropriate
network interface to connect to a remote host, instead of being forced to use an interface that might not have a
                                                                                         

                                                                                         
route to the given destination. Furthermore, sockets upon which a daemon listens for incoming connections
will be bound to all network interfaces on the machine. This means that so long as remote clients
know the right port, they can use any IP address on the machine and still contact a given HTCondor
daemon.
<!--l. 44--><p class="indent" >   This functionality is on by default. To disable this functionality, the boolean configuration variable
<span class="texttt">BIND_ALL_INTERFACES</span> is defined and set to <span class="texttt">False</span>:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-670">
<tspan font-family="ectt" font-size="1000">BIND_ALL_INTERFACES</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FALSE</tspan>
</div>
<!--l. 52--><p class="nopar" >
<!--l. 54--><p class="indent" >   This functionality has limitations. Here are descriptions of the limitations.
     <dl class="description"><dt class="description">
Using all network interfaces does not work with Kerberos. </dt><dd 
class="description">Every   Kerberos   ticket   contains   a
     specific IP address within it. Authentication over a socket (using Kerberos) requires the socket to
     also specify that same specific IP address. Use of <span class="texttt">BIND_ALL_INTERFACES</span> causes outbound connections
     from a multi-homed machine to originate over any of the interfaces. Therefore, the IP address of the
     outbound connection and the IP address in the Kerberos ticket will not necessarily match, causing
     the authentication to fail. Sites using Kerberos authentication on multi-homed machines are strongly
     encouraged not to enable <span class="texttt">BIND_ALL_INTERFACES</span>, at least until HTCondor&#8217;s Kerberos functionality
     supports using multiple Kerberos tickets together with finding the right one to match the IP address
     a given socket is bound to.
     </dd><dt class="description">
There is a potential security risk. </dt><dd 
class="description">Consider the following example of a security risk. A multi-homed
     machine is at a network boundary. One interface is on the public Internet, while the other connects
     to a private network. Both the multi-homed machine and the private network machines comprise
     an HTCondor pool. If the multi-homed machine enables <span class="texttt">BIND_ALL_INTERFACES</span>, then it is at risk
     from hackers trying to compromise the security of the pool. Should this multi-homed machine be
     compromised, the entire pool is vulnerable. Most sites in this situation would run an <span class="textit">sshd</span> on the
     multi-homed machine so that remote users who wanted to access the pool could log in securely and use
     the HTCondor tools directly. In this case, remote clients do not need to use HTCondor tools running
     on machines in the public network to access the HTCondor daemons on the multi-homed machine.
     Therefore, there is no reason to have HTCondor daemons listening on ports on the public Internet,
     causing a potential security threat.
     </dd><dt class="description">
Up to two IP addresses will be advertised. </dt><dd 
class="description">At present, even though a given HTCondor daemon will
     be listening to ports on multiple interfaces, each with their own IP address, there is currently no
     mechanism for that daemon to advertise all of the possible IP addresses where it can be contacted.
     Therefore, HTCondor clients (other HTCondor daemons or tools) will not necessarily able to locate and
     communicate with a given daemon running on a multi-homed machine where <span class="texttt">BIND_ALL_INTERFACES</span>
     has been enabled.
     <!--l. 105--><p class="noindent" >Currently, HTCondor daemons can only advertise two IP addresses in the ClassAd they send to their
     <span class="textit">condor_collector</span>. One is the public IP address and the other is the private IP address. HTCondor
     tools and other daemons that wish to connect to the daemon will use the private IP address if they are
                                                                                         

                                                                                         
     configured with the same private network name, and they will use the public IP address otherwise. So,
     even if the daemon is listening on 3 or more different interfaces, each with a separate IP, the daemon
     must choose which two IP addresses to advertise so that other daemons and tools can connect to it.
     <!--l. 115--><p class="noindent" >By  default,  HTCondor  advertises  the  most  public  IP  address  available  on  the  machine.  The
     <span class="texttt">NETWORK_INTERFACE</span> <a 
 id="dx37-311001"></a><a 
 id="dx37-311002"></a> configuration variable can be used to specify the public IP address HTCondor
     should advertise, and <span class="texttt">PRIVATE_NETWORK_INTERFACE</span> <a 
 id="dx37-311003"></a><a 
 id="dx37-311004"></a>, along with <span class="texttt">PRIVATE_NETWORK_NAME</span> <a 
 id="dx37-311005"></a><a 
 id="dx37-311006"></a> can be used
     to specify the private IP address to advertise.
     </dd></dl>
<!--l. 125--><p class="indent" >   Sites that make heavy use of private networks and multi-homed machines should consider if using the HTCondor
Connection Broker, CCB, is right for them. More information about CCB and HTCondor can be found in
section&#x00A0;<a 
href="#x37-3150003.9.4">3.9.4<!--tex4ht:ref: sec:CCB --></a> on page&#x00A0;<a 
href="#x37-3150003.9.4">1100<!--tex4ht:ref: sec:CCB --></a>.
<!--l. 133--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3120003.9.3"></a>Central Manager with Two or More NICs</h5>
<!--l. 136--><p class="noindent" >Often users of HTCondor wish to set up compute farms where there is one machine with two network
interface cards (one for the public Internet, and one for the private net). It is convenient to set up
the head node as a central manager in most cases and so here are the instructions required to do
so.
<!--l. 142--><p class="indent" >   Setting up the central manager on a machine with more than one NIC can be a little confusing because there are
a few external variables that could make the process difficult. One of the biggest mistakes in getting this to work is
that either one of the separate interfaces is not active, or the host/domain names associated with the interfaces are
incorrectly configured.
<!--l. 149--><p class="indent" >   Given that the interfaces are up and functioning, and they have good host/domain names associated with them
here is how to configure HTCondor:
<!--l. 152--><p class="indent" >   In this example, <span class="texttt">farm-server.farm.org</span> maps to the private interface. In the central manager&#8217;s global (to the
cluster) configuration file:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-671">
<tspan font-family="ectt" font-size="1000">CONDOR_HOST</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;farm-server.farm.org</tspan>
</div>
<!--l. 156--><p class="nopar" >
<!--l. 158--><p class="indent" >   In the central manager&#8217;s local configuration file:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-672">
<tspan font-family="ectt" font-size="1000">NETWORK_INTERFACE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003C;IP</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;address</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;farm-server.farm.org&#x003E;</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">NEGOTIATOR</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(SBIN)/condor_negotiator</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">COLLECTOR</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(SBIN)/condor_collector</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">DAEMON_LIST</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MASTER,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;COLLECTOR,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NEGOTIATOR,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SCHEDD,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;STARTD</tspan>
</div>
<!--l. 164--><p class="nopar" >
<!--l. 166--><p class="indent" >   If the central manager and farm machines are all NT, then only vanilla universe will work now. However, if this
is set up for Unix, then at this point, standard universe jobs should be able to function in the pool. But, if
<span class="texttt">UID_DOMAIN</span> <a 
 id="dx37-312001"></a><a 
 id="dx37-312002"></a> is not configured to be homogeneous across the farm machines, the standard universe jobs will run as
nobody on the farm machines.
<!--l. 174--><p class="indent" >   In order to get vanilla jobs and file server load balancing for standard universe jobs working (under Unix), do
some more work both in the cluster you have put together and in HTCondor to make everything work. First, you
need a file server (which could also be the central manager) to serve files to all of the farm machines. This could be
NFS or AFS, and it does not really matter to HTCondor. The mount point of the directories you wish your users to
use must be the same across all of the farm machines. Now, configure <span class="texttt">UID_DOMAIN</span> <a 
 id="dx37-312003"></a><a 
 id="dx37-312004"></a> and <span class="texttt">FILESYSTEM_DOMAIN</span> <a 
 id="dx37-312005"></a><a 
 id="dx37-312006"></a> to be
homogeneous across the farm machines and the central manager. Inform HTCondor that an NFS
or AFS file system exists and that is done in this manner. In the global (to the farm) configuration
file:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-673">
<tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;If</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;you</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;have</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NFS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">USE_NFS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;If</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;you</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;have</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;AFS</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">HAS_AFS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">USE_AFS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;if</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;you</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;want</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;both</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NFS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;and</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;AFS,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;then</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;enable</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;both</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;sets</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;above</tspan>
</div>
<!--l. 194--><p class="nopar" >
<!--l. 196--><p class="indent" >   Now, if the cluster is set up so that it is possible for a machine name to never have a domain name (for example,
there is machine name but no fully qualified domain name in <span class="texttt">/etc/hosts</span>), configure <span class="texttt">DEFAULT_DOMAIN_NAME</span> <a 
 id="dx37-312007"></a><a 
 id="dx37-312008"></a> to be
the domain that is to be added on to the end of the host name.
<!--l. 205--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3130003.9.3"></a>A Client Machine with Multiple Interfaces</h5>
<!--l. 208--><p class="noindent" >If client machine has two or more NICs, then there might be a specific network interface on which the client machine
desires to communicate with the rest of the HTCondor pool. In this case, the local configuration file for the client
should have
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-674">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;NETWORK_INTERFACE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003C;IP</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;address</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;of</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;desired</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;interface&#x003E;</tspan>
</div>
<!--l. 214--><p class="nopar" >
<!--l. 217--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3140003.9.3"></a>A Checkpoint Server on a Machine with Multiple NICs</h5>
<!--l. 220--><p class="noindent" >If a checkpoint server is on a machine with multiple interfaces, then 2 items must be correct to get things to
work:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x37-314002x1">The different interfaces have different host names associated with them.
     </li>
     <li 
  class="enumerate" id="x37-314004x2">In the global configuration file, set configuration variable <span class="texttt">CKPT_SERVER_HOST</span> <a 
 id="dx37-314005"></a><a 
 id="dx37-314006"></a> to the host name that
     corresponds with the IP address desired for the pool. Configuration variable <span class="texttt">NETWORK_INTERFACE</span><a 
 id="dx37-314007"></a><a 
 id="dx37-314008"></a> must
     still be specified in the local configuration file for the checkpoint server.</li></ol>
<!--l. 2--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.9.4   </span> <a 
 id="x37-3150003.9.4"></a>HTCondor Connection Brokering (CCB)</h4>
<a 
 id="dx37-315001"></a>
<!--l. 6--><p class="noindent" >HTCondor Connection Brokering, or CCB, is a way of allowing HTCondor components to communicate with each
other when one side is in a private network or behind a firewall. Specifically, CCB allows communication across a
private network boundary in the following scenario: an HTCondor tool or daemon (process A) needs to connect to
an HTCondor daemon (process B), but the network does not allow a TCP connection to be created
from A to B; it only allows connections from B to A. In this case, B may be configured to register
itself with a CCB server that both A and B can connect to. Then when A needs to connect to B,
it can send a request to the CCB server, which will instruct B to connect to A so that the two can
communicate.
<!--l. 19--><p class="indent" >   As an example, consider an HTCondor execute node that is within a private network. This execute node&#8217;s
<span class="textit">condor_startd</span> is process B. This execute node cannot normally run jobs submitted from a machine that is outside
of that private network, because bi-directional connectivity between the submit node and the execute node is
normally required. However, if both execute and submit machine can connect to the CCB server, if both are
                                                                                         

                                                                                         
authorized by the CCB server, and if it is possible for the execute node within the private network
to connect to the submit node, then it is possible for the submit node to run jobs on the execute
node.
<!--l. 34--><p class="indent" >   To effect this CCB solution, the execute node&#8217;s <span class="textit">condor_startd</span> within the private network registers itself with the
CCB server by setting the configuration variable <span class="texttt">CCB_ADDRESS</span> <a 
 id="dx37-315002"></a><a 
 id="dx37-315003"></a>. The submit node&#8217;s <span class="textit">condor_schedd</span> communicates
with the CCB server, requesting that the execute node&#8217;s <span class="textit">condor_startd</span> open the TCP connection. The CCB server
forwards this request to the execute node&#8217;s <span class="textit">condor_startd</span>, which opens the TCP connection. Once the connection is
open, bi-directional communication is enabled.
<!--l. 45--><p class="indent" >   If the location of the execute and submit nodes is reversed with respect to the private network, the
same idea applies: the submit node within the private network registers itself with a CCB server,
such that when a job is running and the execute node needs to connect back to the submit node (for
example, to transfer output files), the execute node can connect by going through CCB to request a
connection.
<!--l. 53--><p class="indent" >   If both A and B are in separate private networks, then CCB alone cannot provide connectivity. However, if an
incoming port or port range can be opened in one of the private networks, then the situation becomes equivalent to
one of the scenarios described above and CCB can provide bi-directional communication given only one-directional
connectivity. See section&#x00A0;<a 
href="#x37-3010003.9.1">3.9.1<!--tex4ht:ref: sec:Port-Details --></a> for information on opening port ranges. Also note that CCB works nicely with
<span class="textit">condor_shared_port</span>.
<!--l. 62--><p class="indent" >   Unfortunately at this time, CCB does not support standard universe jobs.
<!--l. 64--><p class="indent" >   Any <span class="textit">condor_collector</span> may be used as a CCB server. There is no requirement that the <span class="textit">condor_collector</span> acting as
the CCB server be the same <span class="textit">condor_collector</span> that a daemon advertises itself to (as with <span class="texttt">COLLECTOR_HOST</span>).
However, this is often a convenient choice.
<!--l. 70--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3160003.9.4"></a>Example Configuration</h5>
<!--l. 72--><p class="noindent" >This example assumes that there is a pool of machines in a private network that need to be made accessible from
the outside, and that the <span class="textit">condor_collector</span> (and therefore CCB server) used by these machines is accessible from the
outside. Accessibility might be achieved by a special firewall rule for the <span class="textit">condor_collector</span> port, or by being on a
dual-homed machine in both networks.
<!--l. 80--><p class="indent" >   The configuration of variable <span class="texttt">CCB_ADDRESS</span> on machines in the private network causes registration with the CCB
server as in the example:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-675">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CCB_ADDRESS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(COLLECTOR_HOST)</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;PRIVATE_NETWORK_NAME</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;cs.wisc.edu</tspan>
</div>
<!--l. 87--><p class="nopar" >
<!--l. 89--><p class="indent" >   The definition of <span class="texttt">PRIVATE_NETWORK_NAME</span> ensures that all communication between nodes within the private
network continues to happen as normal, and without going through the CCB server. The name chosen for
<span class="texttt">PRIVATE_NETWORK_NAME</span> should be different from the private network name chosen for any HTCondor installations
that will be communicating with this pool.
<!--l. 96--><p class="indent" >   Under Unix, and with large HTCondor pools, it is also necessary to give the <span class="textit">condor_collector</span> acting as the
CCB server a large enough limit of file descriptors. This may be accomplished with the configuration
variable <span class="texttt">MAX_FILE_DESCRIPTORS</span> <a 
 id="dx37-316001"></a><a 
 id="dx37-316002"></a> or an equivalent. Each HTCondor process configured to use CCB with
<span class="texttt">CCB_ADDRESS</span> requires one persistent TCP connection to the CCB server. A typical execute node requires one
connection for the <span class="textit">condor_master</span>, one for the <span class="textit">condor_startd</span>, and one for each running job, as represented
by a <span class="textit">condor_starter</span>. A typical submit machine requires one connection for the <span class="textit">condor_master</span>, one
for the <span class="textit">condor_schedd</span>, and one for each running job, as represented by a <span class="textit">condor_shadow</span>. If there
will be no administrative commands required to be sent to the <span class="textit">condor_master</span> from outside of the
private network, then CCB may be disabled in the <span class="textit">condor_master</span> by assigning <span class="texttt">MASTER.CCB_ADDRESS</span> to
nothing:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-676">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;MASTER.CCB_ADDRESS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan>
</div>
<!--l. 117--><p class="nopar" >
<!--l. 119--><p class="indent" >   Completing the count of TCP connections in this example: suppose the pool consists of 500 8-slot execute nodes
and CCB is not disabled in the configuration of the <span class="textit">condor_master</span> processes. In this case, the count of needed file
descriptors plus some extra for other transient connections to the collector is 500*(1+1+8)=5000. Be generous, and
give it twice as many descriptors as needed by CCB alone:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-677">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;COLLECTOR.MAX_FILE_DESCRIPTORS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;10000</tspan>
</div>
<!--l. 131--><p class="nopar" >
<!--l. 133--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3170003.9.4"></a>Security and CCB</h5>
<!--l. 135--><p class="noindent" >The CCB server authorizes all daemons that register themselves with it (using <span class="texttt">CCB_ADDRESS</span> <a 
 id="dx37-317001"></a><a 
 id="dx37-317002"></a>) at the DAEMON
authorization level (these are playing the role of process A in the above description). It authorizes all connection
requests (from process B) at the READ authorization level. As usual, whether process B authorizes process A to do
whatever it is trying to do is up to the security policy for process B; from the HTCondor security model&#8217;s point of
view, it is as if process A connected to process B, even though at the network layer, the reverse is
true.
<!--l. 145--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3180003.9.4"></a>Troubleshooting CCB</h5>
<!--l. 147--><p class="noindent" >Errors registering with CCB or requesting connections via CCB are logged at level <span class="texttt">D_ALWAYS</span> in the debugging log.
These errors may be identified by searching for "CCB" in the log message. Command-line tools require the
argument <span class="textbf">-debug</span> for this information to be visible. To see details of the CCB protocol add <span class="texttt">D_FULLDEBUG</span> to the
debugging options for the particular HTCondor subsystem of interest. Or, add <span class="texttt">D_FULLDEBUG</span> to <span class="texttt">ALL_DEBUG</span> to get
extra debugging from all HTCondor components.
<!--l. 158--><p class="indent" >   A daemon that has successfully registered itself with CCB will advertise this fact in its address in its ClassAd.
The ClassAd attribute <span class="texttt">MyAddress</span> will contain information about its <span class="texttt">"CCBID"</span>.
<!--l. 163--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3190003.9.4"></a>Scalability and CCB</h5>
<!--l. 165--><p class="noindent" >Any number of CCB servers may be used to serve a pool of HTCondor daemons. For example, half of the pool could
use one CCB server and half could use another. Or for redundancy, all daemons could use both CCB servers and
then CCB connection requests will load-balance across them. Typically, the limit of how many daemons may be
registered with a single CCB server depends on the authentication method used by the <span class="textit">condor_collector</span> for
                                                                                         

                                                                                         
DAEMON-level and READ-level access, and on the amount of memory available to the CCB server. We are not able
to provide specific recommendations at this time, but to give a very rough idea, a server class machine should be
able to handle CCB service plus normal <span class="textit">condor_collector</span> service for a pool containing a few thousand slots without
much trouble.
<!--l. 3--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.9.5   </span> <a 
 id="x37-3200003.9.5"></a>Using TCP to Send Updates to the <span class="textit">condor_collector</span></h4>
<a 
 id="dx37-320001"></a>
<a 
 id="dx37-320002"></a>
<a 
 id="dx37-320003"></a>
<a 
 id="dx37-320004"></a>
<a 
 id="dx37-320005"></a>
<!--l. 12--><p class="noindent" >TCP sockets are reliable, connection-based sockets that guarantee the delivery of any data sent. However, TCP
sockets are fairly expensive to establish, and there is more network overhead involved in sending and receiving
messages.
<!--l. 17--><p class="indent" >   UDP sockets are datagrams, and are not reliable. There is very little overhead in establishing or using a
UDP socket, but there is also no guarantee that the data will be delivered. The lack of guaranteed
delivery of UDP will negatively affect some pools, particularly ones comprised of machines across
a wide area network (WAN) or highly-congested network links, where UDP packets are frequently
dropped.
<!--l. 25--><p class="indent" >   By default, HTCondor daemons will use TCP to send updates to the <span class="textit">condor_collector</span>, with the exception of the
<span class="textit">condor_collector</span> forwarding updates to any <span class="textit">condor_collector</span> daemons specified in <span class="texttt">CONDOR_VIEW_HOST</span>, where UDP
is used. These configuration variables control the protocol used:
     <dl class="description"><dt class="description">
<span class="texttt">UPDATE_COLLECTOR_WITH_TCP</span> <a 
 id="dx37-320006"></a><a 
 id="dx37-320007"></a> </dt><dd 
class="description">When set to <span class="texttt">False</span>, the HTCondor daemons will use UDP to update the
     <span class="textit">condor_collector</span>, instead of the default TCP. Defaults to <span class="texttt">True</span>.
     </dd><dt class="description">
<span class="texttt">UPDATE_VIEW_COLLECTOR_WITH_TCP</span> <a 
 id="dx37-320008"></a><a 
 id="dx37-320009"></a> </dt><dd 
class="description">When set to <span class="texttt">True</span>, the HTCondor collector will use TCP to forward
     updates to <span class="textit">condor_collector</span> daemons specified by <span class="texttt">CONDOR_VIEW_HOST</span>, instead of the default UDP.
     Defaults to <span class="texttt">False</span>.
     </dd><dt class="description">
<span class="texttt">TCP_UPDATE_COLLECTORS</span> <a 
 id="dx37-320010"></a><a 
 id="dx37-320011"></a> </dt><dd 
class="description">A list of <span class="textit">condor_collector</span> daemons which will be updated with TCP instead of
     UDP, when <span class="texttt">UPDATE_COLLECTOR_WITH_TCP</span> or <span class="texttt">UPDATE_VIEW_COLLECTOR_WITH_TCP</span> is set to <span class="texttt">False</span>.
     </dd></dl>
<!--l. 55--><p class="indent" >   When there are sufficient file descriptors, the <span class="textit">condor_collector</span> leaves established TCP sockets open, facilitating
                                                                                         

                                                                                         
better performance. Subsequent updates can reuse an already open socket.
<!--l. 59--><p class="indent" >   Each HTCondor daemon that sends updates to the <span class="textit">condor_collector</span> will have 1 socket open to it. So, in a pool
with N machines, each of them running a <span class="textit">condor_master</span>, <span class="textit">condor_schedd</span>, and <span class="textit">condor_startd</span>, the <span class="textit">condor_collector</span>
would need at least 3*N file descriptors. If the <span class="textit">condor_collector</span> is also acting as a CCB server, it will require an
additional file descriptor for each registered daemon. In the default configuration, the number of file descriptors
available to the <span class="textit">condor_collector</span> is 10240. For very large pools, the number of descriptor can be modified with the
configuration:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-678">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;COLLECTOR_MAX_FILE_DESCRIPTORS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;40960</tspan>
</div>
<!--l. 74--><p class="nopar" >
<!--l. 76--><p class="indent" >   If there are insufficient file descriptors for all of the daemons sending updates to the <span class="textit">condor_collector</span>, a warning
will be printed in the <span class="textit">condor_collector</span> log file. The string <span class="texttt">"file descriptor safety level exceeded"</span> identifies
this warning.
<!--l. 2--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.9.6   </span> <a 
 id="x37-3210003.9.6"></a>Running HTCondor on an IPv6 Network Stack</h4>
<a 
 id="dx37-321001"></a>
<!--l. 6--><p class="noindent" >HTCondor supports using IPv4, IPv6, or both.
<!--l. 8--><p class="indent" >   To require IPv4, you may set <span class="texttt">ENABLE_IPV4</span> <a 
 id="dx37-321002"></a><a 
 id="dx37-321003"></a> to true; if the machine does not have an interface with
an IPv4 address, HTCondor will not start. Likewise, to require IPv6, you may set <span class="texttt">ENABLE_IPV6</span> <a 
 id="dx37-321004"></a><a 
 id="dx37-321005"></a> to
true.
<!--l. 13--><p class="indent" >   If you set <span class="texttt">ENABLE_IPV4</span> <a 
 id="dx37-321006"></a><a 
 id="dx37-321007"></a> to false, HTCondor will not use IPv4, even if it is available; likewise for <span class="texttt">ENABLE_IPV6</span> <a 
 id="dx37-321008"></a><a 
 id="dx37-321009"></a>
and IPv6.
<!--l. 16--><p class="indent" >   The default setting for <span class="texttt">ENABLE_IPV4</span> <a 
 id="dx37-321010"></a><a 
 id="dx37-321011"></a> and <span class="texttt">ENABLE_IPV6</span> <a 
 id="dx37-321012"></a><a 
 id="dx37-321013"></a> is <span class="texttt">auto</span>. If HTCondor does not find an interface with an
address of the corresponding protocol, that protocol will not be used. Additionally, if only one of the protocols has a
private or public address, the other protocol will be disabled. For instance, a machine with a private IPv4 address
and a loopback IPv6 address will only use IPv4; there&#8217;s no point trying to contact some other machine via IPv6 over
a loopback interface.
<!--l. 24--><p class="indent" >   If both IPv4 and IPv6 networking are enabled, HTCondor runs in mixed mode. In mixed mode, HTCondor
daemons have at least one IPv4 address and at least one IPv6 address. Other daemons and the command-line tools
choose between these addresses based on which protocols are enabled for them; if both are, they will prefer the first
address listed by that daemon.
<!--l. 30--><p class="indent" >   A daemon may be listening on one, some, or all of its machine&#8217;s addresses. (See <span class="texttt">NETWORK_INTERFACE</span> <a 
 id="dx37-321014"></a><a 
 id="dx37-321015"></a>.) Daemons
may presently list at most two addresses, one IPv6 and one IPv4. Each address is the &#8220;most public&#8221; address of
its protocol; by default, the IPv6 address is listed first. HTCondor selects the &#8220;most public&#8221; address
heuristically.
<!--l. 36--><p class="indent" >   Nonetheless, there are two cases in which HTCondor may not use an IPv6 address when one is
available:
     <ul class="itemize1">
                                                                                         

                                                                                         
     <li class="itemize">When given a literal IP address, HTCondor will use that IP address.
     </li>
     <li class="itemize">When looking up a host name using DNS, HTCondor will use the first address whose protocol is
     enabled for the tool or daemon doing the look up. </li></ul>
<!--l. 44--><p class="indent" >   You may force HTCondor to prefer IPv4 in all three of these situations by setting the macro <span class="texttt">PREFER_IPV4</span> <a 
 id="dx37-321016"></a><a 
 id="dx37-321017"></a> to
true; this is the default. With <span class="texttt">PREFER_IPV4</span> <a 
 id="dx37-321018"></a><a 
 id="dx37-321019"></a> set, HTCondor daemons will list their &#8220;most public&#8221; IPv4 address first;
prefer the IPv4 address when choosing from another&#8217;s daemon list; and prefer the IPv4 address when looking up a
host name in DNS.
<!--l. 51--><p class="indent" >   In practice, both an HTCondor pool&#8217;s central manager and any submit machines within a mixed mode pool must
have both IPv4 and IPv6 addresses for both IPv4-only and IPv6-only <span class="textit">condor_startd</span> daemons to function
properly.
<!--l. 56--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3220003.9.6"></a>IPv6 and Host-Based Security</h5>
<!--l. 58--><p class="noindent" >You may freely intermix IPv6 and IPv4 address literals. You may also specify IPv6 netmasks as a legal IPv6 address
followed by a slash followed by the number of bits in the mask; or as the prefix of a legal IPv6 address followed by
two colons followed by an asterisk. The latter is entirely equivalent to the former, except that it only allows you to
(implicitly) specify mask bits in groups of sixteen. For example, <span class="texttt">fe8f:1234::/60</span> and <span class="texttt">fe8f:1234::*</span> specify the
same network mask.
<!--l. 66--><p class="indent" >   The HTCondor security subsystem resolves names in the ALLOW and DENY lists and uses all of the resulting
IP addresses. Thus, to allow or deny IPv6 addresses, the names must have IPv6 DNS entries (AAAA records), or
<span class="texttt">NO_DNS</span> must be enabled.
<!--l. 71--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3230003.9.6"></a>IPv6 Address Literals</h5>
<!--l. 73--><p class="noindent" >When you specify an IPv6 address and a port number simultaneously, you must separate the IPv6 address from the
port number by placing square brackets around the address. For instance:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-679">
<tspan font-family="ectt" font-size="1000">COLLECTOR_HOST</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;[2607:f388:1086:0:21e:68ff:fe0f:6462]:5332</tspan>
</div>
<!--l. 79--><p class="nopar" >
<!--l. 81--><p class="indent" >   If you do not (or may not) specify a port, do not use the square brackets. For instance:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-680">
<tspan font-family="ectt" font-size="1000">NETWORK_INTERFACE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;1234:5678::90ab</tspan>
</div>
<!--l. 86--><p class="nopar" >
<!--l. 88--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x37-3240003.9.6"></a>IPv6 without DNS</h5>
<!--l. 90--><p class="noindent" >When using the configuration variable <span class="texttt">NO_DNS</span> <a 
 id="dx37-324001"></a><a 
 id="dx37-324002"></a>, IPv6 addresses are turned into host names by taking the IPv6
address, changing colons to dashes, and appending <span class="texttt">$(DEFAULT_DOMAIN_NAME)</span>. So,
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-681">
<tspan font-family="ectt" font-size="1000">2607:f388:1086:0:21b:24ff:fedf:b520</tspan>
</div>
<!--l. 96--><p class="nopar" > becomes
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-682">
<tspan font-family="ectt" font-size="1000">2607-f388-1086-0-21b-24ff-fedf-b520.example.com</tspan>
</div>
<!--l. 100--><p class="nopar" > assuming
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-683">
<tspan font-family="ectt" font-size="1000">DEFAULT_DOMAIN_NAME=example.com</tspan>
</div>
<!--l. 104--><p class="nopar" >
<a 
 id="dx37-324003"></a>
                                                                                         

                                                                                         
<!--l. 2--><p class="indent" >   <span style="font-size: 200%;"><a 
href="Security.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Security.html#tailSecurity.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="NetworkingincludessectionsonPortUsageandCCB.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="AdministratorsManual.html#NetworkingincludessectionsonPortUsageandCCB.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="TheCheckpointServer.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailNetworkingincludessectionsonPortUsageandCCB.html"></a>  
</body></html> 
