<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>The HTCondor User and Job Log Reader API</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
   <span style="font-size: 200%;"><a 
href="Chirp.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Chirp.html#tailChirp.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailTheHTCondorUserandJobLogReaderAPI.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="ApplicationProgrammingInterfacesAPIs.html#TheHTCondorUserandJobLogReaderAPI.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="TheCommandLineInterface.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><span class="titlemark">7.3   </span> <a 
 id="x71-5550007.3"></a>The HTCondor User and Job Log Reader API</h3>
   <div class="sectionTOCS">
   &#x00A0;&#x00A0;<span class="subsectionToc" >7.3.1 <a 
href="#x71-5560007.3.1">Constants and Enumerated Types</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.3.2 <a 
href="#x71-5570007.3.2">Constructors and Destructors</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.3.3 <a 
href="#x71-5580007.3.3">Initializers</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.3.4 <a 
href="#x71-5590007.3.4">Primary Methods</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.3.5 <a 
href="#x71-5600007.3.5">Accessors</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.3.6 <a 
href="#x71-5610007.3.6">Methods for saving and restoring persistent reader state</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.3.7 <a 
href="#x71-5620007.3.7">Save state to persistent storage</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.3.8 <a 
href="#x71-5630007.3.8">Restore state from persistent storage</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.3.9 <a 
href="#x71-5640007.3.9">API Reference</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.3.10 <a 
href="#x71-5650007.3.10">Access to the persistent state data</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.3.11 <a 
href="#x71-5660007.3.11">Future persistence API</a></span>
   </div>
<a 
 id="dx71-555001"></a>
<a 
 id="dx71-555002"></a>
<a 
 id="dx71-555003"></a>
<a 
 id="dx71-555004"></a>
<a 
 id="dx71-555005"></a>
<!--l. 10--><p class="indent" >   HTCondor has the ability to log an HTCondor job&#8217;s significant events during its lifetime. This is enabled in the
job&#8217;s submit description file with the <span class="textbf">Log</span><a 
 id="dx71-555006"></a> command.
<!--l. 15--><p class="indent" >   This section describes the API defined by the C++ <span class="texttt">ReadUserLog</span> class, which provides a programming
interface for applications to read and parse events, polling for events, and saving and restoring reader
state.
                                                                                         

                                                                                         
<!--l. 21--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.3.1   </span> <a 
 id="x71-5560007.3.1"></a>Constants and Enumerated Types</h4>
<!--l. 23--><p class="noindent" >The following define enumerated types useful to the API.
     <ul class="itemize1">
     <li class="itemize"><span class="texttt">ULogEventOutcome</span> (defined in <span class="texttt">condor_event.h</span>):
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">ULOG_OK</span>: Event is valid
         </li>
         <li class="itemize"><span class="texttt">ULOG_NO_EVENT</span>: No event occurred (like EOF)
         </li>
         <li class="itemize"><span class="texttt">ULOG_RD_ERROR</span>: Error reading log file
         </li>
         <li class="itemize"><span class="texttt">ULOG_MISSED_EVENT</span>: Missed event
         </li>
         <li class="itemize"><span class="texttt">ULOG_UNK_ERROR</span>: Unknown Error</li></ul>
     </li>
     <li class="itemize"><span class="texttt">ReadUserLog::FileStatus</span>
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">LOG_STATUS_ERROR</span>: An error was encountered
         </li>
         <li class="itemize"><span class="texttt">LOG_STATUS_NOCHANGE</span>: No change in file size
         </li>
         <li class="itemize"><span class="texttt">LOG_STATUS_GROWN</span>: File has grown
         </li>
         <li class="itemize"><span class="texttt">LOG_STATUS_SHRUNK</span>: File has shrunk</li></ul>
     </li></ul>
<!--l. 47--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.3.2   </span> <a 
 id="x71-5570007.3.2"></a>Constructors and Destructors</h4>
<!--l. 49--><p class="noindent" >All <span class="texttt">ReadUserLog</span> constructors invoke one of the <span class="texttt">initialize()</span> methods. Since C++ constructors cannot return
errors, an application using any but the default constructor should call <span class="texttt">isIinitialized()</span> to verify that the object
initialized correctly, and for example, had permissions to open required files.
                                                                                         

                                                                                         
<!--l. 56--><p class="indent" >   Note that because the constructors cannot return status information, most of these constructors will be
eliminated in the future. All constructors, except for the default constructor with no parameters, will be removed.
The application will need to call the appropriate <span class="texttt">initialize()</span> method.
     <ul class="itemize1">
     <li class="itemize"> ReadUserLog::ReadUserLog(bool isEventLog) <br 
class="newline" /><span class="textbf">Synopsis:</span> Constructor default <br 
class="newline" /><span class="textbf">Returns:</span> None <br 
class="newline" /><span class="textbf">Constructor</span> parameters:
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">bool</span> <span class="texttt">isEventLog</span> (<span class="textit">Optional with default</span> = <span class="texttt">false</span>) <br 
class="newline" />If <span class="texttt">true</span>, the <span class="texttt">ReadUserLog</span> object is initialized to read the schedd-wide event log. <br 
class="newline" /><span class="underline">NOTE</span>:   If   <span class="texttt">isEventLog</span>  is   <span class="texttt">true</span>,   the   initialization   may   silently   fail,   so   the   value   of
         ReadUserLog::isInitialized should be checked to verify that the initialization was successful.
         <br 
class="newline" /><span class="underline">NOTE</span>: The <span class="texttt">isEventLog</span> parameter will be removed in the future.</li></ul>
     </li>
     <li class="itemize"> ReadUserLog::ReadUserLog(FILE *fp, bool is_xml, bool enable_close) <br 
class="newline" /><span class="textbf">Synopsis:</span> Constructor of a limited functionality reader: no rotation handling, no locking <br 
class="newline" /><span class="textbf">Returns:</span> None <br 
class="newline" /><span class="textbf">Constructor</span> parameters:
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">FILE *</span> <span class="texttt">fp</span> <br 
class="newline" />File pointer to the previously opened log file to read.
         </li>
         <li class="itemize"><span class="texttt">bool</span> <span class="texttt">is_xml</span> <br 
class="newline" />If <span class="texttt">true</span>, the file is treated as XML; otherwise, it will be read as an old style file.
         </li>
         <li class="itemize"><span class="texttt">bool</span> <span class="texttt">enable_close</span> (<span class="textit">Optional with default</span> = <span class="texttt">false</span>) <br 
class="newline" />If <span class="texttt">true</span>, the reader will open the file read-only.</li></ul>
     <!--l. 91--><p class="noindent" ><span class="underline">NOTE</span>: The ReadUserLog::isInitialized method should be invoked to verify that this constructor was
     initialized successfully. <br 
class="newline" /><span class="underline">NOTE</span>: This constructor will be removed in the future.
     </li>
     <li class="itemize"> ReadUserLog::ReadUserLog(const char *filename, bool read_only) <br 
class="newline" /><span class="textbf">Synopsis:</span> Constructor to read a specific log file <br 
class="newline" /><span class="textbf">Returns:</span> None <br 
class="newline" /><span class="textbf">Constructor</span> parameters:
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">const char *</span> <span class="texttt">filename</span> <br 
class="newline" />Path to the log file to read
                                                                                         

                                                                                         
         </li>
         <li class="itemize"><span class="texttt">bool</span> <span class="texttt">read_only</span> (<span class="textit">Optional with default</span> = <span class="texttt">false</span>) <br 
class="newline" />If <span class="texttt">true</span>, the reader will open the file read-only and disable locking.</li></ul>
     <!--l. 107--><p class="noindent" ><span class="underline">NOTE</span>: This constructor will be removed in the future.
     </li>
     <li class="itemize"> ReadUserLog::ReadUserLog(const FileState &amp;state, bool read_only) <br 
class="newline" /><span class="textbf">Synopsis:</span> Constructor to continue from a persisted reader state <br 
class="newline" /><span class="textbf">Returns:</span> None <br 
class="newline" /><span class="textbf">Constructor</span> parameters:
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">const FileState &amp;</span> <span class="texttt">state</span> <br 
class="newline" />Reference to the persisted state to restore from
         </li>
         <li class="itemize"><span class="texttt">bool</span> <span class="texttt">read_only</span> (<span class="textit">Optional with default</span> = <span class="texttt">false</span>) <br 
class="newline" />If <span class="texttt">true</span>, the reader will open the file read-only and disable locking.</li></ul>
     <!--l. 120--><p class="noindent" ><span class="underline">NOTE</span>: The ReadUserLog::isInitialized method should be invoked to verify that this constructor was
     initialized successfully. <br 
class="newline" /><span class="underline">NOTE</span>: This constructor will be removed in the future.
     </li>
     <li class="itemize"> ReadUserLog::&#x02DC;ReadUserLog(void) <br 
class="newline" /><span class="textbf">Synopsis:</span> Destructor <br 
class="newline" /><span class="textbf">Returns:</span> None <br 
class="newline" /><span class="textbf">Destructor</span> parameters:
         <ul class="itemize2">
         <li class="itemize">None.</li></ul>
     </li></ul>
<!--l. 131--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.3.3   </span> <a 
 id="x71-5580007.3.3"></a>Initializers</h4>
<!--l. 133--><p class="noindent" >These methods are used to perform the initialization of the <span class="texttt">ReadUserLog</span> objects. These initializers are used by all
constructors that do real work. Applications should never use those constructors, should use the default constructor,
and should instead use one of these initializer methods.
<!--l. 140--><p class="indent" >   All of these functions will return <span class="texttt">false</span> if there are problems such as being unable to open the log file, or <span class="texttt">true</span> if
successful.
                                                                                         

                                                                                         
     <ul class="itemize1">
     <li class="itemize"><span class="texttt">bool</span> ReadUserLog::initialize(void) <br 
class="newline" /><span class="textbf">Synopsis:</span> Initialize to read the EventLog file. <br 
class="newline" /><span class="underline">NOTE</span>: This method will likely be eliminated in the future, and this functionality will be moved to a new
     <span class="texttt">ReadEventLog</span> class. <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span>: success, <span class="texttt">false</span>: failed <br 
class="newline" /><span class="textbf">Method</span> parameters:
         <ul class="itemize2">
         <li class="itemize">None.</li></ul>
     </li>
     <li class="itemize"><span class="texttt">bool</span> ReadUserLog::initialize(const char *filename, bool handle_rotation, bool check_for_rotated,
     bool read_only) <br 
class="newline" /><span class="textbf">Synopsis:</span> Initialize to read a specific log file. <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span>: success, <span class="texttt">false</span>: failed <br 
class="newline" /><span class="textbf">Method</span> parameters:
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">const char *</span> <span class="texttt">filename</span> <br 
class="newline" />Path to the log file to read
         </li>
         <li class="itemize"><span class="texttt">bool</span> <span class="texttt">handle_rotation</span> (<span class="textit">Optional with default</span> = <span class="texttt">false</span>) <br 
class="newline" />If <span class="texttt">true</span>, enable the reader to handle rotating log files, which is only useful for global user logs
         </li>
         <li class="itemize"><span class="texttt">bool</span> <span class="texttt">check_for_rotated</span> (<span class="textit">Optional with default</span> = <span class="texttt">false</span>) <br 
class="newline" />If <span class="texttt">true</span>, try to open the rotated files (with file names appended with <span class="texttt">.old</span> or <span class="texttt">.1</span>, <span class="texttt">.2</span>, &#x2026;) first.
         </li>
         <li class="itemize"><span class="texttt">bool</span> <span class="texttt">read_only</span> (<span class="textit">Optional with default</span> = <span class="texttt">false</span>) <br 
class="newline" />If <span class="texttt">true</span>, the reader will open the file read-only and disable locking.</li></ul>
     </li>
     <li class="itemize"><span class="texttt">bool</span> ReadUserLog::initialize(const char *filename, int max_rotation, bool check_for_rotated,
     bool read_only) <br 
class="newline" /><span class="textbf">Synopsis:</span> Initialize to read a specific log file. <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span>: success, <span class="texttt">false</span>: failed <br 
class="newline" /><span class="textbf">Method</span> parameters:
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">const char *</span> <span class="texttt">filename</span> <br 
class="newline" />Path to the log file to read
         </li>
         <li class="itemize"><span class="texttt">int</span> <span class="texttt">max_rotation</span> <br 
class="newline" />Limits what previously rotated files will be considered by the number given in the file name suffix.
         A value of 0 disables looking for rotated files. A value of 1 limits the rotated file to be that with
         the file name suffix of <span class="texttt">.old</span>. As only event logs are rotated, this parameter is only useful for event
         logs.
                                                                                         

                                                                                         
         </li>
         <li class="itemize"><span class="texttt">bool</span> <span class="texttt">check_for_rotated</span> (<span class="textit">Optional with default</span> = <span class="texttt">false</span>) <br 
class="newline" />If <span class="texttt">true</span>, try to open the rotated files (with file names appended with <span class="texttt">.old</span> or <span class="texttt">.1</span>, <span class="texttt">.2</span>, &#x2026;) first.
         </li>
         <li class="itemize"><span class="texttt">bool</span> <span class="texttt">read_only</span> (<span class="textit">Optional with default</span> = <span class="texttt">false</span>) <br 
class="newline" />If <span class="texttt">true</span>, the reader will open the file read-only and disable locking.</li></ul>
     </li>
     <li class="itemize"><span class="texttt">bool</span> ReadUserLog::initialize(const FileState &amp;state, bool read_only) <br 
class="newline" /><span class="textbf">Synopsis:</span> Initialize to continue from a persisted reader state. <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span>: success, <span class="texttt">false</span>: failed <br 
class="newline" /><span class="textbf">Method</span> parameters:
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">const FileState &amp;</span> <span class="texttt">state</span> <br 
class="newline" />Reference to the persisted state to restore from
         </li>
         <li class="itemize"><span class="texttt">bool</span> <span class="texttt">read_only</span> (<span class="textit">Optional with default</span> = <span class="texttt">false</span>) <br 
class="newline" />If <span class="texttt">true</span>, the reader will open the file read-only and disable locking.</li></ul>
     </li>
     <li class="itemize"><span class="texttt">bool</span> ReadUserLog::initialize(const FileState &amp;state, int max_rotation, bool read_only)
     <br 
class="newline" /><span class="textbf">Synopsis:</span> Initialize to continue from a persisted reader state and set the rotation parameters.
     <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span>: success, <span class="texttt">false</span>: failed <br 
class="newline" /><span class="textbf">Method</span> parameters:
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">const FileState &amp;</span> <span class="texttt">state</span> <br 
class="newline" />Reference to the persisted state to restore from
         </li>
         <li class="itemize"><span class="texttt">int</span> <span class="texttt">max_rotation</span> <br 
class="newline" />Limits what previously rotated files will be considered by the number given in the file name suffix.
         A value of 0 disables looking for rotated files. A value of 1 limits the rotated file to be that with
         the file name suffix of <span class="texttt">.old</span>. As only event logs are rotated, this parameter is only useful for event
         logs.
         </li>
         <li class="itemize"><span class="texttt">bool</span> <span class="texttt">read_only</span> (<span class="textit">Optional with default</span> = <span class="texttt">false</span>) <br 
class="newline" />If <span class="texttt">true</span>, the reader will open the file read-only and disable locking.</li></ul>
     </li></ul>
                                                                                         

                                                                                         
<!--l. 235--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.3.4   </span> <a 
 id="x71-5590007.3.4"></a>Primary Methods</h4>
     <ul class="itemize1">
     <li class="itemize"><span class="texttt">ULogEventOutcome</span> ReadUserLog::readEvent(ULogEvent *&amp; event) <br 
class="newline" /><span class="textbf">Synopsis:</span> Read the next event from the log file. <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">ULogEventOutcome</span>; Outcome of the log read attempt. <span class="texttt">ULogEventOutcome</span> is an enumerated type.
     <br 
class="newline" /><span class="textbf">Method</span> parameters:
         <ul class="itemize2">
         <li class="itemize"><span class="texttt"><span class="texttt">ULogEvent</span> *&amp;</span> <span class="texttt">event</span> <br 
class="newline" />Pointer to an <span class="texttt">ULogEvent</span> that is allocated by this call to ReadUserLog::readEvent. If no event
         is allocated, this pointer is set to <span class="texttt">NULL</span>. Otherwise the event needs to be delete()ed by the
         application.</li></ul>
     </li>
     <li class="itemize"><span class="texttt">bool</span> ReadUserLog::synchronize(void) <br 
class="newline" /><span class="textbf">Synopsis:</span> Synchronize the log file if the last event read was an error. This safe guard function should be
     called if there is some error reading an event, but there are events after it in the file. It will skip over the bad
     event, meaning it will read up to and including the event separator, so that the rest of the events can be read.
     <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span>: success, <span class="texttt">false</span>: failed <br 
class="newline" /><span class="textbf">Method</span> parameters:
         <ul class="itemize2">
         <li class="itemize">None.</li></ul>
     </li></ul>
<!--l. 267--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.3.5   </span> <a 
 id="x71-5600007.3.5"></a>Accessors</h4>
     <ul class="itemize1">
     <li class="itemize"><span class="texttt">ReadUserLog::FileStatus</span> ReadUserLog::CheckFileStatus(void) <br 
class="newline" /><span class="textbf">Synopsis:</span> Check the status of the file, and whether it has grown, shrunk, etc. <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">ReadUserLog::FileStatus</span>; the status of the log file, an enumerated type. <br 
class="newline" /><span class="textbf">Method</span> parameters:
         <ul class="itemize2">
         <li class="itemize">None.</li></ul>
                                                                                         

                                                                                         
     </li>
     <li class="itemize"><span class="texttt">ReadUserLog::FileStatus</span> ReadUserLog::CheckFileStatus(bool &amp;is_empty) <br 
class="newline" /><span class="textbf">Synopsis:</span> Check the status of the file, and whether it has grown, shrunk, etc. <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">ReadUserLog::FileStatus</span>; the status of the log file, an enumerated type. <br 
class="newline" /><span class="textbf">Method</span> parameters:
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">bool &amp;</span> <span class="texttt">is_empty</span> <br 
class="newline" />Set to <span class="texttt">true</span> if the file is empty, <span class="texttt">false</span> otherwise.</li></ul>
     </li></ul>
<!--l. 291--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.3.6   </span> <a 
 id="x71-5610007.3.6"></a>Methods for saving and restoring persistent reader state</h4>
<!--l. 293--><p class="noindent" >The <span class="texttt">ReadUserLog::FileState</span> structure is used to save and restore the state of the <span class="texttt">ReadUserLog</span> state for
persistence. The application should always use InitFileState() to initialize this structure.
<!--l. 298--><p class="indent" >   All of these methods take a reference to a state buffer as their only parameter.
<!--l. 301--><p class="indent" >   All of these methods return <span class="texttt">true</span> upon success.
<!--l. 304--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.3.7   </span> <a 
 id="x71-5620007.3.7"></a>Save state to persistent storage</h4>
<!--l. 305--><p class="noindent" >To save the state, do something like this:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-956">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;ReadUserLog</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;reader;</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;ReadUserLog::FileState</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf;</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;status</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;ReadUserLog::InitFileState(</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;);</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;status</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;reader.GetFileState(</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;);</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;write(</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;fd,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf.buf,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf.size</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;);</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;...</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;status</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;reader.GetFileState(</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;);</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;write(</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;fd,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf.buf,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf.size</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;);</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;...</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;status</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;UninitFileState(</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;);</tspan>
</div>
<!--l. 321--><p class="nopar" >
<!--l. 325--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.3.8   </span> <a 
 id="x71-5630007.3.8"></a>Restore state from persistent storage</h4>
<!--l. 326--><p class="noindent" >To restore the state, do something like this:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-957">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;ReadUserLog::FileState</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf;</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;status</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;ReadUserLog::InitFileState(</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;);</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;read(</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;fd,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf.buf,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf.size</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;);</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;ReadUserLog</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;reader;</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;status</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;reader.initialize(</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;);</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;status</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;UninitFileState(</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;statebuf</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;);</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;....</tspan>
</div>
<!--l. 339--><p class="nopar" >
<!--l. 343--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.3.9   </span> <a 
 id="x71-5640007.3.9"></a>API Reference</h4>
     <ul class="itemize1">
     <li class="itemize">static <span class="texttt">bool</span> ReadUserLog::InitFileState(ReadUserLog::FileState &amp;state) <br 
class="newline" /><span class="textbf">Synopsis:</span> Initialize a file state buffer <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">ReadUserLog::FileState &amp;</span> <span class="texttt">state</span> <br 
class="newline" />The file state buffer to initialize.</li></ul>
     </li>
     <li class="itemize">static <span class="texttt">bool</span> ReadUserLog::UninitFileState(ReadUserLog::FileState &amp;state) <br 
class="newline" /><span class="textbf">Synopsis:</span> Clean up a file state buffer and free allocated memory <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">ReadUserLog::FileState &amp;</span> <span class="texttt">state</span> <br 
class="newline" />The file state buffer to un-initialize.</li></ul>
     </li>
     <li class="itemize"><span class="texttt">bool</span> ReadUserLog::GetFileState(ReadUserLog::FileState &amp;state) <span class="texttt">const</span> <br 
class="newline" /><span class="textbf">Synopsis:</span> Get the current state to persist it or save it off to disk <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
                                                                                         

                                                                                         
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">ReadUserLog::FileState &amp;</span> <span class="texttt">state</span> <br 
class="newline" />The file state buffer to read the state into.</li></ul>
     </li>
     <li class="itemize"><span class="texttt">bool</span> ReadUserLog::SetFileState(const ReadUserLog::FileState &amp;state) <br 
class="newline" /><span class="textbf">Synopsis:</span> Use this method to set the current state, after restoring it. <br 
class="newline" /><span class="underline">NOTE</span>: The state buffer is <span class="emph">NOT</span> automatically updated; a call <span class="emph">MUST</span> be made to the GetFileState()
     method each time before persisting the buffer to disk, or however else is chosen to persist its contents.
     <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">const ReadUserLog::FileState &amp;</span> <span class="texttt">state</span> <br 
class="newline" />The file state buffer to restore from.</li></ul>
     </li></ul>
<!--l. 389--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.3.10   </span> <a 
 id="x71-5650007.3.10"></a>Access to the persistent state data</h4>
<!--l. 391--><p class="noindent" >If the application needs access to the data elements in a persistent state, it should instantiate a
<span class="texttt">ReadUserLogStateAccess</span> object.
     <ul class="itemize1">
     <li class="itemize">Constructors / Destructors
         <ul class="itemize2">
         <li class="itemize"> ReadUserLogStateAccess::ReadUserLogStateAccess(const ReadUserLog::FileState &amp;state)
         <br 
class="newline" /><span class="textbf">Synopsis:</span> Constructor default <br 
class="newline" /><span class="textbf">Returns:</span> None <br 
class="newline" /><span class="textbf">Constructor</span> parameters:
             <ul class="itemize3">
             <li class="itemize"><span class="texttt">const ReadUserLog::FileState &amp;</span> <span class="texttt">state</span> <br 
class="newline" />Reference to the persistent state data to initialize from.</li></ul>
         </li>
         <li class="itemize"> ReadUserLogStateAccess::&#x02DC;ReadUserLogStateAccess(void) <br 
class="newline" /><span class="textbf">Synopsis:</span> Destructor <br 
class="newline" /><span class="textbf">Returns:</span> None <br 
class="newline" /><span class="textbf">Destructor</span> parameters:
                                                                                         

                                                                                         
             <ul class="itemize3">
             <li class="itemize">None.</li></ul>
         </li></ul>
     </li>
     <li class="itemize">Accessor Methods
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">bool</span> ReadUserLogFileState::isInitialized(void) <span class="texttt">const</span> <br 
class="newline" /><span class="textbf">Synopsis:</span> Checks if the buffer initialized <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span> if successfully initialized, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
             <ul class="itemize3">
             <li class="itemize">None.</li></ul>
         </li>
         <li class="itemize"><span class="texttt">bool</span> ReadUserLogFileState::isValid(void) <span class="texttt">const</span> <br 
class="newline" /><span class="textbf">Synopsis:</span> Checks if the buffer is valid for use by ReadUserLog::initialize() <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
             <ul class="itemize3">
             <li class="itemize">None.</li></ul>
         </li>
         <li class="itemize"><span class="texttt">bool</span> ReadUserLogFileState::getFileOffset(unsigned long &amp;pos) <span class="texttt">const</span> <br 
class="newline" /><span class="textbf">Synopsis:</span> Get position within individual file. <br 
class="newline" /><span class="underline">NOTE</span>: Can return an error if the result is too large to be stored in a <span class="texttt">long</span>. <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
             <ul class="itemize3">
             <li class="itemize"><span class="texttt">unsigned long &amp;</span> <span class="texttt">pos</span> <br 
class="newline" />Byte position within the current log file</li></ul>
         </li>
         <li class="itemize"><span class="texttt">bool</span> ReadUserLogFileState::getFileEventNum(unsigned long &amp;num) <span class="texttt">const</span> <br 
class="newline" /><span class="textbf">Synopsis:</span> Get event number in individual file. <br 
class="newline" /><span class="underline">NOTE</span>: Can return an error if the result is too large to be stored in a <span class="texttt">long</span>. <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
             <ul class="itemize3">
             <li class="itemize"><span class="texttt">unsigned long &amp;</span> <span class="texttt">num</span> <br 
class="newline" />Event number of the current event in the current log file</li></ul>
         </li>
         <li class="itemize"><span class="texttt">bool</span> ReadUserLogFileState::getLogPosition(unsigned long &amp;pos) <span class="texttt">const</span> <br 
class="newline" /><span class="textbf">Synopsis:</span> Position of the start of the current file in overall log. <br 
class="newline" /><span class="underline">NOTE</span>: Can return an error if the result is too large to be stored in a <span class="texttt">long</span>. <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
                                                                                         

                                                                                         
             <ul class="itemize3">
             <li class="itemize"><span class="texttt">unsigned long &amp;</span> <span class="texttt">pos</span> <br 
class="newline" />Byte offset of the start of the current file in the overall logical log stream.</li></ul>
         </li>
         <li class="itemize">bool ReadUserLogFileState::getEventNumber(unsigned long &amp;num) <span class="texttt">const</span> <br 
class="newline" /><span class="textbf">Synopsis:</span> Get the event number of the first event in the current file <br 
class="newline" /><span class="underline">NOTE</span>: Can return an error if the result is too large to be stored in a <span class="texttt">long</span>. <br 
class="newline" /><span class="textbf">Returns:</span> bool; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
             <ul class="itemize3">
             <li class="itemize"><span class="texttt">unsigned long &amp;</span> <span class="texttt">num</span> <br 
class="newline" />This is the absolute event number of the first event in the current file in the overall logical
             log stream.</li></ul>
         </li>
         <li class="itemize">bool ReadUserLogFileState::getUniqId(char *buf, int size) <span class="texttt">const</span> <br 
class="newline" /><span class="textbf">Synopsis:</span> Get the unique ID of the associated state file. <br 
class="newline" /><span class="textbf">Returns:</span> bool; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
             <ul class="itemize3">
             <li class="itemize"><span class="texttt">char *</span><span class="texttt">buf</span> <br 
class="newline" />Buffer to fill with the unique ID of the current file.
             </li>
             <li class="itemize"><span class="texttt">int</span> <span class="texttt">size</span> <br 
class="newline" />Size in bytes of <span class="texttt">buf</span>. <br 
class="newline" />This is to prevent ReadUserLogFileState::getUniqId from writing past the end of <span class="texttt">buf</span>.</li></ul>
         </li>
         <li class="itemize"><span class="texttt">bool</span> ReadUserLogFileState::getSequenceNumber(int &amp;seqno) <span class="texttt">const</span> <br 
class="newline" /><span class="textbf">Synopsis:</span> Get the sequence number of the associated state file. <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
             <ul class="itemize3">
             <li class="itemize"><span class="texttt">int &amp;</span> <span class="texttt">seqno</span> <br 
class="newline" />Sequence number of the current file</li></ul>
         </li></ul>
     </li>
     <li class="itemize">Comparison Methods
         <ul class="itemize2">
         <li class="itemize"><span class="texttt">bool</span> ReadUserLogFileState::getFileOffsetDiff(const ReadUserLogStateAccess &amp;other,
         unsigned long &amp;pos) <span class="texttt">const</span> <br 
class="newline" /><span class="textbf">Synopsis:</span> Get the position difference of two states given by <span class="texttt">this</span> and <span class="texttt">other</span>. <br 
class="newline" /><span class="underline">NOTE</span>: Can return an error if the result is too large to be stored in a <span class="texttt">long</span>. <br 
class="newline" /><span class="textbf">Returns:</span> <span class="texttt">bool</span>; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
                                                                                         

                                                                                         
             <ul class="itemize3">
             <li class="itemize"><span class="texttt">const ReadUserLogStateAccess &amp;</span> <span class="texttt">other</span> <br 
class="newline" />Reference to the state to compare to.
             </li>
             <li class="itemize"><span class="texttt">long &amp;</span> <span class="texttt">diff</span> <br 
class="newline" />Difference in the positions</li></ul>
         </li>
         <li class="itemize">bool ReadUserLogFileState::getFileEventNumDiff(const ReadUserLogStateAccess &amp;other, long
         &amp;diff) <span class="texttt">const</span> <br 
class="newline" /><span class="textbf">Synopsis:</span> Get event number in individual file. <br 
class="newline" /><span class="underline">NOTE</span>: Can return an error if the result is too large to be stored in a <span class="texttt">long</span>. <br 
class="newline" /><span class="textbf">Returns:</span> bool; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
             <ul class="itemize3">
             <li class="itemize"><span class="texttt">const ReadUserLogStateAccess &amp;</span> <span class="texttt">other</span> <br 
class="newline" />Reference to the state to compare to.
             </li>
             <li class="itemize"><span class="texttt">long &amp;</span> <span class="texttt">diff</span> <br 
class="newline" />Event number of the current event in the current log file</li></ul>
         </li>
         <li class="itemize">bool ReadUserLogFileState::getLogPosition(const ReadUserLogStateAccess &amp;other, long
         &amp;diff) <span class="texttt">const</span> <br 
class="newline" /><span class="textbf">Synopsis:</span> Get the position difference of two states given by <span class="texttt">this</span> and <span class="texttt">other</span>. <br 
class="newline" /><span class="underline">NOTE</span>: Can return an error if the result is too large to be stored in a <span class="texttt">long</span>. <br 
class="newline" /><span class="textbf">Returns:</span> bool; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
             <ul class="itemize3">
             <li class="itemize"><span class="texttt">const ReadUserLogStateAccess &amp;</span> <span class="texttt">other</span> <br 
class="newline" />Reference to the state to compare to.
             </li>
             <li class="itemize"><span class="texttt">long &amp;</span> <span class="texttt">diff</span> <br 
class="newline" />Difference between the byte offset of the start of the current file in the overall logical log
             stream and that of <span class="texttt">other</span>.</li></ul>
         </li>
         <li class="itemize">bool ReadUserLogFileState::getEventNumber(const ReadUserLogStateAccess &amp;other, long
         &amp;diff) <span class="texttt">const</span> <br 
class="newline" /><span class="textbf">Synopsis:</span> Get the difference between the event number of the first event in two state buffers (this -
         other). <br 
class="newline" /><span class="underline">NOTE</span>: Can return an error if the result is too large to be stored in a <span class="texttt">long</span>. <br 
class="newline" /><span class="textbf">Returns:</span> bool; <span class="texttt">true</span> if successful, <span class="texttt">false</span> otherwise <br 
class="newline" /><span class="textbf">Method</span> parameters:
             <ul class="itemize3">
             <li class="itemize"><span class="texttt">const ReadUserLogStateAccess &amp;</span> <span class="texttt">other</span> <br 
class="newline" />Reference to the state to compare to.
                                                                                         

                                                                                         
             </li>
             <li class="itemize"><span class="texttt">long &amp;</span> <span class="texttt">diff</span> <br 
class="newline" />Difference between the absolute event number of the first event in the current file in the
             overall logical log stream and that of <span class="texttt">other</span>.</li></ul>
         </li></ul>
     </li></ul>
<!--l. 562--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.3.11   </span> <a 
 id="x71-5660007.3.11"></a>Future persistence API</h4>
<!--l. 563--><p class="noindent" >The <span class="texttt">ReadUserLog::FileState</span> will likely be replaced with a new C++ <span class="texttt">ReadUserLog::NewFileState</span>, or a similarly
named class that will self initialize.
<!--l. 567--><p class="indent" >   Additionally, the functionality of <span class="texttt">ReadUserLogStateAccess</span> will be integrated into this class.
                                                                                         

                                                                                         
<!--l. 2--><p class="indent" >   <span style="font-size: 200%;"><a 
href="Chirp.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Chirp.html#tailChirp.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="TheHTCondorUserandJobLogReaderAPI.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="ApplicationProgrammingInterfacesAPIs.html#TheHTCondorUserandJobLogReaderAPI.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="TheCommandLineInterface.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailTheHTCondorUserandJobLogReaderAPI.html"></a>  
</body></html> 
