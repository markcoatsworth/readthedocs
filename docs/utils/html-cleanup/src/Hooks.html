<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Hooks</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
   <span style="font-size: 200%;"><a 
href="ComputingOnDemandCOD.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="ComputingOnDemandCOD.html#tailComputingOnDemandCOD.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailHooks.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="MiscellaneousConcepts.html#Hooks.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="LogginginHTCondor.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><span class="titlemark">4.4   </span> <a 
 id="x51-4370004.4"></a>Hooks</h3>
   <div class="sectionTOCS">
   &#x00A0;&#x00A0;<span class="subsectionToc" >4.4.1 <a 
href="#x51-4380004.4.1">Job Hooks That Fetch Work</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x51-4390004.4.1" id="QQ2-51-462"> Work Fetching Hooks Invoked by HTCondor</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x51-4400004.4.1" id="QQ2-51-463"> Keywords to Define Job Fetch Hooks in the HTCondor Configuration files </a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x51-4410004.4.1" id="QQ2-51-464"> Defining the FetchWorkDelay Expression</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x51-4420004.4.1" id="QQ2-51-465"> Example Hook: Specifying the Executable at Execution Time</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.4.2 <a 
href="#x51-4430004.4.2"> Hooks for a Job Router</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" ><a 
href="#x51-4440004.4.2" id="QQ2-51-467"> Hooks Invoked for Job Routing</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.4.3 <a 
href="#x51-4450004.4.3"> Daemon ClassAd Hooks</a></span>
   </div>
<a 
 id="dx51-437001"></a>
<!--l. 5--><p class="indent" >   A <span class="emph">hook</span> is an external program or script invoked by HTCondor.
<!--l. 7--><p class="indent" >   Job hooks that fetch work allow sites to write their own programs or scripts, and allow HTCondor to invoke
these hooks at the right moments to accomplish the desired outcome. This eliminates the expense of the
matchmaking and scheduling provided by the <span class="textit">condor_schedd</span> and the <span class="textit">condor_negotiator</span>, although at the price of
the flexibility they offer. Therefore, job hooks that fetch work allow HTCondor to more easily and directly interface
with external scheduling systems.
<!--l. 16--><p class="indent" >   Hooks may also behave as a Job Router.
<!--l. 18--><p class="indent" >   The Daemon ClassAd hooks permit the <span class="textit">condor_startd</span> and the <span class="textit">condor_schedd</span> daemons to execute hooks once
or on a periodic basis.
<!--l. 21--><p class="indent" >   Note that standard universe jobs execute different <span class="textit">condor_starter</span> and <span class="textit">condor_shadow</span> daemons that do not
implement any hook mechanisms.
<!--l. 2--><p class="noindent" >
                                                                                         

                                                                                         
   <h4 class="subsectionHead"><span class="titlemark">4.4.1   </span> <a 
 id="x51-4380004.4.1"></a>Job Hooks That Fetch Work</h4>
<a 
 id="dx51-438001"></a>
<a 
 id="dx51-438002"></a>
<!--l. 7--><p class="noindent" >In the past, HTCondor has always sent work to the execute machines by pushing jobs to the <span class="textit">condor_startd</span> daemon,
either from the <span class="textit">condor_schedd</span> daemon or via <span class="textit">condor_cod</span>. Beginning with the HTCondor version 7.1.0, the
<span class="textit">condor_startd</span> daemon now has the ability to pull work by fetching jobs via a system of plug-ins or hooks. Any site
can configure a set of hooks to fetch work, completely outside of the usual HTCondor matchmaking
system.
<!--l. 16--><p class="indent" >   A projected use of the hook mechanism implements what might be termed a <span class="emph">glide-in factory</span>, especially where
the factory is behind a firewall. Without using the hook mechanism to fetch work, a glide-in <span class="textit">condor_startd</span> daemon
behind a firewall depends on CCB to help it listen and eventually receive work pushed from elsewhere. With the
hook mechanism, a glide-in <span class="textit">condor_startd</span> daemon behind a firewall uses the hook to pull work. The hook needs
only an outbound network connection to complete its task, thereby being able to operate from behind the firewall,
without the intervention of CCB.
<!--l. 30--><p class="indent" >   Periodically, each execution slot managed by a <span class="textit">condor_startd</span> will invoke a hook to see if there is any work that
can be fetched. Whenever this hook returns a valid job, the <span class="textit">condor_startd</span> will evaluate the current state of the slot
and decide if it should start executing the fetched work. If the slot is unclaimed and the <span class="texttt">Start</span> expression evaluates
to <span class="texttt">True</span>, a new claim will be created for the fetched job. If the slot is claimed, the <span class="textit">condor_startd</span> will evaluate the
<span class="texttt">Rank</span> expression relative to the fetched job, compare it to the value of <span class="texttt">Rank</span> for the currently running job, and decide
if the existing job should be preempted due to the fetched job having a higher rank. If the slot is
unavailable for whatever reason, the <span class="textit">condor_startd</span> will refuse the fetched job and ignore it. Either way,
once the <span class="textit">condor_startd</span> decides what it should do with the fetched job, it will invoke another hook to
reply to the attempt to fetch work, so that the external system knows what happened to that work
unit.
<!--l. 49--><p class="indent" >   If the job is accepted, a claim is created for it and the slot moves into the Claimed state. As soon as this
happens, the <span class="textit">condor_startd</span> will spawn a <span class="textit">condor_starter</span> to manage the execution of the job. At this
point, from the perspective of the <span class="textit">condor_startd</span>, this claim is just like any other. The usual policy
expressions are evaluated, and if the job needs to be suspended or evicted, it will be. If a higher-ranked
job being managed by a <span class="textit">condor_schedd</span> is matched with the slot, that job will preempt the fetched
work.
<!--l. 60--><p class="indent" >   The <span class="textit">condor_starter</span> itself can optionally invoke additional hooks to help manage the execution of the specific
job. There are hooks to prepare the execution environment for the job, periodically update information
about the job as it runs, notify when the job exits, and to take special actions when the job is being
evicted.
<!--l. 66--><p class="indent" >   Assuming there are no interruptions, the job completes, and the <span class="textit">condor_starter</span> exits, the <span class="textit">condor_startd</span> will
invoke the hook to fetch work again. If another job is available, the existing claim will be reused and a new
<span class="textit">condor_starter</span> is spawned. If the hook returns that there is no more work to perform, the claim will be evicted, and
the slot will return to the Owner state.
                                                                                         

                                                                                         
<!--l. 77--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x51-4390004.4.1"></a> Work Fetching Hooks Invoked by HTCondor</h5>
<a 
 id="dx51-439001"></a>
<!--l. 81--><p class="noindent" >There are a handful of hooks invoked by HTCondor related to fetching work, some of which are called by the
<span class="textit">condor_startd</span> and others by the <span class="textit">condor_starter</span>. Each hook is described, including when it is invoked, what task it
is supposed to accomplish, what data is passed to the hook, what output is expected, and, when relevant, the exit
status expected.
<a 
 id="dx51-439002"></a>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 93--><p class="noindent" >The hook defined by the configuration variable <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_FETCH_WORK</span> <a 
 id="dx51-439003"></a><a 
 id="dx51-439004"></a> is invoked whenever the
     <span class="textit">condor_startd</span> wants to see if there is any work to fetch. There is a related configuration variable called
     <span class="texttt">FetchWorkDelay</span> <a 
 id="dx51-439005"></a><a 
 id="dx51-439006"></a> which determines how long the <span class="textit">condor_startd</span> will wait between attempts to fetch
     work, which is described in detail in within section&#x00A0;<a 
href="#x51-4410004.4.1">4.4.1<!--tex4ht:ref: sec:job-hooks-fetch-work-delay --></a> on page&#x00A0;<a 
href="#x51-4410004.4.1">1371<!--tex4ht:ref: sec:job-hooks-fetch-work-delay --></a>. <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_FETCH_WORK</span>
     is the most important hook in the whole system, and is the only hook that must be defined for any of
     the other <span class="textit">condor_startd</span> hooks to operate.
     <!--l. 105--><p class="noindent" >The job ClassAd returned by the hook needs to contain enough information for the <span class="textit">condor_starter</span> to
     eventually spawn the work. The required and optional attributes in this ClassAd are identical to the
     ones described for Computing on Demand (COD) jobs in section&#x00A0;<a 
href="ComputingOnDemandCOD.html#x50-4240004.3.3">4.3.3<!--tex4ht:ref: sec:cod-application-attributes --></a> on COD Application Attributes,
     page&#x00A0;<a 
href="ComputingOnDemandCOD.html#x50-4240004.3.3">1336<!--tex4ht:ref: sec:cod-application-attributes --></a>.
         <dl class="description"><dt class="description">
     Command-line arguments passed to the hook </dt><dd 
class="description">None.
         </dd><dt class="description">
     Standard input given to the hook </dt><dd 
class="description">ClassAd of the slot that is looking for work.
         </dd><dt class="description">
     Expected standard output from the hook </dt><dd 
class="description">ClassAd of a job that can be run. If there is no work,
         the hook should return no output.
         </dd><dt class="description">
     User id that the hook runs as </dt><dd 
class="description">The  <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_FETCH_WORK</span> <a 
 id="dx51-439007"></a><a 
 id="dx51-439008"></a> hook  runs  with  the  same
         privileges as the <span class="textit">condor_startd</span>. When Condor was started as root, this is usually the condor
         user, or the user specified in the <span class="texttt">CONDOR_IDS</span> <a 
 id="dx51-439009"></a><a 
 id="dx51-439010"></a> configuration variable.
         </dd><dt class="description">
     Exit status of the hook </dt><dd 
class="description">Ignored.</dd></dl>
<a 
 id="dx51-439011"></a>
     </li>
     <li class="itemize">
                                                                                         

                                                                                         
     <!--l. 138--><p class="noindent" >The hook defined by the configuration variable <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_REPLY_FETCH</span> <a 
 id="dx51-439012"></a><a 
 id="dx51-439013"></a> is invoked whenever
     <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_FETCH_WORK</span> <a 
 id="dx51-439014"></a><a 
 id="dx51-439015"></a> returns data and the <span class="textit">condor_startd</span> decides if it is going to accept the fetched
     job or not.
     <!--l. 143--><p class="noindent" >The <span class="textit">condor_startd</span> will not wait for this hook to return before taking other actions, and it ignores all output.
     The hook is simply advisory, and it has no impact on the behavior of the <span class="textit">condor_startd</span>.
         <dl class="description"><dt class="description">
     Command-line arguments passed to the hook </dt><dd 
class="description">Either the string <span class="obeylines-h"><span class="verb">accept</span></span> or <span class="obeylines-h"><span class="verb">reject</span></span>.
         </dd><dt class="description">
     Standard input given to the hook </dt><dd 
class="description">A copy of the job ClassAd and the slot ClassAd (separated by
         the string <span class="obeylines-h"><span class="verb">-----</span></span> and a new line).
         </dd><dt class="description">
     Expected standard output from the hook </dt><dd 
class="description">None.
         </dd><dt class="description">
     User id that the hook runs as </dt><dd 
class="description">The  <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_REPLY_FETCH</span> <a 
 id="dx51-439016"></a><a 
 id="dx51-439017"></a> hook  runs  with  the  same
         privileges as the <span class="textit">condor_startd</span>. When Condor was started as root, this is usually the condor
         user, or the user specified in the <span class="texttt">CONDOR_IDS</span> <a 
 id="dx51-439018"></a><a 
 id="dx51-439019"></a> configuration variable.
         </dd><dt class="description">
     Exit status of the hook </dt><dd 
class="description">Ignored.</dd></dl>
<a 
 id="dx51-439020"></a>
     </li>
     <li class="itemize">
     <!--l. 173--><p class="noindent" >The hook defined by the configuration variable <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_EVICT_CLAIM</span> <a 
 id="dx51-439021"></a><a 
 id="dx51-439022"></a> is invoked whenever the
     <span class="textit">condor_startd</span> needs to evict a claim representing fetched work.
     <!--l. 177--><p class="noindent" >The <span class="textit">condor_startd</span> will not wait for this hook to return before taking other actions, and ignores all output.
     The hook is simply advisory, and has no impact on the behavior of the <span class="textit">condor_startd</span>.
         <dl class="description"><dt class="description">
     Command-line arguments passed to the hook </dt><dd 
class="description">None.
         </dd><dt class="description">
     Standard input given to the hook </dt><dd 
class="description">A copy of the job ClassAd and the slot ClassAd (separated by
         the string <span class="obeylines-h"><span class="verb">-----</span></span> and a new line).
         </dd><dt class="description">
     Expected standard output from the hook </dt><dd 
class="description">None.
         </dd><dt class="description">
     User id that the hook runs as </dt><dd 
class="description">The  <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_EVICT_CLAIM</span> <a 
 id="dx51-439023"></a><a 
 id="dx51-439024"></a> hook  runs  with  the  same
         privileges as the <span class="textit">condor_startd</span>. When Condor was started as root, this is usually the condor
         user, or the user specified in the <span class="texttt">CONDOR_IDS</span> <a 
 id="dx51-439025"></a><a 
 id="dx51-439026"></a> configuration variable.
         </dd><dt class="description">
     Exit status of the hook </dt><dd 
class="description">Ignored.</dd></dl>
                                                                                         

                                                                                         
<a 
 id="dx51-439027"></a>
     </li>
     <li class="itemize">
     <!--l. 207--><p class="noindent" >The hook defined by the configuration variable <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_PREPARE_JOB</span> <a 
 id="dx51-439028"></a><a 
 id="dx51-439029"></a> is invoked by the
     <span class="textit">condor_starter</span> before a job is going to be run. This hook provides a chance to execute commands to set up
     the job environment, for example, to transfer input files.
     <!--l. 213--><p class="noindent" >The <span class="textit">condor_starter</span> waits until this hook returns before attempting to execute the job. If the hook returns a
     non-zero exit status, the <span class="textit">condor_starter</span> will assume an error was reached while attempting to set up the job
     environment and abort the job.
         <dl class="description"><dt class="description">
     Command-line arguments passed to the hook </dt><dd 
class="description">None.
         </dd><dt class="description">
     Standard input given to the hook </dt><dd 
class="description">A copy of the job ClassAd.
         </dd><dt class="description">
     Expected standard output from the hook </dt><dd 
class="description">A set of attributes to insert or update into the job ad.
         For example, changing the <span class="texttt">Cmd</span> attribute to a quoted string changes the executable to be run.
         </dd><dt class="description">
     User id that the hook runs as </dt><dd 
class="description">The  <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_PREPARE_JOB</span> <a 
 id="dx51-439030"></a><a 
 id="dx51-439031"></a> hook  runs  with  the  same
         privileges as the job itself. If slot users are defined, the hook runs as the slot user, just as the job
         does.
         </dd><dt class="description">
     Exit status of the hook </dt><dd 
class="description">0 for success preparing the job, any non-zero value on failure.</dd></dl>
<a 
 id="dx51-439032"></a>
     </li>
     <li class="itemize">
     <!--l. 244--><p class="noindent" >The hook defined by the configuration variable <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_UPDATE_JOB_INFO</span> <a 
 id="dx51-439033"></a><a 
 id="dx51-439034"></a> is invoked periodically
     during the life of the job to update information about the status of the job. When the job is first spawned, the
     <span class="textit">condor_starter</span> will invoke this hook after <span class="texttt">STARTER_INITIAL_UPDATE_INTERVAL</span> <a 
 id="dx51-439035"></a><a 
 id="dx51-439036"></a> seconds (defaults to 8).
     Thereafter, the <span class="textit">condor_starter</span> will invoke the hook every <span class="texttt">STARTER_UPDATE_INTERVAL</span> <a 
 id="dx51-439037"></a><a 
 id="dx51-439038"></a> seconds (defaults to
     300, which is 5 minutes).
     <!--l. 254--><p class="noindent" >The <span class="textit">condor_starter</span> will not wait for this hook to return before taking other actions, and ignores all output.
     The hook is simply advisory, and has no impact on the behavior of the <span class="textit">condor_starter</span>.
         <dl class="description"><dt class="description">
     Command-line arguments passed to the hook </dt><dd 
class="description">None.
         </dd><dt class="description">
     Standard input given to the hook </dt><dd 
class="description">A  copy  of  the  job  ClassAd  that  has  been  augmented  with
         additional attributes describing the current status and execution behavior of the job.
         <!--l. 269--><p class="noindent" >The additional attributes included inside the job ClassAd are:
                                                                                         

                                                                                         
             <dl class="description"><dt class="description">
         <span class="texttt">JobState</span> </dt><dd 
class="description">The current state of the job. Can be either <span class="texttt">"Running"</span> or <span class="texttt">"Suspended"</span>.
             </dd><dt class="description">
         <span class="texttt">JobPid</span> </dt><dd 
class="description">The process identifier for the initial job directly spawned by the <span class="textit">condor_starter</span>.
             </dd><dt class="description">
         <span class="texttt">NumPids</span> </dt><dd 
class="description">The number of processes that the job has currently spawned.
             </dd><dt class="description">
         <span class="texttt">JobStartDate</span> </dt><dd 
class="description">The epoch time when the job was first spawned by the <span class="textit">condor_starter</span>.
             </dd><dt class="description">
         <span class="texttt">RemoteSysCpu</span> </dt><dd 
class="description">The total number of seconds of system CPU time (the time spent at system calls)
             the job has used.
             </dd><dt class="description">
         <span class="texttt">RemoteUserCpu</span> </dt><dd 
class="description">The total number of seconds of user CPU time the job has used.
             </dd><dt class="description">
         <span class="texttt">ImageSize</span> </dt><dd 
class="description">The memory image size of the job in Kbytes.</dd></dl>
         </dd><dt class="description">
     Expected standard output from the hook </dt><dd 
class="description">None.
         </dd><dt class="description">
     User id that the hook runs as </dt><dd 
class="description">The <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_UPDATE_JOB_INFO</span> <a 
 id="dx51-439039"></a><a 
 id="dx51-439040"></a> hook runs with the same
         privileges as the job itself.
         </dd><dt class="description">
     Exit status of the hook </dt><dd 
class="description">Ignored.</dd></dl>
<a 
 id="dx51-439041"></a>
     </li>
     <li class="itemize">
     <!--l. 311--><p class="noindent" >The hook defined by the configuration variable <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_JOB_EXIT</span> <a 
 id="dx51-439042"></a><a 
 id="dx51-439043"></a> is invoked by the
     <span class="textit">condor_starter</span> whenever a job exits, either on its own or when being evicted from an execution
     slot.
     <!--l. 316--><p class="noindent" >The <span class="textit">condor_starter</span> will wait for this hook to return before taking any other actions. In the case of jobs that
     are being managed by a <span class="textit">condor_shadow</span>, this hook is invoked before the <span class="textit">condor_starter</span> does its own optional
     file transfer back to the submission machine, writes to the local job event log file, or notifies the
     <span class="textit">condor_shadow</span> that the job has exited.
         <dl class="description"><dt class="description">
     Command-line arguments passed to the hook </dt><dd 
class="description">A string describing how the job exited:
             <ul class="itemize2">
             <li class="itemize"><span class="obeylines-h"><span class="verb">exit</span></span> The job exited or died with a signal on its own.
             </li>
             <li class="itemize"><span class="obeylines-h"><span class="verb">remove</span></span> The job was removed with <span class="textit">condor_rm</span> or as the result of user job policy expressions
             (for example, <span class="texttt">PeriodicRemove</span>).
                                                                                         

                                                                                         
             </li>
             <li class="itemize"><span class="obeylines-h"><span class="verb">hold</span></span> The job was held with <span class="textit">condor_hold</span> or the user job policy expressions (for example,
             <span class="texttt">PeriodicHold</span>).
             </li>
             <li class="itemize"><span class="obeylines-h"><span class="verb">evict</span></span> The job was evicted from the execution slot for any other reason (<span class="texttt">PREEMPT</span> <a 
 id="dx51-439044"></a><a 
 id="dx51-439045"></a> evaluated
             to TRUE in the <span class="textit">condor_startd</span>, <span class="textit">condor_vacate</span>, <span class="textit">condor_off </span>, etc).</li></ul>
         </dd><dt class="description">
     Standard input given to the hook </dt><dd 
class="description">A copy of the job ClassAd that has been augmented with additional
         attributes describing the execution behavior of the job and its final results.
         <!--l. 342--><p class="noindent" >The job ClassAd passed to this hook contains all of the extra attributes described above for
         <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_UPDATE_JOB_INFO</span> <a 
 id="dx51-439046"></a><a 
 id="dx51-439047"></a>, and the following additional attributes that are only present once a
         job exits:
             <dl class="description"><dt class="description">
         <span class="texttt">ExitReason</span> </dt><dd 
class="description">A human-readable string describing why the job exited.
             </dd><dt class="description">
         <span class="texttt">ExitBySignal</span> </dt><dd 
class="description">A boolean indicating if the job exited due to being killed by a signal, or if it exited
             with an exit status.
             </dd><dt class="description">
         <span class="texttt">ExitSignal</span> </dt><dd 
class="description">If <span class="texttt">ExitBySignal</span> is true, the signal number that killed the job.
             </dd><dt class="description">
         <span class="texttt">ExitCode</span> </dt><dd 
class="description">If <span class="texttt">ExitBySignal</span> is false, the integer exit code of the job.
             </dd><dt class="description">
         <span class="texttt">JobDuration</span> </dt><dd 
class="description">The number of seconds that the job ran during this invocation.</dd></dl>
         </dd><dt class="description">
     Expected standard output from the hook </dt><dd 
class="description">None.
         </dd><dt class="description">
     User id that the hook runs as </dt><dd 
class="description">The <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_JOB_EXIT</span> <a 
 id="dx51-439048"></a><a 
 id="dx51-439049"></a> hook runs with the same privileges as the
         job itself.
         </dd><dt class="description">
     Exit status of the hook </dt><dd 
class="description">Ignored.</dd></dl>
     </li></ul>
<!--l. 399--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x51-4400004.4.1"></a> Keywords to Define Job Fetch Hooks in the HTCondor Configuration files </h5>
<a 
 id="dx51-440001"></a>
<!--l. 403--><p class="noindent" >Hooks are defined in the HTCondor configuration files by prefixing the name of the hook with a keyword. This way,
a given machine can have multiple sets of hooks, each set identified by a specific keyword.
<!--l. 408--><p class="indent" >   Each slot on the machine can define a separate keyword for the set of hooks that should be used with
<span class="texttt">SLOT&#x003C;N&#x003E;_JOB_HOOK_KEYWORD</span> <a 
 id="dx51-440002"></a><a 
 id="dx51-440003"></a>. For example, on slot 1, the variable name will be called <span class="texttt">SLOT1_JOB_HOOK_KEYWORD</span>. If
                                                                                         

                                                                                         
the slot-specific keyword is not defined, the <span class="textit">condor_startd</span> will use a global keyword as defined by
<span class="texttt">STARTD_JOB_HOOK_KEYWORD</span> <a 
 id="dx51-440004"></a><a 
 id="dx51-440005"></a>.
<!--l. 415--><p class="indent" >   Once a job is fetched via <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_FETCH_WORK</span> <a 
 id="dx51-440006"></a><a 
 id="dx51-440007"></a>, the <span class="textit">condor_startd</span> will insert the keyword used to fetch
that job into the job ClassAd as <span class="texttt">HookKeyword</span>. This way, the same keyword will be used to select the hooks invoked
by the <span class="textit">condor_starter</span> during the actual execution of the job. However, the <span class="texttt">STARTER_JOB_HOOK_KEYWORD</span> <a 
 id="dx51-440008"></a><a 
 id="dx51-440009"></a> can be
defined to force the <span class="textit">condor_starter</span> to always use a given keyword for its own hooks, instead of looking the job
ClassAd for a <span class="texttt">HookKeyword</span> attribute.
<!--l. 425--><p class="indent" >   For example, the following configuration defines two sets of hooks, and on a machine with 4 slots, 3 of the slots
use the global keyword for running work from a database-driven system, and one of the slots uses a custom keyword
to handle work fetched from a web service.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-839">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Most</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;slots</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;fetch</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;and</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;run</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;work</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;from</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;database</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;system.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;STARTD_JOB_HOOK_KEYWORD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;DATABASE</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Slot4</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;fetches</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;and</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;runs</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;work</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;from</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;a</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;web</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;service.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;SLOT4_JOB_HOOK_KEYWORD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;WEB</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;The</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;database</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;system</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;needs</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;both</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;provide</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;work</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;and</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;know</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;reply</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;for</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;each</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;attempted</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;claim.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;DATABASE_HOOK_DIR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;/usr/local/condor/fetch/database</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;DATABASE_HOOK_FETCH_WORK</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(DATABASE_HOOK_DIR)/fetch_work.php</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;DATABASE_HOOK_REPLY_FETCH</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(DATABASE_HOOK_DIR)/reply_fetch.php</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;The</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;web</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;system</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;only</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;needs</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;fetch</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;work.</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;WEB_HOOK_DIR</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;/usr/local/condor/fetch/web</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;WEB_HOOK_FETCH_WORK</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(WEB_HOOK_DIR)/fetch_work.php</tspan>
</div>
<!--l. 446--><p class="nopar" >
<!--l. 449--><p class="indent" >   The keywords <span class="texttt">"DATABASE"</span> and <span class="texttt">"WEB"</span> are completely arbitrary, so each site is encouraged to use different (more
specific) names as appropriate for their own needs.
<!--l. 456--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x51-4410004.4.1"></a> Defining the FetchWorkDelay Expression</h5>
<a 
 id="dx51-441001"></a>
<!--l. 460--><p class="noindent" >There are two events that trigger the <span class="textit">condor_startd</span> to attempt to fetch new work:
     <ul class="itemize1">
     <li class="itemize">the <span class="textit">condor_startd</span> evaluates its own state
     </li>
     <li class="itemize">the <span class="textit">condor_starter</span> exits after completing some fetched work</li></ul>
<!--l. 467--><p class="indent" >   Even if a given compute slot is already busy running other work, it is possible that if it fetched new work,
the <span class="textit">condor_startd</span> would prefer this newly fetched work (via the <span class="texttt">Rank</span> expression) over the work it is
currently running. However, the <span class="textit">condor_startd</span> frequently evaluates its own state, especially when a slot is
claimed. Therefore, administrators can define a configuration variable which controls how long the
<span class="textit">condor_startd</span> will wait between attempts to fetch new work. This variable is called <span class="texttt">FetchWorkDelay</span>
<a 
 id="dx51-441002"></a><a 
 id="dx51-441003"></a>.
<!--l. 477--><p class="indent" >   The <span class="texttt">FetchWorkDelay</span> expression must evaluate to an integer, which defines the number of seconds since the last
fetch attempt completed before the <span class="textit">condor_startd</span> will attempt to fetch more work. However, as a ClassAd
expression (evaluated in the context of the ClassAd of the slot considering if it should fetch more work, and the
                                                                                         

                                                                                         
ClassAd of the currently running job, if any), the length of the delay can be based on the current state the slot and
even the currently running job.
<!--l. 486--><p class="indent" >   For example, a common configuration would be to always wait 5 minutes (300 seconds) between
attempts to fetch work, unless the slot is Claimed/Idle, in which case the <span class="textit">condor_startd</span> should fetch
immediately:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-840">
<tspan font-family="ectt" font-size="0800">FetchWorkDelay</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;ifThenElse(State</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;==</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"Claimed"</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;&amp;&amp;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Activity</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;==</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"Idle",</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0,</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;300)</tspan>
</div>
<!--l. 494--><p class="nopar" >
<!--l. 497--><p class="indent" >   If the <span class="textit">condor_startd</span> wants to fetch work, but the time since the last attempted fetch is shorter than the
current value of the delay expression, the <span class="textit">condor_startd</span> will set a timer to fetch as soon as the delay
expires.
<!--l. 502--><p class="indent" >   If this expression is not defined, the <span class="textit">condor_startd</span> will default to a five minute (300 second) delay between all
attempts to fetch work.
<!--l. 507--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x51-4420004.4.1"></a> Example Hook: Specifying the Executable at Execution Time</h5>
<a 
 id="dx51-442001"></a>
<!--l. 511--><p class="noindent" >The availability of multiple versions of an application leads to the need to specify one of the versions. As an
example, consider that the java universe utilizes a single, fixed JVM. There may be multiple JVMs
available, and the HTCondor job may need to make the choice of JVM version. The use of a job hook
solves this problem. The job does not use the java universe, and instead uses the vanilla universe in
combination with a prepare job hook to overwrite the <span class="texttt">Cmd</span> attribute of the job ClassAd. This attribute is the
name of the executable the <span class="textit">condor_starter</span> daemon will invoke, thereby selecting the specific JVM
installation.
<!--l. 525--><p class="indent" >   In the configuration of the execute machine:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-841">
<tspan font-family="ectt" font-size="0800">JAVA5_HOOK_PREPARE_JOB</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(LIBEXEC)/java5_prepare_hook</tspan>
</div>
<!--l. 530--><p class="nopar" >
<!--l. 533--><p class="indent" >   With this configuration, a job that sets the <span class="texttt">HookKeyword</span> attribute with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-842">
<tspan font-family="ectt" font-size="1000">+HookKeyword</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"JAVA5"</tspan>
</div>
<!--l. 537--><p class="nopar" >
<!--l. 539--><p class="indent" >   in the submit description file causes the <span class="textit">condor_starter</span> will run the hook specified by <span class="texttt">JAVA5_HOOK_PREPARE_JOB</span>
<a 
 id="dx51-442002"></a><a 
 id="dx51-442003"></a> before running this job. Note that the double quote marks are required to correctly define the attribute. Any
output from this hook is an update to the job ClassAd. Therefore, the hook that changes the executable may
be
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-843">
<tspan font-family="ectt" font-size="1000">#!/bin/sh</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">#</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Read</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;and</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;discard</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;the</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;job</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;ClassAd</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">cat</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;&#x003E;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;/dev/null</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">echo</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="tctt" font-size="1000">'</tspan><tspan font-family="ectt" font-size="1000">Cmd</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"/usr/java/java5/bin/java"</tspan><tspan font-family="tctt" font-size="1000">'</tspan>
</div>
<!--l. 553--><p class="nopar" >
<!--l. 555--><p class="indent" >   If some machines in your pool have this hook and others do not, this fact should be advertised. Add to the
configuration of every execute machine that has the hook:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-844">
<tspan font-family="ectt" font-size="1000">HasJava5PrepareHook</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">STARTD_ATTRS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;HasJava5PrepareHook</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(STARTD_ATTRS)</tspan>
</div>
<!--l. 562--><p class="nopar" >
<!--l. 564--><p class="indent" >   The submit description file for this example job may be
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-845">
<tspan font-family="ectt" font-size="0800">universe</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;vanilla</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">executable</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;/usr/bin/java</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">arguments</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Hello</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;match</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;with</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;a</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;machine</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;that</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;has</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;the</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;hook</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">requirements</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;HasJava5PrepareHook</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">should_transfer_files</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;always</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">when_to_transfer_output</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;on_exit</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">transfer_input_files</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Hello.class</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">output</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;hello.out</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">error</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;hello.err</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">log</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;hello.log</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">+HookKeyword="JAVA5"</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">queue</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
</div>
<!--l. 584--><p class="nopar" > Note that the <span class="textbf">requirements</span><a 
 id="dx51-442004"></a> command ensures that this job matches with a machine that has
<span class="texttt">JAVA5_HOOK_PREPARE_JOB</span> defined.
<!--l. 30--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.4.2   </span> <a 
 id="x51-4430004.4.2"></a> Hooks for a Job Router</h4>
<a 
 id="dx51-443001"></a>
<!--l. 34--><p class="noindent" >Job Router Hooks allow for an alternate transformation and/or monitoring than the <span class="textit">condor_job_router</span> daemon
implements. Routing is still managed by the <span class="textit">condor_job_router</span> daemon, but if the Job Router Hooks are specified,
then these hooks will be used to transform and monitor the job instead.
<!--l. 41--><p class="indent" >   Job Router Hooks are similar in concept to Fetch Work Hooks, but they are limited in their scope. A hook is an
external program or script invoked by the <span class="textit">condor_job_router</span> daemon at various points during the life cycle of a
routed job.
<!--l. 46--><p class="indent" >   The following sections describe how and when these hooks are used, what hooks are invoked at various stages of
the job&#8217;s life, and how to configure HTCondor to use these Hooks.
<!--l. 52--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x51-4440004.4.2"></a> Hooks Invoked for Job Routing</h5>
<a 
 id="dx51-444001"></a>
                                                                                         

                                                                                         
<!--l. 56--><p class="noindent" >The Job Router Hooks allow for replacement of the transformation engine used by HTCondor for routing a job.
Since the external transformation engine is not controlled by HTCondor, additional hooks provide a means to
update the job&#8217;s status in HTCondor, and to clean up upon exit or failure cases. This allows one job to be
transformed to just about any other type of job that HTCondor supports, as well as to use execution nodes not
normally available to HTCondor.
<!--l. 65--><p class="indent" >   It is important to note that if the Job Router Hooks are utilized, then HTCondor will not ignore or work around
a failure in any hook execution. If a hook is configured, then HTCondor assumes its invocation is required and will
not continue by falling back to a part of its internal engine. For example, if there is a problem transforming the job
using the hooks, HTCondor will not fall back on its transformation accomplished without the hook to process the
job.
<!--l. 75--><p class="indent" >   There are 2 ways in which the Job Router Hooks may be enabled. A job&#8217;s submit description file may cause the
hooks to be invoked with
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-846">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;+HookKeyword</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"HOOKNAME"</tspan>
</div>
<!--l. 80--><p class="nopar" > Adding this attribute to the job&#8217;s ClassAd causes the <span class="textit">condor_job_router</span> daemon on the submit machine to invoke
hooks prefixed with the defined keyword. <span class="texttt">HOOKNAME</span> is a string chosen as an example; any string may be
used.
<!--l. 86--><p class="indent" >   The job&#8217;s ClassAd attribute definition of <span class="texttt">HookKeyword</span> takes precedence, but if not present, hooks may be
enabled by defining on the submit machine the configuration variable
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-847">
<tspan font-family="ectt" font-size="0800">&#x00A0;JOB_ROUTER_HOOK_KEYWORD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;HOOKNAME</tspan>
</div>
<!--l. 93--><p class="nopar" > Like the example attribute above, <span class="texttt">HOOKNAME</span> represents a chosen name for the hook, replaced as desired or
appropriate.
<!--l. 99--><p class="indent" >   There are 4 hooks that the Job Router can be configured to use. Each hook will be described below along with
data passed to the hook and expected output. All hooks must exit successfully.
<a 
 id="dx51-444002"></a>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 108--><p class="noindent" >The hook defined by the configuration variable <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_TRANSLATE_JOB</span> <a 
 id="dx51-444003"></a><a 
 id="dx51-444004"></a> is invoked when the
     Job Router has determined that a job meets the definition for a route. This hook is responsible for
     doing the transformation of the job and configuring any resources that are external to HTCondor if
     applicable.
         <dl class="description"><dt class="description">
     Command-line arguments passed to the hook </dt><dd 
class="description">None.
         </dd><dt class="description">
     Standard input given to the hook </dt><dd 
class="description">The first line will be the route that the job matched as defined
         in HTCondor&#8217;s configuration files followed by the job ClassAd, separated by the string <span class="obeylines-h"><span class="verb">"------"</span></span>
         and a new line.
         </dd><dt class="description">
     Expected standard output from the hook </dt><dd 
class="description">The transformed job.
         </dd><dt class="description">
     Exit status of the hook </dt><dd 
class="description">0 for success, any non-zero value on failure.</dd></dl>
<a 
 id="dx51-444005"></a>
     </li>
     <li class="itemize">
     <!--l. 132--><p class="noindent" >The hook defined by the configuration variable <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_UPDATE_JOB_INFO</span> <a 
 id="dx51-444006"></a><a 
 id="dx51-444007"></a> is invoked to provide
     status on the specified routed job when the Job Router polls the status of routed jobs at intervals set by
     <span class="texttt">JOB_ROUTER_POLLING_PERIOD</span> <a 
 id="dx51-444008"></a><a 
 id="dx51-444009"></a>.
         <dl class="description"><dt class="description">
     Command-line arguments passed to the hook </dt><dd 
class="description">None.
                                                                                         

                                                                                         
         </dd><dt class="description">
     Standard input given to the hook </dt><dd 
class="description">The routed job ClassAd that is to be updated.
         </dd><dt class="description">
     Expected standard output from the hook </dt><dd 
class="description">The job attributes to be updated in the routed job,
         or nothing, if there was no update. To prevent clashing with HTCondor&#8217;s management of job
         attributes, only attributes that are not managed by HTCondor should be output from this hook.
         </dd><dt class="description">
     Exit status of the hook </dt><dd 
class="description">0 for success, any non-zero value on failure.</dd></dl>
<a 
 id="dx51-444010"></a>
     </li>
     <li class="itemize">
     <!--l. 157--><p class="noindent" >The hook defined by the configuration variable <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_JOB_FINALIZE</span> <a 
 id="dx51-444011"></a><a 
 id="dx51-444012"></a> is invoked when the Job
     Router has found that the job has completed. Any output from the hook is treated as an update to the source
     job.
         <dl class="description"><dt class="description">
     Command-line arguments passed to the hook </dt><dd 
class="description">None.
         </dd><dt class="description">
     Standard input given to the hook </dt><dd 
class="description">The source job ClassAd, followed by the routed copy Classad
         that completed, separated by the string <span class="obeylines-h"><span class="verb">"------"</span></span> and a new line.
         </dd><dt class="description">
     Expected standard output from the hook </dt><dd 
class="description">An updated source job ClassAd, or nothing if there
         was no update.
         </dd><dt class="description">
     Exit status of the hook </dt><dd 
class="description">0 for success, any non-zero value on failure.</dd></dl>
<a 
 id="dx51-444013"></a>
     </li>
     <li class="itemize">
     <!--l. 177--><p class="noindent" >The hook defined by the configuration variable <span class="texttt">&#x003C;Keyword&#x003E;_HOOK_JOB_CLEANUP</span> <a 
 id="dx51-444014"></a><a 
 id="dx51-444015"></a> is invoked when the Job
     Router finishes managing the job. This hook will be invoked regardless of whether the job completes
     successfully or not, and must exit successfully.
         <dl class="description"><dt class="description">
     Command-line arguments passed to the hook </dt><dd 
class="description">None.
         </dd><dt class="description">
     Standard input given to the hook </dt><dd 
class="description">The job ClassAd that the Job Router is done managing.
         </dd><dt class="description">
     Expected standard output from the hook </dt><dd 
class="description">None.
         </dd><dt class="description">
     Exit status of the hook </dt><dd 
class="description">0 for success, any non-zero value on failure.</dd></dl>
                                                                                         

                                                                                         
     </li></ul>
<!--l. 199--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.4.3   </span> <a 
 id="x51-4450004.4.3"></a> Daemon ClassAd Hooks</h4>
<a 
 id="dx51-445001"></a>
<a 
 id="dx51-445002"></a>
<a 
 id="dx51-445003"></a>
<a 
 id="dx51-445004"></a>
<a 
 id="dx51-445005"></a>
     <dl class="description"><dt class="description">
Overview </dt><dd 
class="description"></dd></dl>
<!--l. 212--><p class="noindent" >The <span class="textit">Daemon ClassAd Hook</span> mechanism is used to run executables (called jobs) directly from the <span class="textit">condor_startd</span> and
<span class="textit">condor_schedd</span> daemons. The output from these jobs is incorporated into the machine ClassAd generated by
the respective daemon. This mechanism and associated jobs have been identified by various names,
including the <span class="emph">Startd Cron</span>, dynamic attributes, and a distribution of executables collectively known as
<span class="emph">Hawkeye</span>.
<!--l. 221--><p class="indent" >   Pool management tasks can be enhanced by using a daemon&#8217;s ability to periodically run executables. The
executables are expected to generate ClassAd attributes as their output; these ClassAds are then incorporated into
the machine ClassAd. Policy expressions can then reference dynamic attributes (created by the ClassAd hook jobs)
in the machine ClassAd.
     <dl class="description"><dt class="description">
Job output </dt><dd 
class="description"></dd></dl>
<!--l. 233--><p class="indent" >   The output of the job is incorporated into one or more ClassAds when the job exits. When the job outputs the
special line:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-848">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;update:true</tspan>
</div>
<!--l. 238--><p class="nopar" > the output of the job is merged into all proper ClassAds, and an update goes to the <span class="textit">condor_collector</span>
daemon.
<!--l. 242--><p class="indent" >   As of version 8.3.0, it is possible for a <span class="emph">Startd Cron</span> job (but not a <span class="emph">Schedd Cron</span> job) to define multiple ClassAds,
using the mechanism defined below:
     <ul class="itemize1">
     <li class="itemize">An output line starting with <span class="texttt">&#8217;-&#8217;</span> has always indicated end-of-ClassAd. The <span class="texttt">&#8217;-&#8217;</span> can now be followed
     by a uniqueness tag to indicate the name of the ad that should be replaced by the new ad. This name
     is joined to the name of the <span class="emph">Startd Cron</span> job to produced a full name for the ad. This allows a single
     <span class="emph">Startd Cron</span> job to return multiple ads by giving each a unique name, and to replace multiple ads by
     using the same unique name as a previous invocation. The optional uniqueness tag can also be followed
     by the optional keyword <span class="texttt">update:&#x003C;bool&#x003E;</span>, which can be used to override the <span class="emph">Startd Cron</span> configuration
     and suppress or force immediate updates.
     <!--l. 261--><p class="noindent" >In other words, the syntax is:
     <!--l. 263--><p class="noindent" >- [<span class="textit">name</span>] [<span class="textbf">update:&#x00A0;&#x00A0;</span><span class="textit">bool</span>]
     </li>
     <li class="itemize">Each ad can contain one of four possible attributes to control what slot ads the ad is merged into when the
     <span class="textit">condor_startd</span> sends updates to the collector. These attributes are, in order of highest to lower priority (in
     other words, if <span class="texttt">SlotMergeConstraint</span> matches, the other attributes are not considered, and so
     on):
         <ul class="itemize2">
         <li class="itemize"><span class="textbf">SlotMergeConstraint&#x00A0;</span><span class="textit">expression</span>: the current ad is merged into all slot ads for which this
         expression is true. The expression is evaluated with the slot ad as the TARGET ad.
         </li>
         <li class="itemize"><span class="textbf">SlotName|Name&#x00A0;</span><span class="textit">string</span>: the current ad is merged into all slots whose <span class="texttt">Name</span> attributes match
         the value of <span class="texttt">SlotName</span> up to the length of <span class="texttt">SlotName</span>.
         </li>
         <li class="itemize"><span class="textbf">SlotTypeId&#x00A0;</span><span class="textit">integer</span>: the current ad is merged into all ads that have the same value for their
         <span class="texttt">SlotTypeId</span> attribute.
         </li>
         <li class="itemize"><span class="textbf">SlotId&#x00A0;</span><span class="textit">integer</span>: the current ad is merged into all ads that have the same value for their <span class="texttt">SlotId</span>
         attribute.</li></ul>
     </li></ul>
<!--l. 285--><p class="indent" >   For example, if the <span class="emph">Startd Cron</span> job returns:
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-849">
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Value=1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SlotId=1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-s1</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Value=2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;SlotId=2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-s2</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Value=10</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;update:true</tspan>
</div>
<!--l. 296--><p class="nopar" >
<!--l. 298--><p class="indent" >   it will set <span class="texttt">Value=10</span> for all slots except slot1 and slot2. On those slots it will set <span class="texttt">Value=1</span> and <span class="texttt">Value=2</span>
respectively. It will also send updates to the collector immediately.
     <dl class="description"><dt class="description">
Configuration </dt><dd 
class="description"></dd></dl>
<!--l. 307--><p class="indent" >   Configuration variables related to Daemon ClassAd Hooks are defined in section &#x00A0;<a 
href="ConfigurationMacros.html#x33-2270003.5.31">3.5.31<!--tex4ht:ref: sec:Config-hooks --></a>.
<!--l. 310--><p class="indent" >   Here is a complete configuration example. It defines all three of the available types of jobs: ones that use the
<span class="textit">condor_startd</span>, benchmark jobs, and ones that use the <span class="textit">condor_schedd</span>.
                                                                                         

                                                                                         
   <div class="verbatim" id="verbatim-850">
<tspan font-family="ectt" font-size="0800">#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Startd</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Cron</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Stuff</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;auxiliary</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;variable</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;to</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;use</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;in</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;identifying</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;locations</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;of</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;files</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">MODULES</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(ROOT)/modules</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_CONFIG_VAL</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(RELEASE_DIR)/bin/condor_config_val</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_MAX_JOB_LOAD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0.2</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_JOBLIST</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Test</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;job</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_JOBLIST</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(STARTD_CRON_JOBLIST)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;test</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_TEST_MODE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;OneShot</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_TEST_RECONFIG_RERUN</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_TEST_PREFIX</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;test_</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_TEST_EXECUTABLE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(MODULES)/test</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_TEST_KILL</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_TEST_ARGS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;abc</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;123</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_TEST_SLOTS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_TEST_JOB_LOAD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0.01</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;job</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">date</tspan><tspan font-family="tctt" font-size="0800">'</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_JOBLIST</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(STARTD_CRON_JOBLIST)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;date</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_DATE_MODE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Periodic</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_DATE_EXECUTABLE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(MODULES)/date</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_DATE_PERIOD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;15s</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_DATE_JOB_LOAD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0.01</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Job</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="tctt" font-size="0800">'</tspan><tspan font-family="ectt" font-size="0800">foo</tspan><tspan font-family="tctt" font-size="0800">'</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_JOBLIST</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(STARTD_CRON_JOBLIST)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;foo</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_FOO_EXECUTABLE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(MODULES)/foo</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_FOO_PREFIX</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Foo</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_FOO_MODE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Periodic</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_FOO_PERIOD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;10m</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">STARTD_CRON_FOO_JOB_LOAD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;0.2</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Benchmark</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Stuff</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">BENCHMARKS_JOBLIST</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;mips</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;kflops</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;MIPS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;benchmark</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">BENCHMARKS_MIPS_EXECUTABLE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(LIBEXEC)/condor_mips</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">BENCHMARKS_MIPS_JOB_LOAD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1.0</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;KFLOPS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;benchmark</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">BENCHMARKS_KFLOPS_EXECUTABLE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(LIBEXEC)/condor_kflops</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">BENCHMARKS_KFLOPS_JOB_LOAD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;1.0</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Schedd</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Cron</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Stuff</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SCHEDD_CRON_CONFIG_VAL</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(RELEASE_DIR)/bin/condor_config_val</tspan>
                                                                                         

                                                                                         
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SCHEDD_CRON_JOBLIST</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">#</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Test</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;job</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SCHEDD_CRON_JOBLIST</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(SCHEDD_CRON_JOBLIST)</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;test</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SCHEDD_CRON_TEST_MODE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;OneShot</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SCHEDD_CRON_TEST_RECONFIG_RERUN</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SCHEDD_CRON_TEST_PREFIX</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;test_</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SCHEDD_CRON_TEST_EXECUTABLE</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;$(MODULES)/test</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SCHEDD_CRON_TEST_PERIOD</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;5m</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SCHEDD_CRON_TEST_KILL</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;True</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="0800">SCHEDD_CRON_TEST_ARGS</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;=</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;abc</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;123</tspan>
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><br />
</div>
<!--l. 381--><p class="nopar" >
<a 
 id="dx51-445006"></a>
                                                                                         

                                                                                         
<!--l. 2--><p class="indent" >   <span style="font-size: 200%;"><a 
href="ComputingOnDemandCOD.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="ComputingOnDemandCOD.html#tailComputingOnDemandCOD.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Hooks.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="MiscellaneousConcepts.html#Hooks.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="LogginginHTCondor.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailHooks.html"></a>  
</body></html> 
